window.VTC = {
    "ditu": {
        "normal": {
            "version": "088",
            "updateDate": "20151026"
        },
        "satellite": {
            "version": "009",
            "updateDate": "20150601"
        },
        "normalTraffic": {
            "version": "081",
            "updateDate": "20150815"
        },
        "satelliteTraffic": {
            "version": "083",
            "updateDate": "20150815"
        },
        "mapJS": {
            "version": "104",
            "updateDate": "20151026"
        },
        "satelliteStreet": {
            "version": "083",
            "updateDate": "20150815"
        },
        "panoClick": {
            "version": "1033",
            "updateDate": "201400823"
        },
        "panoUdt": {
            "version": "20151022",
            "updateDate": "20151022"
        },
        "panoSwfAPI": {
            "version": "20150123",
            "updateDate": "20150123"
        },
        "panoSwfPlace": {
            "version": "20141112",
            "updateDate": "20141112"
        },
        "earthVector": {
            "version": "001",
            "updateDate": "20150826"
        }
    },
    "webapp": {
        "high_normal": {
            "version": "001",
            "updateDate": "20141209"
        },
        "lower_normal": {
            "version": "002",
            "updateDate": "20150529"
        }
    },
    "api_for_mobile": {
        "vector": {
            "version": "002",
            "updateDate": "20150529"
        },
        "vectorIcon": {
            "version": "002",
            "updateDate": "20150529"
        }
    }
};
window.BMAP_AUTHENTIC_KEY = "ndYEn2os3DVI5fW83tzaUkD4";
(function() {
    function aa(a) {
        throw a;
    }
    var j = void 0
      , o = !0
      , p = null 
      , q = !1;
    function s() {
        return function() {}
    }
    function ba(a) {
        return function(b) {
            this[a] = b
        }
    }
    function t(a) {
        return function() {
            return this[a]
        }
    }
    function ca(a) {
        return function() {
            return a
        }
    }
    var fa, ga = [];
    function ha(a) {
        return function() {
            return ga[a].apply(this, arguments)
        }
    }
    function ia(a, b) {
        return ga[a] = b
    }
    var ja, x = ja = x || {
        version: "1.3.4"
    };
    x.Q = "$BAIDU$";
    window[x.Q] = window[x.Q] || {};
    x.object = x.object || {};
    x.extend = x.object.extend = function(a, b) {
        for (var c in b)
            b.hasOwnProperty(c) && (a[c] = b[c]);
        return a
    }
    ;
    x.B = x.B || {};
    x.B.N = function(a) {
        return "string" == typeof a || a instanceof String ? document.getElementById(a) : a && a.nodeName && (1 == a.nodeType || 9 == a.nodeType) ? a : p
    }
    ;
    x.N = x.rc = x.B.N;
    x.B.J = function(a) {
        a = x.B.N(a);
        if (a === p)
            return a;
        a.style.display = "none";
        return a
    }
    ;
    x.J = x.B.J;
    x.lang = x.lang || {};
    x.lang.ig = function(a) {
        return "[object String]" == Object.prototype.toString.call(a)
    }
    ;
    x.ig = x.lang.ig;
    x.B.Bj = function(a) {
        return x.lang.ig(a) ? document.getElementById(a) : a
    }
    ;
    x.Bj = x.B.Bj;
    x.B.getElementsByClassName = function(a, b) {
        var c;
        if (a.getElementsByClassName)
            c = a.getElementsByClassName(b);
        else {
            var d = a;
            d == p && (d = document);
            c = [];
            var d = d.getElementsByTagName("*"), e = d.length, f = RegExp("(^|\\s)" + b + "(\\s|$)"), g, i;
            for (i = g = 0; g < e; g++)
                f.test(d[g].className) && (c[i] = d[g],
                i++)
        }
        return c
    }
    ;
    x.getElementsByClassName = x.B.getElementsByClassName;
    x.B.contains = function(a, b) {
        var c = x.B.Bj
          , a = c(a)
          , b = c(b);
        return a.contains ? a != b && a.contains(b) : !!(a.compareDocumentPosition(b) & 16)
    }
    ;
    x.S = x.S || {};
    /msie (\d+\.\d)/i.test(navigator.userAgent) && (x.S.ba = x.ba = document.documentMode || +RegExp.$1);
    var ka = {
        cellpadding: "cellPadding",
        cellspacing: "cellSpacing",
        colspan: "colSpan",
        rowspan: "rowSpan",
        valign: "vAlign",
        usemap: "useMap",
        frameborder: "frameBorder"
    };
    8 > x.S.ba ? (ka["for"] = "htmlFor",
    ka["class"] = "className") : (ka.htmlFor = "for",
    ka.className = "class");
    x.B.dG = ka;
    x.B.UE = function(a, b, c) {
        a = x.B.N(a);
        if (a === p)
            return a;
        if ("style" == b)
            a.style.cssText = c;
        else {
            b = x.B.dG[b] || b;
            a.setAttribute(b, c)
        }
        return a
    }
    ;
    x.UE = x.B.UE;
    x.B.VE = function(a, b) {
        a = x.B.N(a);
        if (a === p)
            return a;
        for (var c in b)
            x.B.UE(a, c, b[c]);
        return a
    }
    ;
    x.VE = x.B.VE;
    x.zk = x.zk || {};
    (function() {
        var a = RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)", "g");
        x.zk.trim = function(b) {
            return ("" + b).replace(a, "")
        }
    }
    )();
    x.trim = x.zk.trim;
    x.zk.Bo = function(a, b) {
        var a = "" + a
          , c = Array.prototype.slice.call(arguments, 1)
          , d = Object.prototype.toString;
        if (c.length) {
            c = c.length == 1 ? b !== p && /\[object Array\]|\[object Object\]/.test(d.call(b)) ? b : c : c;
            return a.replace(/#\{(.+?)\}/g, function(a, b) {
                var g = c[b];
                "[object Function]" == d.call(g) && (g = g(b));
                return "undefined" == typeof g ? "" : g
            }
            )
        }
        return a
    }
    ;
    x.Bo = x.zk.Bo;
    x.B.Pb = function(a, b) {
        a = x.B.N(a);
        if (a === p)
            return a;
        for (var c = a.className.split(/\s+/), d = b.split(/\s+/), e, f = d.length, g, i = 0; i < f; ++i) {
            g = 0;
            for (e = c.length; g < e; ++g)
                if (c[g] == d[i]) {
                    c.splice(g, 1);
                    break
                }
        }
        a.className = c.join(" ");
        return a
    }
    ;
    x.Pb = x.B.Pb;
    x.B.ox = function(a, b, c) {
        a = x.B.N(a);
        if (a === p)
            return a;
        var d;
        if (a.insertAdjacentHTML)
            a.insertAdjacentHTML(b, c);
        else {
            d = a.ownerDocument.createRange();
            b = b.toUpperCase();
            if (b == "AFTERBEGIN" || b == "BEFOREEND") {
                d.selectNodeContents(a);
                d.collapse(b == "AFTERBEGIN")
            } else {
                b = b == "BEFOREBEGIN";
                d[b ? "setStartBefore" : "setEndAfter"](a);
                d.collapse(b)
            }
            d.insertNode(d.createContextualFragment(c))
        }
        return a
    }
    ;
    x.ox = x.B.ox;
    x.B.show = function(a) {
        a = x.B.N(a);
        if (a === p)
            return a;
        a.style.display = "";
        return a
    }
    ;
    x.show = x.B.show;
    x.B.nD = function(a) {
        a = x.B.N(a);
        return a === p ? a : a.nodeType == 9 ? a : a.ownerDocument || a.document
    }
    ;
    x.B.Oa = function(a, b) {
        a = x.B.N(a);
        if (a === p)
            return a;
        for (var c = b.split(/\s+/), d = a.className, e = " " + d + " ", f = 0, g = c.length; f < g; f++)
            e.indexOf(" " + c[f] + " ") < 0 && (d = d + (" " + c[f]));
        a.className = d;
        return a
    }
    ;
    x.Oa = x.B.Oa;
    x.B.kB = x.B.kB || {};
    x.B.rl = x.B.rl || [];
    x.B.rl.filter = function(a, b, c) {
        for (var d = 0, e = x.B.rl, f; f = e[d]; d++)
            if (f = f[c])
                b = f(a, b);
        return b
    }
    ;
    x.zk.MN = function(a) {
        return a.indexOf("-") < 0 && a.indexOf("_") < 0 ? a : a.replace(/[-_][^-_]/g, function(a) {
            return a.charAt(1).toUpperCase()
        }
        )
    }
    ;
    x.B.TZ = function(a) {
        x.B.Js(a, "expand") ? x.B.Pb(a, "expand") : x.B.Oa(a, "expand")
    }
    ;
    x.B.Js = function(a) {
        if (arguments.length <= 0 || typeof a === "function")
            return this;
        if (this.size() <= 0)
            return q;
        var a = a.replace(/^\s+/g, "").replace(/\s+$/g, "").replace(/\s+/g, " "), b = a.split(" "), c;
        x.forEach(this, function(a) {
            for (var a = a.className, e = 0; e < b.length; e++)
                if (!~(" " + a + " ").indexOf(" " + b[e] + " ")) {
                    c = q;
                    return
                }
            c !== q && (c = o)
        }
        );
        return c
    }
    ;
    x.B.fj = function(a, b) {
        var c = x.B
          , a = c.N(a);
        if (a === p)
            return a;
        var b = x.zk.MN(b)
          , d = a.style[b];
        if (!d)
            var e = c.kB[b]
              , d = a.currentStyle || (x.S.ba ? a.style : getComputedStyle(a, p))
              , d = e && e.get ? e.get(a, d) : d[e || b];
        if (e = c.rl)
            d = e.filter(b, d, "get");
        return d
    }
    ;
    x.fj = x.B.fj;
    /opera\/(\d+\.\d)/i.test(navigator.userAgent) && (x.S.opera = +RegExp.$1);
    x.S.HL = /webkit/i.test(navigator.userAgent);
    x.S.AX = /gecko/i.test(navigator.userAgent) && !/like gecko/i.test(navigator.userAgent);
    x.S.$D = "CSS1Compat" == document.compatMode;
    x.B.V = function(a) {
        a = x.B.N(a);
        if (a === p)
            return a;
        var b = x.B.nD(a)
          , c = x.S
          , d = x.B.fj;
        c.AX > 0 && b.getBoxObjectFor && d(a, "position");
        var e = {
            left: 0,
            top: 0
        }, f;
        if (a == (c.ba && !c.$D ? b.body : b.documentElement))
            return e;
        if (a.getBoundingClientRect) {
            a = a.getBoundingClientRect();
            e.left = Math.floor(a.left) + Math.max(b.documentElement.scrollLeft, b.body.scrollLeft);
            e.top = Math.floor(a.top) + Math.max(b.documentElement.scrollTop, b.body.scrollTop);
            e.left = e.left - b.documentElement.clientLeft;
            e.top = e.top - b.documentElement.clientTop;
            a = b.body;
            b = parseInt(d(a, "borderLeftWidth"));
            d = parseInt(d(a, "borderTopWidth"));
            if (c.ba && !c.$D) {
                e.left = e.left - (isNaN(b) ? 2 : b);
                e.top = e.top - (isNaN(d) ? 2 : d)
            }
        } else {
            f = a;
            do {
                e.left = e.left + f.offsetLeft;
                e.top = e.top + f.offsetTop;
                if (c.HL > 0 && d(f, "position") == "fixed") {
                    e.left = e.left + b.body.scrollLeft;
                    e.top = e.top + b.body.scrollTop;
                    break
                }
                f = f.offsetParent
            } while (f && f != a);if (c.opera > 0 || c.HL > 0 && d(a, "position") == "absolute")
                e.top = e.top - b.body.offsetTop;
            for (f = a.offsetParent; f && f != b.body; ) {
                e.left = e.left - f.scrollLeft;
                if (!c.opera || f.tagName != "TR")
                    e.top = e.top - f.scrollTop;
                f = f.offsetParent
            }
        }
        return e
    }
    ;
    /firefox\/(\d+\.\d)/i.test(navigator.userAgent) && (x.S.fg = +RegExp.$1);
    /BIDUBrowser/i.test(navigator.userAgent) && (x.S.C0 = o);
    var la = navigator.userAgent;
    /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(la) && !/chrome/i.test(la) && (x.S.eN = +(RegExp.$1 || RegExp.$2));
    /chrome\/(\d+\.\d)/i.test(navigator.userAgent) && (x.S.EJ = +RegExp.$1);
    x.Yb = x.Yb || {};
    x.Yb.sb = function(a, b) {
        var c, d, e = a.length;
        if ("function" == typeof b)
            for (d = 0; d < e; d++) {
                c = a[d];
                c = b.call(a, c, d);
                if (c === q)
                    break
            }
        return a
    }
    ;
    x.sb = x.Yb.sb;
    x.lang.Q = function() {
        return "TANGRAM__" + (window[x.Q]._counter++).toString(36)
    }
    ;
    window[x.Q]._counter = window[x.Q]._counter || 1;
    window[x.Q]._instances = window[x.Q]._instances || {};
    x.lang.Rs = function(a) {
        return "[object Function]" == Object.prototype.toString.call(a)
    }
    ;
    x.lang.qa = function(a) {
        this.Q = a || x.lang.Q();
        window[x.Q]._instances[this.Q] = this
    }
    ;
    window[x.Q]._instances = window[x.Q]._instances || {};
    x.lang.qa.prototype.Th = ha(0);
    x.lang.qa.prototype.toString = function() {
        return "[object " + (this.PP || "Object") + "]"
    }
    ;
    x.lang.Hy = function(a, b) {
        this.type = a;
        this.returnValue = o;
        this.target = b || p;
        this.currentTarget = p
    }
    ;
    x.lang.qa.prototype.addEventListener = function(a, b, c) {
        if (x.lang.Rs(b)) {
            !b.Ik && (b.Ik = {});
            !this.vi && (this.vi = {});
            var d = this.vi, e;
            if (typeof c == "string" && c) {
                /[^\w\-]/.test(c) && aa("nonstandard key:" + c);
                e = b.hx = c
            }
            a.indexOf("on") != 0 && (a = "on" + a);
            typeof d[a] != "object" && (d[a] = {});
            typeof b.Ik[a] != "object" && (b.Ik[a] = {});
            e = e || x.lang.Q();
            b.Ik[a].hx = e;
            d[a][e] = b
        }
    }
    ;
    x.lang.qa.prototype.removeEventListener = function(a, b) {
        a.indexOf("on") != 0 && (a = "on" + a);
        if (x.lang.Rs(b)) {
            if (!b.Ik || !b.Ik[a])
                return;
            b = b.Ik[a].hx
        } else if (!x.lang.ig(b))
            return;
        !this.vi && (this.vi = {});
        var c = this.vi;
        c[a] && c[a][b] && delete c[a][b]
    }
    ;
    x.lang.qa.prototype.dispatchEvent = function(a, b) {
        x.lang.ig(a) && (a = new x.lang.Hy(a));
        !this.vi && (this.vi = {});
        var b = b || {}, c;
        for (c in b)
            a[c] = b[c];
        var d = this.vi
          , e = a.type;
        a.target = a.target || this;
        a.currentTarget = this;
        e.indexOf("on") != 0 && (e = "on" + e);
        x.lang.Rs(this[e]) && this[e].apply(this, arguments);
        if (typeof d[e] == "object")
            for (c in d[e])
                d[e][c].apply(this, arguments);
        return a.returnValue
    }
    ;
    x.lang.ia = function(a, b, c) {
        var d, e, f = a.prototype;
        e = new Function;
        e.prototype = b.prototype;
        e = a.prototype = new e;
        for (d in f)
            e[d] = f[d];
        a.prototype.constructor = a;
        a.KZ = b.prototype;
        if ("string" == typeof c)
            e.PP = c
    }
    ;
    x.ia = x.lang.ia;
    x.lang.Cc = function(a) {
        return window[x.Q]._instances[a] || p
    }
    ;
    x.platform = x.platform || {};
    x.platform.AL = /macintosh/i.test(navigator.userAgent);
    x.platform.k2 = /MicroMessenger/i.test(navigator.userAgent);
    x.platform.IL = /windows/i.test(navigator.userAgent);
    x.platform.IX = /x11/i.test(navigator.userAgent);
    x.platform.om = /android/i.test(navigator.userAgent);
    /android (\d+\.\d)/i.test(navigator.userAgent) && (x.platform.mJ = x.mJ = RegExp.$1);
    x.platform.CX = /ipad/i.test(navigator.userAgent);
    x.platform.WD = /iphone/i.test(navigator.userAgent);
    function ma(a, b) {
        a.domEvent = b = window.event || b;
        a.clientX = b.clientX || b.pageX;
        a.clientY = b.clientY || b.pageY;
        a.offsetX = b.offsetX || b.layerX;
        a.offsetY = b.offsetY || b.layerY;
        a.screenX = b.screenX;
        a.screenY = b.screenY;
        a.ctrlKey = b.ctrlKey || b.metaKey;
        a.shiftKey = b.shiftKey;
        a.altKey = b.altKey;
        if (b.touches) {
            a.touches = [];
            for (var c = 0; c < b.touches.length; c++)
                a.touches.push({
                    clientX: b.touches[c].clientX,
                    clientY: b.touches[c].clientY,
                    screenX: b.touches[c].screenX,
                    screenY: b.touches[c].screenY,
                    pageX: b.touches[c].pageX,
                    pageY: b.touches[c].pageY,
                    target: b.touches[c].target,
                    identifier: b.touches[c].identifier
                })
        }
        if (b.changedTouches) {
            a.changedTouches = [];
            for (c = 0; c < b.changedTouches.length; c++)
                a.changedTouches.push({
                    clientX: b.changedTouches[c].clientX,
                    clientY: b.changedTouches[c].clientY,
                    screenX: b.changedTouches[c].screenX,
                    screenY: b.changedTouches[c].screenY,
                    pageX: b.changedTouches[c].pageX,
                    pageY: b.changedTouches[c].pageY,
                    target: b.changedTouches[c].target,
                    identifier: b.changedTouches[c].identifier
                })
        }
        if (b.targetTouches) {
            a.targetTouches = [];
            for (c = 0; c < b.targetTouches.length; c++)
                a.targetTouches.push({
                    clientX: b.targetTouches[c].clientX,
                    clientY: b.targetTouches[c].clientY,
                    screenX: b.targetTouches[c].screenX,
                    screenY: b.targetTouches[c].screenY,
                    pageX: b.targetTouches[c].pageX,
                    pageY: b.targetTouches[c].pageY,
                    target: b.targetTouches[c].target,
                    identifier: b.targetTouches[c].identifier
                })
        }
        a.rotation = b.rotation;
        a.scale = b.scale;
        return a
    }
    x.lang.zw = function(a) {
        var b = window[x.Q];
        b.XR && delete b.XR[a]
    }
    ;
    x.event = {};
    x.F = x.event.F = function(a, b, c) {
        if (!(a = x.N(a)))
            return a;
        b = b.replace(/^on/, "");
        a.addEventListener ? a.addEventListener(b, c, q) : a.attachEvent && a.attachEvent("on" + b, c);
        return a
    }
    ;
    x.Sc = x.event.Sc = function(a, b, c) {
        if (!(a = x.N(a)))
            return a;
        b = b.replace(/^on/, "");
        a.removeEventListener ? a.removeEventListener(b, c, q) : a.detachEvent && a.detachEvent("on" + b, c);
        return a
    }
    ;
    x.B.Js = function(a, b) {
        if (!a || !a.className || typeof a.className != "string")
            return q;
        var c = -1;
        try {
            c = a.className == b || a.className.search(RegExp("(\\s|^)" + b + "(\\s|$)"))
        } catch (d) {
            return q
        }
        return c > -1
    }
    ;
    x.qK = function() {
        function a(a) {
            document.addEventListener && (this.element = a,
            this.tK = this.ik ? "touchstart" : "mousedown",
            this.WC = this.ik ? "touchmove" : "mousemove",
            this.VC = this.ik ? "touchend" : "mouseup",
            this.dh = q,
            this.Lt = this.Kt = 0,
            this.element.addEventListener(this.tK, this, q),
            ja.F(this.element, "mousedown", s()),
            this.handleEvent(p))
        }
        a.prototype = {
            ik: "ontouchstart" in window || "createTouch" in document,
            start: function(a) {
                na(a);
                this.dh = q;
                this.Kt = this.ik ? a.touches[0].clientX : a.clientX;
                this.Lt = this.ik ? a.touches[0].clientY : a.clientY;
                this.element.addEventListener(this.WC, this, q);
                this.element.addEventListener(this.VC, this, q)
            },
            move: function(a) {
                oa(a);
                var c = this.ik ? a.touches[0].clientY : a.clientY;
                if (10 < Math.abs((this.ik ? a.touches[0].clientX : a.clientX) - this.Kt) || 10 < Math.abs(c - this.Lt))
                    this.dh = o
            },
            end: function(a) {
                oa(a);
                this.dh || (a = document.createEvent("Event"),
                a.initEvent("tap", q, o),
                this.element.dispatchEvent(a));
                this.element.removeEventListener(this.WC, this, q);
                this.element.removeEventListener(this.VC, this, q)
            },
            handleEvent: function(a) {
                if (a)
                    switch (a.type) {
                    case this.tK:
                        this.start(a);
                        break;
                    case this.WC:
                        this.move(a);
                        break;
                    case this.VC:
                        this.end(a)
                    }
            }
        };
        return function(b) {
            return new a(b)
        }
    }
    ();
    var z = window.BMap || {};
    z.version = "2.0";
    z.XI = 0.34 > Math.random();
    0 <= z.version.indexOf("#") && (z.version = "2.0");
    z.jr = [];
    z.He = function(a) {
        this.jr.push(a)
    }
    ;
    z.Yq = [];
    z.Bm = function(a) {
        this.Yq.push(a)
    }
    ;
    z.jU = z.apiLoad || s();
    var pa = window.BMAP_AUTHENTIC_KEY;
    window.BMAP_AUTHENTIC_KEY = p;
    var qa = window.BMap_loadScriptTime
      , ra = (new Date).getTime()
      , sa = p
      , ua = o
      , va = p
      , wa = 5042
      , xa = 5002
      , ya = 5003
      , za = "load_mapclick"
      , Aa = 5038
      , Ba = 5041
      , Da = 5047
      , Ea = 5036
      , Fa = 5039
      , Ga = 5037
      , Ha = 5040
      , Ia = 5011
      , Ja = 7E3;
    function Ka(a, b) {
        if (a = x.N(a)) {
            var c = this;
            x.lang.qa.call(c);
            b = b || {};
            c.D = {
                RB: 200,
                Sb: o,
                Hw: q,
                OC: o,
                yo: o,
                zo: o,
                oK: o,
                QC: o,
                js: o,
                Fw: o,
                Ul: o,
                wo: b.enable3DBuilding || q,
                wc: 25,
                D_: 240,
                YT: 450,
                Lb: F.Lb,
                rd: F.rd,
                sx: !!b.sx,
                Ub: Math.round(b.minZoom) || 1,
                Nb: Math.round(b.maxZoom) || 19,
                wb: b.mapType || La,
                b3: q,
                Gw: o,
                Dw: 500,
                IV: b.enableHighResolution !== q,
                Zi: b.enableMapClick !== q,
                devicePixelRatio: b.devicePixelRatio || window.devicePixelRatio || 1,
                uF: b.vectorMapLevel || (G() ? 3 : 99),
                ie: b.mapStyle || p,
                SX: b.logoControl === q ? q : o,
                rU: [],
                ew: b.beforeClickIcon || p
            };
            c.D.ie && (this.rX(c.D.ie.controls),
            this.uL(c.D.ie.geotableId));
            c.D.ie && c.D.ie.styleId && c.U1(c.D.ie.styleId);
            c.D.Ml = {
                dark: {
                    backColor: "#2D2D2D",
                    textColor: "#bfbfbf",
                    iconUrl: "dicons"
                },
                normal: {
                    backColor: "#F3F1EC",
                    textColor: "#c61b1b",
                    iconUrl: "icons"
                },
                light: {
                    backColor: "#EBF8FC",
                    textColor: "#017fb4",
                    iconUrl: "licons"
                }
            };
            b.enableAutoResize && (c.D.Fw = b.enableAutoResize);
            b.enableStreetEntrance === q && (c.D.Ul = b.enableStreetEntrance);
            b.enableDeepZoom === q && (c.D.oK = b.enableDeepZoom);
            var d = c.D.rU;
            if (G())
                for (var e = 0, f = d.length; e < f; e++)
                    if (x.S[d[e]]) {
                        c.D.devicePixelRatio = 1;
                        break
                    }
            d = -1 < navigator.userAgent.toLowerCase().indexOf("android");
            e = -1 < navigator.userAgent.toLowerCase().indexOf("mqqbrowser");
            if (-1 < navigator.userAgent.toLowerCase().indexOf("UCBrowser") || d && e)
                c.D.uF = 99;
            c.Ja = a;
            c.dB(a);
            a.unselectable = "on";
            a.innerHTML = "";
            a.appendChild(c.ja());
            b.size && this.yd(b.size);
            d = c.kb();
            c.width = d.width;
            c.height = d.height;
            c.offsetX = 0;
            c.offsetY = 0;
            c.platform = a.firstChild;
            c.je = c.platform.firstChild;
            c.je.style.width = c.width + "px";
            c.je.style.height = c.height + "px";
            c.$d = {};
            c.Te = new H(0,0);
            c.kc = new H(0,0);
            c.wa = 3;
            c.xc = 0;
            c.jC = p;
            c.iC = p;
            c.Kb = "";
            c.kw = "";
            c.Bh = {};
            c.Bh.custom = {};
            c.Ia = 0;
            c.G = new Ma(a,{
                Bf: "api",
                bS: o
            });
            c.G.J();
            c.G.XE(c);
            b = b || {};
            d = c.wb = c.D.wb;
            c.le = d.Mo();
            d === Na && Oa(xa);
            d === Pa && Oa(ya);
            d = c.D;
            d.fO = Math.round(b.minZoom);
            d.eO = Math.round(b.maxZoom);
            c.Bu();
            c.H = {
                yc: q,
                Zb: 0,
                Vs: 0,
                ML: 0,
                o2: 0,
                KB: q,
                HE: -1,
                Be: []
            };
            c.platform.style.cursor = c.D.Lb;
            for (e = 0; e < z.jr.length; e++)
                z.jr[e](c);
            c.H.HE = e;
            c.P();
            I.load("map", function() {
                c.tb()
            }
            );
            c.D.Zi && (setTimeout(function() {
                Oa(za)
            }
            , 1E3),
            I.load("mapclick", function() {
                window.MPC_Mgr = window.MPC_Mgr || {};
                window.MPC_Mgr[c.Q] = new Ra(c)
            }
            , o));
            Sa() && I.load("oppc", function() {
                c.Xy()
            }
            );
            G() && I.load("opmb", function() {
                c.Xy()
            }
            );
            a = p;
            c.sB = []
        }
    }
    x.lang.ia(Ka, x.lang.qa, "Map");
    x.extend(Ka.prototype, {
        ja: function() {
            var a = K("div")
              , b = a.style;
            b.overflow = "visible";
            b.position = "absolute";
            b.zIndex = "0";
            b.top = b.left = "0px";
            var b = K("div", {
                "class": "BMap_mask"
            })
              , c = b.style;
            c.position = "absolute";
            c.top = c.left = "0px";
            c.zIndex = "9";
            c.overflow = "hidden";
            c.WebkitUserSelect = "none";
            a.appendChild(b);
            return a
        },
        dB: function(a) {
            var b = a.style;
            b.overflow = "hidden";
            "absolute" !== Ta(a).position && (b.position = "relative",
            b.zIndex = 0);
            b.backgroundColor = "#F3F1EC";
            b.color = "#000";
            b.textAlign = "left"
        },
        P: function() {
            var a = this;
            a.Er = function() {
                var b = a.kb();
                if (a.width !== b.width || a.height !== b.height) {
                    var c = new L(a.width,a.height)
                      , d = new N("onbeforeresize");
                    d.size = c;
                    a.dispatchEvent(d);
                    a.Rj((b.width - a.width) / 2, (b.height - a.height) / 2);
                    a.je.style.width = (a.width = b.width) + "px";
                    a.je.style.height = (a.height = b.height) + "px";
                    c = new N("onresize");
                    c.size = b;
                    a.dispatchEvent(c)
                }
            }
            ;
            a.D.Fw && (a.H.Ir = setInterval(a.Er, 80))
        },
        Rj: function(a, b, c, d) {
            var e = this.la().Bc(this.U())
              , f = this.le
              , g = o;
            c && H.zL(c) && (this.Te = new H(c.lng,c.lat),
            g = q);
            if (c = c && d ? f.sm(c, this.Kb) : this.kc)
                if (this.kc = new H(c.lng + a * e,c.lat - b * e),
                (a = f.bh(this.kc, this.Kb)) && g)
                    this.Te = a
        },
        sg: function(a, b) {
            if (Ua(a) && (this.Bu(),
            this.dispatchEvent(new N("onzoomstart")),
            a = this.En(a).zoom,
            a !== this.wa)) {
                this.xc = this.wa;
                this.wa = a;
                var c;
                b ? c = b : this.Vg() && (c = this.Vg().V());
                c && (c = this.Vb(c, this.xc),
                this.Rj(this.width / 2 - c.x, this.height / 2 - c.y, this.ob(c, this.xc), o));
                this.dispatchEvent(new N("onzoomstartcode"))
            }
        },
        Dc: function(a) {
            this.sg(a)
        },
        yF: function(a) {
            this.sg(this.wa + 1, a)
        },
        zF: function(a) {
            this.sg(this.wa - 1, a)
        },
        hi: function(a) {
            a instanceof H && (this.kc = this.le.sm(a, this.Kb),
            this.Te = H.zL(a) ? new H(a.lng,a.lat) : this.le.bh(this.kc, this.Kb))
        },
        mg: function(a, b) {
            a = Math.round(a) || 0;
            b = Math.round(b) || 0;
            this.Rj(-a, -b)
        },
        Uv: function(a) {
            a && Va(a.Oe) && (a.Oe(this),
            this.dispatchEvent(new N("onaddcontrol",a)))
        },
        TM: function(a) {
            a && Va(a.remove) && (a.remove(),
            this.dispatchEvent(new N("onremovecontrol",a)))
        },
        bo: function(a) {
            a && Va(a.fa) && (a.fa(this),
            this.dispatchEvent(new N("onaddcontextmenu",a)))
        },
        hp: function(a) {
            a && Va(a.remove) && (this.dispatchEvent(new N("onremovecontextmenu",a)),
            a.remove())
        },
        ya: function(a) {
            a && Va(a.Oe) && (a.Oe(this),
            this.dispatchEvent(new N("onaddoverlay",a)))
        },
        Hb: function(a) {
            a && Va(a.remove) && (a.remove(),
            this.dispatchEvent(new N("onremoveoverlay",a)))
        },
        HJ: function() {
            this.dispatchEvent(new N("onclearoverlays"))
        },
        Mg: function(a) {
            a && this.dispatchEvent(new N("onaddtilelayer",a))
        },
        lh: function(a) {
            a && this.dispatchEvent(new N("onremovetilelayer",a))
        },
        og: function(a) {
            if (this.wb !== a) {
                var b = new N("onsetmaptype");
                b.Q2 = this.wb;
                this.wb = this.D.wb = a;
                this.le = this.wb.Mo();
                this.Rj(0, 0, this.Aa(), o);
                this.Bu();
                var c = this.En(this.U()).zoom;
                this.sg(c);
                this.dispatchEvent(b);
                b = new N("onmaptypechange");
                b.wa = c;
                b.wb = a;
                this.dispatchEvent(b);
                (a === Wa || a === Pa) && Oa(ya)
            }
        },
        Jf: function(a) {
            var b = this;
            if (a instanceof H)
                b.hi(a, {
                    noAnimation: o
                });
            else if (Xa(a))
                if (b.wb === Na) {
                    var c = F.NB[a];
                    c && (pt = c.m,
                    b.Jf(pt))
                } else {
                    var d = this.iH();
                    d.$E(function(c) {
                        0 === d.cm() && 2 === d.ta.result.type && (b.Jf(c.gk(0).point),
                        Na.ck(a) && b.WE(a))
                    }
                    );
                    d.search(a, {
                        log: "center"
                    })
                }
        },
        be: function(a, b) {
            "[object Undefined]" !== Object.prototype.toString.call(b) && (b = parseInt(b));
            va = G() ? Za.si.Xj(z.XI ? 102 : 101) : Za.si.Xj(1);
            va.Mt();
            va.Sy = +new Date;
            va.cc("script_loaded", ra - qa);
            va.cc("centerAndZoom");
            z.uj("cus.fire", "time", {
                z_loadscripttime: ra - qa
            });
            var c = this;
            if (Xa(a))
                if (c.wb === Na) {
                    var d = F.NB[a];
                    d && (pt = d.m,
                    c.be(pt, b))
                } else {
                    var e = c.iH();
                    e.$E(function(d) {
                        if (0 === e.cm() && (2 === e.ta.result.type || 11 === e.ta.result.type)) {
                            var d = d.gk(0).point
                              , f = b || P.iD(e.ta.content.level, c);
                            c.be(d, f);
                            Na.ck(a) && c.WE(a)
                        }
                    }
                    );
                    e.search(a, {
                        log: "center"
                    })
                }
            else if (a instanceof H && b) {
                b = c.En(b).zoom;
                c.xc = c.wa || b;
                c.wa = b;
                d = c.Te;
                c.Te = new H(a.lng,a.lat);
                c.kc = c.le.sm(c.Te, c.Kb);
                c.jC = c.jC || c.wa;
                c.iC = c.iC || c.Te;
                var f = new N("onload")
                  , g = new N("onloadcode");
                f.point = new H(a.lng,a.lat);
                f.pixel = c.Vb(c.Te, c.wa);
                f.zoom = b;
                c.loaded || (c.loaded = o,
                c.dispatchEvent(f),
                sa || (sa = $a()));
                c.dispatchEvent(g);
                f = new N("onmoveend");
                f.LG = "centerAndZoom";
                d.$a(c.Te) || c.dispatchEvent(f);
                c.dispatchEvent(new N("onmoveend"));
                c.xc !== c.wa && (d = new N("onzoomend"),
                d.LG = "centerAndZoom",
                c.dispatchEvent(d));
                c.D.wo && c.wo()
            }
        },
        iH: function() {
            this.H.TL || (this.H.TL = new ab(1));
            return this.H.TL
        },
        reset: function() {
            this.be(this.iC, this.jC, o)
        },
        enableDragging: function() {
            this.D.Sb = o
        },
        disableDragging: function() {
            this.D.Sb = q
        },
        enableInertialDragging: function() {
            this.D.Gw = o
        },
        disableInertialDragging: function() {
            this.D.Gw = q
        },
        enableScrollWheelZoom: function() {
            this.D.zo = o
        },
        disableScrollWheelZoom: function() {
            this.D.zo = q
        },
        enableContinuousZoom: function() {
            this.D.yo = o
        },
        disableContinuousZoom: function() {
            this.D.yo = q
        },
        enableDoubleClickZoom: function() {
            this.D.OC = o
        },
        disableDoubleClickZoom: function() {
            this.D.OC = q
        },
        enableKeyboard: function() {
            this.D.Hw = o
        },
        disableKeyboard: function() {
            this.D.Hw = q
        },
        enablePinchToZoom: function() {
            this.D.js = o
        },
        disablePinchToZoom: function() {
            this.D.js = q
        },
        enableAutoResize: function() {
            this.D.Fw = o;
            this.Er();
            this.H.Ir || (this.H.Ir = setInterval(this.Er, 80))
        },
        disableAutoResize: function() {
            this.D.Fw = q;
            this.H.Ir && (clearInterval(this.H.Ir),
            this.H.Ir = p)
        },
        wo: function() {
            this.D.wo = o;
            this.qn || (this.qn = new bb({
                xK: o
            }),
            this.Mg(this.qn))
        },
        sV: function() {
            this.D.wo = q;
            this.qn && (this.lh(this.qn),
            this.qn = p,
            delete this.qn)
        },
        kb: function() {
            return this.Vr && this.Vr instanceof L ? new L(this.Vr.width,this.Vr.height) : new L(this.Ja.clientWidth,this.Ja.clientHeight)
        },
        yd: function(a) {
            a && a instanceof L ? (this.Vr = a,
            this.Ja.style.width = a.width + "px",
            this.Ja.style.height = a.height + "px") : this.Vr = p
        },
        Aa: t("Te"),
        U: t("wa"),
        JU: function() {
            this.Er()
        },
        En: function(a) {
            var b = this.D.Ub
              , c = this.D.Nb
              , d = q
              , a = Math.round(a);
            a < b && (d = o,
            a = b);
            a > c && (d = o,
            a = c);
            return {
                zoom: a,
                XC: d
            }
        },
        Da: t("Ja"),
        Vb: function(a, b) {
            b = b || this.U();
            return this.le.Vb(a, b, this.kc, this.kb(), this.Kb)
        },
        ob: function(a, b) {
            b = b || this.U();
            return this.le.ob(a, b, this.kc, this.kb(), this.Kb)
        },
        Ge: function(a, b) {
            if (a) {
                var c = this.Vb(new H(a.lng,a.lat), b);
                c.x -= this.offsetX;
                c.y -= this.offsetY;
                return c
            }
        },
        IM: function(a, b) {
            if (a) {
                var c = new Q(a.x,a.y);
                c.x += this.offsetX;
                c.y += this.offsetY;
                return this.ob(c, b)
            }
        },
        pointToPixelFor3D: function(a, b) {
            var c = map.Kb;
            this.wb === Na && c && db.NJ(a, this, b)
        },
        L2: function(a, b) {
            var c = map.Kb;
            this.wb === Na && c && db.MJ(a, this, b)
        },
        M2: function(a, b) {
            var c = this
              , d = map.Kb;
            c.wb === Na && d && db.NJ(a, c, function(a) {
                a.x -= c.offsetX;
                a.y -= c.offsetY;
                b && b(a)
            }
            )
        },
        K2: function(a, b) {
            var c = map.Kb;
            this.wb === Na && c && (a.x += this.offsetX,
            a.y += this.offsetY,
            db.MJ(a, this, b))
        },
        Pd: function(a) {
            if (!this.qx())
                return new eb;
            var b = a || {}
              , a = b.margins || [0, 0, 0, 0]
              , c = b.zoom || p
              , b = this.ob({
                x: a[3],
                y: this.height - a[2]
            }, c)
              , a = this.ob({
                x: this.width - a[1],
                y: a[0]
            }, c);
            return new eb(b,a)
        },
        qx: function() {
            return !!this.loaded
        },
        dR: function(a, b) {
            for (var c = this.la(), d = b.margins || [10, 10, 10, 10], e = b.zoomFactor || 0, f = d[1] + d[3], d = d[0] + d[2], g = c.Ho(), i = c = c.Zl(); i >= g; i--) {
                var k = this.la().Bc(i);
                if (a.nF().lng / k < this.width - f && a.nF().lat / k < this.height - d)
                    break
            }
            i += e;
            i < g && (i = g);
            i > c && (i = c);
            return i
        },
        Is: function(a, b) {
            var c = {
                center: this.Aa(),
                zoom: this.U()
            };
            if (!a || !a instanceof eb && 0 === a.length || a instanceof eb && a.kj())
                return c;
            var d = [];
            a instanceof eb ? (d.push(a.Cf()),
            d.push(a.Ee())) : d = a.slice(0);
            for (var b = b || {}, e = [], f = 0, g = d.length; f < g; f++)
                e.push(this.le.sm(d[f], this.Kb));
            d = new eb;
            for (f = e.length - 1; 0 <= f; f--)
                d.extend(e[f]);
            if (d.kj())
                return c;
            c = d.Aa();
            e = this.dR(d, b);
            b.margins && (d = b.margins,
            f = (d[1] - d[3]) / 2,
            d = (d[0] - d[2]) / 2,
            g = this.la().Bc(e),
            b.offset && (f = b.offset.width,
            d = b.offset.height),
            c.lng += g * f,
            c.lat += g * d);
            c = this.le.bh(c, this.Kb);
            return {
                center: c,
                zoom: e
            }
        },
        nh: function(a, b) {
            var c;
            c = a && a.center ? a : this.Is(a, b);
            var b = b || {}
              , d = b.delay || 200;
            if (c.zoom === this.wa && b.enableAnimation !== q) {
                var e = this;
                setTimeout(function() {
                    e.hi(c.center, {
                        duration: 210
                    })
                }
                , d)
            } else
                this.be(c.center, c.zoom)
        },
        Ef: t("$d"),
        Vg: function() {
            return this.H.ab && this.H.ab.Ka() ? this.H.ab : p
        },
        getDistance: function(a, b) {
            if (a && b) {
                if (a.$a(b))
                    return 0;
                var c = 0
                  , c = R.Fo(a, b);
                if (c === p || c === j)
                    c = 0;
                return c
            }
        },
        Yw: function() {
            var a = []
              , b = this.ka
              , c = this.ne;
            if (b)
                for (var d in b)
                    b[d] instanceof fb && a.push(b[d]);
            if (c) {
                d = 0;
                for (b = c.length; d < b; d++)
                    a.push(c[d])
            }
            return a
        },
        la: t("wb"),
        Xy: function() {
            for (var a = this.H.HE; a < z.jr.length; a++)
                z.jr[a](this);
            this.H.HE = a
        },
        WE: function(a) {
            this.Kb = Na.ck(a);
            this.kw = Na.JK(this.Kb);
            this.wb === Na && this.le instanceof gb && (this.le.cC = this.Kb)
        },
        setDefaultCursor: function(a) {
            this.D.Lb = a;
            this.platform && (this.platform.style.cursor = this.D.Lb)
        },
        getDefaultCursor: function() {
            return this.D.Lb
        },
        setDraggingCursor: function(a) {
            this.D.rd = a
        },
        getDraggingCursor: function() {
            return this.D.rd
        },
        jL: function() {
            return this.D.IV && 1.5 <= this.D.devicePixelRatio
        },
        Wv: function(a, b) {
            b ? this.Bh[b] || (this.Bh[b] = {}) : b = "custom";
            a.tag = b;
            a instanceof hb && (this.Bh[b][a.Q] = a,
            a.fa(this));
            var c = this;
            I.load("hotspot", function() {
                c.Xy()
            }
            , o)
        },
        EY: function(a, b) {
            b || (b = "custom");
            this.Bh[b][a.Q] && delete this.Bh[b][a.Q]
        },
        Kl: function(a) {
            a || (a = "custom");
            this.Bh[a] = {}
        },
        Bu: function() {
            var a = this.wb.Ho()
              , b = this.wb.Zl()
              , c = this.D;
            c.Ub = c.fO || a;
            c.Nb = c.eO || b;
            c.Ub < a && (c.Ub = a);
            c.Nb > b && (c.Nb = b)
        },
        setMinZoom: function(a) {
            a = Math.round(a);
            a > this.D.Nb && (a = this.D.Nb);
            this.D.fO = a;
            this.NI()
        },
        setMaxZoom: function(a) {
            a = Math.round(a);
            a < this.D.Ub && (a = this.D.Ub);
            this.D.eO = a;
            this.NI()
        },
        NI: function() {
            this.Bu();
            var a = this.D;
            this.wa < a.Ub ? this.Dc(a.Ub) : this.wa > a.Nb && this.Dc(a.Nb);
            var b = new N("onzoomspanchange");
            b.Ub = a.Ub;
            b.Nb = a.Nb;
            this.dispatchEvent(b)
        },
        W1: t("sB"),
        getKey: function() {
            return pa
        },
        wt: function(a) {
            var b = this;
            window.MPC_Mgr && window.MPC_Mgr[b.Q] && window.MPC_Mgr[b.Q].close();
            b.D.Zi = q;
            z.uj("cus.fire", "count", "z_setmapstylecount");
            if (a) {
                b = this;
                a.styleJson && (a.styleStr = b.HZ(a.styleJson));
                G() && x.S.eN ? setTimeout(function() {
                    b.D.ie = a;
                    b.dispatchEvent(new N("onsetcustomstyles",a))
                }
                , 50) : (this.D.ie = a,
                this.dispatchEvent(new N("onsetcustomstyles",a)),
                this.uL(b.D.ie.geotableId));
                var c = {
                    style: a.style
                };
                a.features && 0 < a.features.length && (c.features = o);
                a.styleJson && 0 < a.styleJson.length && (c.styleJson = o);
                Oa(5050, c);
                a.style && (c = b.D.Ml[a.style] ? b.D.Ml[a.style].backColor : b.D.Ml.normal.backColor) && (this.Da().style.backgroundColor = c)
            }
        },
        rX: function(a) {
            this.controls || (this.controls = {
                navigationControl: new ib,
                scaleControl: new jb,
                overviewMapControl: new kb,
                mapTypeControl: new lb
            });
            var b = this, c;
            for (c in this.controls)
                b.TM(b.controls[c]);
            a = a || [];
            x.Yb.sb(a, function(a) {
                b.Uv(b.controls[a])
            }
            )
        },
        uL: function(a) {
            a ? this.Tr && this.Tr.jf === a || (this.lh(this.Tr),
            this.Tr = new mb({
                geotableId: a
            }),
            this.Mg(this.Tr)) : this.lh(this.Tr)
        },
        Jb: function() {
            var a = this.U() >= this.D.uF && this.la() === La && 18 >= this.U()
              , b = q;
            try {
                document.createElement("canvas").getContext("2d"),
                b = o
            } catch (c) {
                b = q
            }
            return a && b
        },
        getCurrentCity: function() {
            return {
                name: this.no,
                code: this.HB
            }
        },
        $l: function() {
            this.G.Jn();
            return this.G
        },
        setPanorama: function(a) {
            this.G = a;
            this.G.XE(this)
        },
        HZ: function(a) {
            for (var b = {
                featureType: "t",
                elementType: "e",
                visibility: "v",
                color: "c",
                lightness: "l",
                saturation: "s",
                weight: "w",
                zoom: "z",
                hue: "h"
            }, c = {
                all: "all",
                geometry: "g",
                "geometry.fill": "g.f",
                "geometry.stroke": "g.s",
                labels: "l",
                "labels.text.fill": "l.t.f",
                "labels.text.stroke": "l.t.s",
                "lables.text": "l.t",
                "labels.icon": "l.i"
            }, d = [], e = 0, f; f = a[e]; e++) {
                var g = f.stylers;
                delete f.stylers;
                x.extend(f, g);
                var g = [], i;
                for (i in b)
                    f[i] && ("elementType" === i ? g.push(b[i] + ":" + c[f[i]]) : g.push(b[i] + ":" + f[i]));
                2 < g.length && d.push(g.join("|"))
            }
            return d.join(",")
        }
    });
    function Oa(a, b) {
        if (a) {
            var b = b || {}, c = "", d;
            for (d in b)
                c = c + "&" + d + "=" + encodeURIComponent(b[d]);
            var e = function(a) {
                a && (nb = o,
                setTimeout(function() {
                    ob.src = z.vc + "images/blank.gif?" + a.src
                }
                , 50))
            }
              , f = function() {
                var a = pb.shift();
                a && e(a)
            }
            ;
            d = (1E8 * Math.random()).toFixed(0);
            nb ? pb.push({
                src: "product=jsapi&sub_product=jsapi&v=" + z.version + "&sub_product_v=" + z.version + "&t=" + d + "&code=" + a + "&da_src=" + a + c
            }) : e({
                src: "product=jsapi&sub_product=jsapi&v=" + z.version + "&sub_product_v=" + z.version + "&t=" + d + "&code=" + a + "&da_src=" + a + c
            });
            qb || (x.F(ob, "load", function() {
                nb = q;
                f()
            }
            ),
            x.F(ob, "error", function() {
                nb = q;
                f()
            }
            ),
            qb = o)
        }
    }
    var nb, qb, pb = [], ob = new Image;
    Oa(5E3, {
        device_pixel_ratio: window.devicePixelRatio,
        platform: navigator.platform
    });
    z.oL = {
        TILE_BASE_URLS: ["ss0.baidu.com/5bwHcj7lABFU8t_jkk_Z1zRvfdw6buu", "ss0.baidu.com/5bwHcj7lABFV8t_jkk_Z1zRvfdw6buu", "ss0.baidu.com/5bwHcj7lABFS8t_jkk_Z1zRvfdw6buu", "ss0.bdstatic.com/5bwHcj7lABFT8t_jkk_Z1zRvfdw6buu", "ss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu"],
        TILE_ONLINE_URLS: ["ss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv", "ss0.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv", "ss0.bdstatic.com/8bo_dTSlRcgBo1vgoIiO_jowehsv", "ss0.bdstatic.com/8bo_dTSlRsgBo1vgoIiO_jowehsv", "ss0.bdstatic.com/8bo_dTSlQ1gBo1vgoIiO_jowehsv"],
        TIlE_PERSPECT_URLS: ["ss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a", "ss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a", "ss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a", "ss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"],
        geolocControl: "sp2.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3",
        TILES_YUN_HOST: ["sp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy", "sp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy", "sp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy", "sp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"],
        traffic: "sp0.baidu.com/7_AZsjOpB1gCo2Kml5_Y_D3",
        iw_pano: "ss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_",
        message: "sp0.baidu.com/7vo0bSba2gU2pMbgoY3K",
        baidumap: "sp0.baidu.com/80MWsjip0QIZ8tyhnq",
        wuxian: "sp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a",
        pano: ["ss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_", "ss0.bdstatic.com/5LUZemfa_QUU8t7mm9GUKT-xh_", "ss0.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_"],
        main_domain_nocdn: {
            baidu: "sp0.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3",
            other: "sapi.map.baidu.com"
        },
        main_domain_cdn: {
            baidu: ["ss0.bdstatic.com/9_Q4vHSd2RZ3otebn9fN2DJv", "ss0.baidu.com/9_Q4vXSd2RZ3otebn9fN2DJv", "ss0.bdstatic.com/9_Q4vnSd2RZ3otebn9fN2DJv"],
            other: ["sapi.map.baidu.com"],
            webmap: ["ss0.baidu.com/6b1IcTe9R1gBo1vgoIiO_jowehsv"]
        },
        map_click: "sp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK",
        vector_traffic: "ss0.bdstatic.com/8aZ1cTe9KgQIm2_p8IuM_a"
    };
    z.mX = {
        TILE_BASE_URLS: ["shangetu0.map.bdimg.com", "shangetu1.map.bdimg.com", "shangetu2.map.bdimg.com", "shangetu3.map.bdimg.com", "shangetu4.map.bdimg.com"],
        TILE_ONLINE_URLS: ["online0.map.bdimg.com", "online1.map.bdimg.com", "online2.map.bdimg.com", "online3.map.bdimg.com", "online4.map.bdimg.com"],
        TIlE_PERSPECT_URLS: ["d0.map.baidu.com", "d1.map.baidu.com", "d2.map.baidu.com", "d3.map.baidu.com"],
        geolocControl: "loc.map.baidu.com",
        TILES_YUN_HOST: ["g0.api.map.baidu.com", "g1.api.map.baidu.com", "g2.api.map.baidu.com", "g3.api.map.baidu.com"],
        traffic: "its.map.baidu.com",
        iw_pano: "pcsv0.map.bdimg.com",
        message: "j.map.baidu.com",
        baidumap: "map.baidu.com",
        wuxian: "wuxian.baidu.com",
        pano: ["pcsv0.map.bdimg.com", "pcsv1.map.bdimg.com", "pcsv2.map.bdimg.com"],
        main_domain_nocdn: {
            baidu: "api.map.baidu.com"
        },
        main_domain_cdn: {
            baidu: ["api0.map.bdimg.com", "api1.map.bdimg.com", "api2.map.bdimg.com"],
            webmap: ["webmap0.map.bdimg.com"]
        },
        map_click: "mapclick.map.baidu.com",
        vector_traffic: "or.map.bdimg.com"
    };
    z.j_ = {
        "0": {
            proto: "http://",
            domain: z.mX
        },
        1: {
            proto: "https://",
            domain: z.oL
        },
        2: {
            proto: "https://",
            domain: z.oL
        }
    };
    z.Yt = window.HOST_TYPE || "0";
    z.url = z.j_[z.Yt];
    z.$o = z.url.proto + z.url.domain.baidumap + "/";
    z.vc = z.url.proto + ("2" == z.Yt ? z.url.domain.main_domain_nocdn.other : z.url.domain.main_domain_nocdn.baidu) + "/";
    z.ca = z.url.proto + ("2" == z.Yt ? z.url.domain.main_domain_cdn.other[0] : z.url.domain.main_domain_cdn.baidu[0]) + "/";
    z.El = z.url.proto + z.url.domain.main_domain_cdn.webmap[0] + "/";
    z.hg = function(a, b) {
        var c, d, b = b || "";
        switch (a) {
        case "main_domain_nocdn":
            c = z.vc + b;
            break;
        case "main_domain_cdn":
            c = z.ca + b;
            break;
        default:
            d = z.url.domain[a],
            "[object Array]" == Object.prototype.toString.call(d) ? (c = [],
            x.Yb.sb(d, function(a, d) {
                c[d] = z.url.proto + a + "/" + b
            }
            )) : c = z.url.proto + z.url.domain[a] + "/" + b
        }
        return c
    }
    ;
    function sb(a) {
        var b = {
            duration: 1E3,
            wc: 30,
            so: 0,
            Xb: tb.QL,
            bt: s()
        };
        this.Nf = [];
        if (a)
            for (var c in a)
                b[c] = a[c];
        this.k = b;
        if (Ua(b.so)) {
            var d = this;
            setTimeout(function() {
                d.start()
            }
            , b.so)
        } else
            b.so != ub && this.start()
    }
    var ub = "INFINITE";
    sb.prototype.start = function() {
        this.uu = $a();
        this.Ez = this.uu + this.k.duration;
        vb(this)
    }
    ;
    sb.prototype.add = function(a) {
        this.Nf.push(a)
    }
    ;
    function vb(a) {
        var b = $a();
        b >= a.Ez ? (Va(a.k.ja) && a.k.ja(a.k.Xb(1)),
        Va(a.k.finish) && a.k.finish(),
        0 < a.Nf.length && (b = a.Nf[0],
        b.Nf = [].concat(a.Nf.slice(1)),
        b.start())) : (a.$x = a.k.Xb((b - a.uu) / a.k.duration),
        Va(a.k.ja) && a.k.ja(a.$x),
        a.iF || (a.zr = setTimeout(function() {
            vb(a)
        }
        , 1E3 / a.k.wc)))
    }
    sb.prototype.stop = function(a) {
        this.iF = o;
        for (var b = 0; b < this.Nf.length; b++)
            this.Nf[b].stop(),
            this.Nf[b] = p;
        this.Nf.length = 0;
        this.zr && (clearTimeout(this.zr),
        this.zr = p);
        this.k.bt(this.$x);
        a && (this.Ez = this.uu,
        vb(this))
    }
    ;
    sb.prototype.cancel = ha(1);
    var tb = {
        QL: function(a) {
            return a
        },
        reverse: function(a) {
            return 1 - a
        },
        JC: function(a) {
            return a * a
        },
        IC: function(a) {
            return Math.pow(a, 3)
        },
        hs: function(a) {
            return -(a * (a - 2))
        },
        mK: function(a) {
            return Math.pow(a - 1, 3) + 1
        },
        lK: function(a) {
            return 0.5 > a ? 2 * a * a : -2 * (a - 2) * a - 1
        },
        a1: function(a) {
            return 0.5 > a ? 4 * Math.pow(a, 3) : 4 * Math.pow(a - 1, 3) + 1
        },
        b1: function(a) {
            return (1 - Math.cos(Math.PI * a)) / 2
        }
    };
    tb["ease-in"] = tb.JC;
    tb["ease-out"] = tb.hs;
    var F = {
        CF: 34,
        DF: 21,
        EF: new L(21,32),
        vO: new L(10,32),
        uO: new L(24,36),
        tO: new L(12,36),
        AF: new L(13,1),
        ea: z.ca + "images/",
        f2: "http://api0.map.bdimg.com/images/",
        BF: z.ca + "images/markers_new.png",
        rO: 24,
        sO: 73,
        NB: {
            "\u5317\u4eac": {
                Qx: "bj",
                m: new H(116.403874,39.914889)
            },
            "\u4e0a\u6d77": {
                Qx: "sh",
                m: new H(121.487899,31.249162)
            },
            "\u6df1\u5733": {
                Qx: "sz",
                m: new H(114.025974,22.546054)
            },
            "\u5e7f\u5dde": {
                Qx: "gz",
                m: new H(113.30765,23.120049)
            }
        },
        fontFamily: "arial,sans-serif"
    };
    x.S.fg ? (x.extend(F, {
        bK: "url(" + F.ea + "ruler.cur),crosshair",
        Lb: "-moz-grab",
        rd: "-moz-grabbing"
    }),
    x.platform.IL && (F.fontFamily = "arial,simsun,sans-serif")) : x.S.EJ || x.S.eN ? x.extend(F, {
        bK: "url(" + F.ea + "ruler.cur) 2 6,crosshair",
        Lb: "url(" + F.ea + "openhand.cur) 8 8,default",
        rd: "url(" + F.ea + "closedhand.cur) 8 8,move"
    }) : x.extend(F, {
        bK: "url(" + F.ea + "ruler.cur),crosshair",
        Lb: "url(" + F.ea + "openhand.cur),default",
        rd: "url(" + F.ea + "closedhand.cur),move"
    });
    function wb(a, b) {
        var c = a.style;
        c.left = b[0] + "px";
        c.top = b[1] + "px"
    }
    function xb(a) {
        0 < x.S.ba ? a.unselectable = "on" : a.style.MozUserSelect = "none"
    }
    function yb(a) {
        return a && a.parentNode && 11 !== a.parentNode.nodeType
    }
    function zb(a, b) {
        x.B.ox(a, "beforeEnd", b);
        return a.lastChild
    }
    function Ab(a) {
        for (var b = {
            left: 0,
            top: 0
        }; a && a.offsetParent; )
            b.left += a.offsetLeft,
            b.top += a.offsetTop,
            a = a.offsetParent;
        return b
    }
    function na(a) {
        a = window.event || a;
        a.stopPropagation ? a.stopPropagation() : a.cancelBubble = o
    }
    function Bb(a) {
        a = window.event || a;
        a.preventDefault ? a.preventDefault() : a.returnValue = q;
        return q
    }
    function oa(a) {
        na(a);
        return Bb(a)
    }
    function Cb() {
        var a = document.documentElement
          , b = document.body;
        return a && (a.scrollTop || a.scrollLeft) ? [a.scrollTop, a.scrollLeft] : b ? [b.scrollTop, b.scrollLeft] : [0, 0]
    }
    function Db(a, b) {
        if (a && b)
            return Math.round(Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2)))
    }
    function Eb(a, b) {
        var c = [], b = b || function(a) {
            return a
        }
        , d;
        for (d in a)
            c.push(d + "=" + b(a[d]));
        return c.join("&")
    }
    function K(a, b, c) {
        var d = document.createElement(a);
        c && (d = document.createElementNS(c, a));
        return x.B.VE(d, b || {})
    }
    function Ta(a) {
        if (a.currentStyle)
            return a.currentStyle;
        if (a.ownerDocument && a.ownerDocument.defaultView)
            return a.ownerDocument.defaultView.getComputedStyle(a, p)
    }
    function Va(a) {
        return "function" === typeof a
    }
    function Ua(a) {
        return "number" === typeof a
    }
    function Xa(a) {
        return "string" == typeof a
    }
    function Fb(a) {
        return "undefined" != typeof a
    }
    function Gb(a) {
        return "object" == typeof a
    }
    var Hb = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    function Ib(a) {
        var b = "", c, d, e = "", f, g = "", i = 0;
        f = /[^A-Za-z0-9\+\/\=]/g;
        if (!a || f.exec(a))
            return a;
        a = a.replace(/[^A-Za-z0-9\+\/\=]/g, "");
        do
            c = Hb.indexOf(a.charAt(i++)),
            d = Hb.indexOf(a.charAt(i++)),
            f = Hb.indexOf(a.charAt(i++)),
            g = Hb.indexOf(a.charAt(i++)),
            c = c << 2 | d >> 4,
            d = (d & 15) << 4 | f >> 2,
            e = (f & 3) << 6 | g,
            b += String.fromCharCode(c),
            64 != f && (b += String.fromCharCode(d)),
            64 != g && (b += String.fromCharCode(e));
        while (i < a.length);return b
    }
    var N = x.lang.Hy;
    function G() {
        return !(!x.platform.WD && !x.platform.CX && !x.platform.om)
    }
    function Sa() {
        return !(!x.platform.IL && !x.platform.AL && !x.platform.IX)
    }
    function $a() {
        return (new Date).getTime()
    }
    function Jb() {
        var a = document.body.appendChild(K("div"));
        a.innerHTML = '<v:shape id="vml_tester1" adj="1" />';
        var b = a.firstChild;
        if (!b.style)
            return q;
        b.style.behavior = "url(#default#VML)";
        b = b ? "object" === typeof b.adj : o;
        a.parentNode.removeChild(a);
        return b
    }
    function Kb() {
        return !!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape", "1.1")
    }
    function Lb() {
        return !!K("canvas").getContext
    }
    function Mb(a) {
        return a * Math.PI / 180
    }
    z.RX = function() {
        var a = o
          , b = o
          , c = o
          , d = o
          , e = 0
          , f = 0
          , g = 0
          , i = 0;
        return {
            $P: function() {
                e += 1;
                a && (a = q,
                setTimeout(function() {
                    Oa(5054, {
                        pic: e
                    });
                    a = o;
                    e = 0
                }
                , 1E4))
            },
            P_: function() {
                f += 1;
                b && (b = q,
                setTimeout(function() {
                    Oa(5055, {
                        move: f
                    });
                    b = o;
                    f = 0
                }
                , 1E4))
            },
            R_: function() {
                g += 1;
                c && (c = q,
                setTimeout(function() {
                    Oa(5056, {
                        zoom: g
                    });
                    c = o;
                    g = 0
                }
                , 1E4))
            },
            Q_: function(a) {
                i += a;
                d && (d = q,
                setTimeout(function() {
                    Oa(5057, {
                        tile: i
                    });
                    d = o;
                    i = 0
                }
                , 5E3))
            }
        }
    }
    ();
    var Za;
    (function() {
        function a(a) {
            this.kU = a;
            this.timing = {};
            this.start = +new Date
        }
        function b(a, b) {
            if (a.length === +a.length)
                for (var c = 0, d = a.length; c < d && b.call(j, c, a[c], a) !== q; c++)
                    ;
            else
                for (c in a)
                    if (a.hasOwnProperty(c) && b.call(j, c, a[c], a) === q)
                        break
        }
        var c = [], d = {
            push: function(a) {
                c.push(a);
                if (window.localStorage && window.JSON)
                    try {
                        localStorage.setItem("WPO_NR", JSON.stringify(c))
                    } catch (b) {}
            },
            get: function(a) {
                var b = [];
                if (window.localStorage)
                    try {
                        a && localStorage.removeItem("WPO_NR")
                    } catch (d) {}
                b = c;
                a && (c = []);
                return b
            }
        }, e, f, g, i, k = {};
        (!window.localStorage || !window.JSON) && document.attachEvent && window.attachEvent("onbeforeunload", function() {
            l.send()
        }
        );
        var l = {
            send: function(a) {
                var c = [], e = [], f = a || d.get(o), g;
                0 < f.length && (b(f, function(d, e) {
                    var f = [];
                    b(e.timing, function(a, b) {
                        f.push('"' + a + '":' + b)
                    }
                    );
                    c.push('{"t":{' + f.join(",") + '},"a":' + e.kU + "}");
                    !g && (a && e.start) && (g = e.start)
                }
                ),
                b(k, function(a, b) {
                    e.push(a + "=" + b)
                }
                ),
                e.push("d=[" + c.join(",") + "]"),
                g ? e.push("_st=" + g) : e.push("_t=" + +new Date),
                f = new Image,
                f.src = "http://static.tieba.baidu.com/tb/pms/img/st.gif?" + e.join("&"),
                window["___pms_img_" + 1 * new Date] = f)
            }
        };
        a.prototype = {
            cc: function(a, b) {
                this.timing[a] = 0 <= b ? b : new Date - this.start
            },
            Mt: function() {
                this.start = +new Date
            },
            VN: function() {
                this.cc("tt")
            },
            wy: function() {
                this.cc("vt")
            },
            Gm: function() {
                f && (d.push(this),
                d.get().length >= g && l.send())
            },
            error: s()
        };
        Za = {
            si: {
                OD: function(a) {
                    var b = navigator.P0 || navigator.z2 || navigator.O3 || {
                        type: 0
                    };
                    f = Math.random() <= (a.Km || 0.01);
                    g = a.max || 5;
                    i = a.y2 || b.type;
                    k = {
                        p: a.AY,
                        mnt: i,
                        b: 50
                    };
                    window.localStorage && (window.JSON && window.addEventListener) && (e = d.get(o),
                    window.addEventListener("load", function() {
                        l.send(e)
                    }
                    , q))
                },
                Xj: function(b) {
                    return new a(b)
                }
            }
        }
    }
    )();
    Za.si.OD({
        AY: 18,
        Km: 0.1,
        max: 1
    });
    z.Op = {
        QF: "#83a1ff",
        Qp: "#808080"
    };
    function Nb(a, b, c) {
        b.vm || (b.vm = [],
        b.handle = {});
        b.vm.push({
            filter: c,
            Vl: a
        });
        b.addEventListener || (b.addEventListener = function(a, c) {
            b.attachEvent("on" + a, c)
        }
        );
        b.handle.click || (b.addEventListener("click", function(a) {
            for (var c = a.target || a.srcElement; c != b; ) {
                Ob(b.vm, function(b, g) {
                    RegExp(g.filter).test(c.getAttribute("filter")) && g.Vl.call(c, a, c.getAttribute("filter"))
                }
                );
                c = c.parentNode
            }
        }
        , q),
        b.handle.click = o)
    }
    function Ob(a, b) {
        for (var c = 0, d = a.length; c < d; c++)
            b(c, a[c])
    }
    "2" !== z.Yt && (function(a, b, c) {
        (function(a, b, c) {
            function g(a) {
                if (!a.ro) {
                    for (var c = o, d = [], f = a.IY, i = 0; f && i < f.length; i++) {
                        var k = f[i]
                          , l = ea[k] = ea[k] || {};
                        if (l.ro || l == a)
                            d.push(l.Cc);
                        else {
                            c = q;
                            if (!l.lV && (k = (ta.get("alias") || {})[k] || k + ".js",
                            !J[k])) {
                                J[k] = o;
                                var m = b.createElement("script")
                                  , n = b.getElementsByTagName("script")[0];
                                m.async = o;
                                m.src = k;
                                n.parentNode.insertBefore(m, n)
                            }
                            l.xy = l.xy || {};
                            l.xy[a.name] = a
                        }
                    }
                    if (c) {
                        a.ro = o;
                        a.UJ && (a.Cc = a.UJ.apply(a, d));
                        for (var u in a.xy)
                            g(a.xy[u])
                    }
                }
            }
            function i(a) {
                return (a || new Date) - D
            }
            function k(a, b, c) {
                if (a) {
                    "string" == typeof a && (c = b,
                    b = a,
                    a = O);
                    try {
                        a == O ? (M[b] = M[b] || [],
                        M[b].unshift(c)) : a.addEventListener ? a.addEventListener(b, c, q) : a.attachEvent && a.attachEvent("on" + b, c)
                    } catch (d) {}
                }
            }
            function l(a, b, c) {
                if (a) {
                    "string" == typeof a && (c = b,
                    b = a,
                    a = O);
                    try {
                        if (a == O) {
                            var d = M[b];
                            if (d)
                                for (var e = d.length; e--; )
                                    d[e] === c && d.splice(e, 1)
                        } else
                            a.removeEventListener ? a.removeEventListener(b, c, q) : a.detachEvent && a.detachEvent("on" + b, c)
                    } catch (f) {}
                }
            }
            function m(a) {
                var b = M[a]
                  , c = 0;
                if (b) {
                    for (var d = [], e = arguments, f = 1; f < e.length; f++)
                        d.push(e[f]);
                    for (f = b.length; f--; )
                        b[f].apply(this, d) && c++;
                    return c
                }
            }
            function n(a, b) {
                if (a && b) {
                    var c = new Image(1,1), d = [], e = "img_" + +new Date, f;
                    for (f in b)
                        b[f] && d.push(f + "=" + encodeURIComponent(b[f]));
                    O[e] = c;
                    c.onload = c.onerror = function() {
                        O[e] = c = c.onload = c.onerror = p;
                        delete O[e]
                    }
                    ;
                    c.src = a + "?" + d.join("&")
                }
            }
            function u() {
                var a = arguments
                  , b = a[0];
                if (this.TJ || /^(on|un|set|get|create)$/.test(b)) {
                    for (var b = w.prototype[b], c = [], d = 1, e = a.length; d < e; d++)
                        c.push(a[d]);
                    "function" == typeof b && b.apply(this, c)
                } else
                    this.rJ.push(a)
            }
            function v(a, b) {
                var c = {}, d;
                for (d in a)
                    a.hasOwnProperty(d) && (c[d] = a[d]);
                for (d in b)
                    b.hasOwnProperty(d) && (c[d] = b[d]);
                return c
            }
            function w(a) {
                this.name = a;
                this.ns = {
                    EE: {
                        Sx: p,
                        EE: p
                    }
                };
                this.rJ = []
            }
            function y(a) {
                a = a || "default";
                if ("*" == a) {
                    var a = [], b;
                    for (b in da)
                        a.push(da[b]);
                    return a
                }
                (b = da[a]) || (b = da[a] = new w(a));
                return b
            }
            var B = c.alog;
            if (!B || !B.ro) {
                var A = b.all && a.attachEvent
                  , D = B && B.dE || +new Date
                  , C = a.r2 || (+new Date).toString(36) + Math.random().toString(36).substr(2, 3)
                  , E = 0
                  , J = {}
                  , O = function(a) {
                    var b = arguments, c, d, e, f;
                    if ("define" == a || "require" == a) {
                        for (d = 1; d < b.length; d++)
                            switch (typeof b[d]) {
                            case "string":
                                c = b[d];
                                break;
                            case "object":
                                e = b[d];
                                break;
                            case "function":
                                f = b[d]
                            }
                        "require" == a && (c && !e && (e = [c]),
                        c = p);
                        c = !c ? "#" + E++ : c;
                        d = ea[c] = ea[c] || {};
                        d.ro || (d.name = c,
                        d.IY = e,
                        d.UJ = f,
                        "define" == a && (d.lV = o),
                        g(d))
                    } else
                        "function" == typeof a ? a(O) : ("" + a).replace(/^(?:([\w$_]+)\.)?(\w+)$/, function(a, c, d) {
                            b[0] = d;
                            u.apply(O.UN(c), b)
                        }
                        )
                }
                  , M = {}
                  , da = {}
                  , ea = {
                    x0: {
                        name: "alog",
                        ro: o,
                        Cc: O
                    }
                };
                w.prototype.start = w.prototype.create = function(a) {
                    if (!this.TJ) {
                        "object" == typeof a && this.set(a);
                        this.TJ = new Date;
                        for (this.os("create", this); a = this.rJ.shift(); )
                            u.apply(this, a)
                    }
                }
                ;
                w.prototype.send = function(a, b) {
                    var c = v({
                        ts: i().toString(36),
                        t: a,
                        sid: C
                    }, this.ns);
                    if ("object" == typeof b)
                        c = v(c, b);
                    else {
                        var d = arguments;
                        switch (a) {
                        case "pageview":
                            d[1] && (c.page = d[1]);
                            d[2] && (c.title = d[2]);
                            break;
                        case "event":
                            d[1] && (c.eventCategory = d[1]);
                            d[2] && (c.eventAction = d[2]);
                            d[3] && (c.eventLabel = d[3]);
                            d[4] && (c.eventValue = d[4]);
                            break;
                        case "timing":
                            d[1] && (c.timingCategory = d[1]);
                            d[2] && (c.timingVar = d[2]);
                            d[3] && (c.timingValue = d[3]);
                            d[4] && (c.timingLabel = d[4]);
                            break;
                        case "exception":
                            d[1] && (c.exDescription = d[1]);
                            d[2] && (c.exFatal = d[2]);
                            break;
                        default:
                            return
                        }
                    }
                    this.os("send", c);
                    var e;
                    if (d = this.ns.EE) {
                        var f = {};
                        for (e in c)
                            d[e] !== p && (f[d[e] || e] = c[e]);
                        e = f
                    } else
                        e = c;
                    n(this.ns.Sx, e)
                }
                ;
                w.prototype.set = function(a, b) {
                    if ("string" == typeof a)
                        "protocolParameter" == a && (b = v({
                            Sx: p,
                            EE: p
                        }, b)),
                        this.ns[a] = b;
                    else if ("object" == typeof a)
                        for (var c in a)
                            this.set(c, a[c])
                }
                ;
                w.prototype.get = function(a, b) {
                    var c = this.ns[a];
                    "function" == typeof b && b(c);
                    return c
                }
                ;
                w.prototype.os = function(a, b) {
                    return O.os(this.name + "." + a, b)
                }
                ;
                w.prototype.F = function(a, b) {
                    O.F(this.name + "." + a, b)
                }
                ;
                w.prototype.Sc = function(a, b) {
                    O.Sc(this.name + "." + a, b)
                }
                ;
                w.prototype.start = w.prototype.start;
                w.prototype.create = w.prototype.create;
                w.prototype.send = w.prototype.send;
                w.prototype.set = w.prototype.set;
                w.prototype.get = w.prototype.get;
                w.prototype.fire = w.prototype.os;
                w.prototype.on = w.prototype.F;
                w.prototype.un = w.prototype.Sc;
                O.name = "alog";
                O.wN = C;
                O.ro = o;
                O.timestamp = i;
                O.Sc = l;
                O.F = k;
                O.os = m;
                O.UN = y;
                O("init");
                var ta = y();
                ta.set("protocolParameter", {
                    w0: p
                });
                if (B) {
                    var Qa = [].concat(B.mb || [], B.Fm || []);
                    B.mb = B.Fm = p;
                    for (var cb in O)
                        O.hasOwnProperty(cb) && (B[cb] = O[cb]);
                    O.mb = O.Fm = {
                        push: function(a) {
                            O.apply(O, a)
                        }
                    };
                    for (B = 0; B < Qa.length; B++)
                        O.apply(O, Qa[B])
                }
                c.alog = O;
                A && k(b, "mouseup", function(a) {
                    a = a.target || a.srcElement;
                    1 == a.nodeType && /^ajavascript:/i.test(a.tagName + a.href)
                }
                );
                var Ya = q;
                a.onerror = function(a, b, d, e) {
                    var g = o;
                    !b && /^script error/i.test(a) && (Ya ? g = q : Ya = o);
                    g && c.alog("exception.send", "exception", {
                        nM: a,
                        JX: b,
                        SL: d,
                        M0: e
                    });
                    return q
                }
                ;
                c.alog("exception.on", "catch", function(a) {
                    c.alog("exception.send", "exception", {
                        nM: a.nM,
                        JX: a.path,
                        SL: a.SL,
                        method: a.method,
                        TV: "catch"
                    })
                }
                )
            }
        }
        )(a, b, c);
        (function(a, b, c) {
            var g = "18_1";
            G() && (g = "18_2");
            var i = Math.random
              , k = {
                Km: "0.1"
            }
              , l = {
                Km: "0.1"
            };
            if (k && k.Km && i() < k.Km) {
                var m = c.alog.UN("monkey"), n, a = a.screen, b = b.referrer;
                m.set("ver", 5);
                m.set("pid", 241);
                a && m.set("px", a.width + "*" + a.height);
                m.set("ref", b);
                c.alog("monkey.on", "create", function() {
                    n = c.alog.timestamp;
                    m.set("protocolParameter", {
                        reports: p
                    })
                }
                );
                c.alog("monkey.on", "send", function(a) {
                    "pageview" == a.t && (a.cmd = "open");
                    a.now && (a.ts = n(a.now).toString(36),
                    a.now = "")
                }
                );
                c.alog("monkey.create", {
                    page: g,
                    pid: "241",
                    p: "18",
                    Sx: "http://nsclick.baidu.com/u.gif",
                    Z2: {
                        X2: 1
                    }
                });
                c.alog("monkey.send", "pageview", {
                    now: +new Date
                })
            }
            l && (l.Km && i() < l.Km) && (c.alog("cus.on", "time", function(a) {
                var b = {}, d = q, e;
                if ("[object Object]" === a.toString()) {
                    for (var g in a)
                        "page" == g ? b.page = a[g] : (e = parseInt(a[g], 10),
                        0 < e && /^z_/.test(g) && (d = o,
                        b[g] = e));
                    d && c.alog("cus.send", "time", b)
                }
            }
            ),
            c.alog("cus.on", "count", function(a) {
                var b = {}
                  , d = q;
                "string" === typeof a && (a = [a]);
                if (a instanceof Array)
                    for (var e = 0; e < a.length; e++)
                        /^z_/.test(a[e]) ? (d = o,
                        b[a[e]] = 1) : /^page:/.test(a[e]) && (b.page = a[e].substring(5));
                d && c.alog("cus.send", "count", b)
            }
            ),
            c.alog("cus.create", {
                dv: 3,
                Sx: "http://static.tieba.baidu.com/tb/pms/img/st.gif",
                page: g,
                p: "18"
            }))
        }
        )(a, b, c)
    }
    (window, document, z),
    z.alog("cus.fire", "count", "z_loadscriptcount"));
    z.uj = z.alog || s();
    function Pb(a, b) {
        if (b) {
            var c = (1E5 * Math.random()).toFixed(0);
            z._rd["_cbk" + c] = function(a) {
                b && b(a);
                delete z._rd["_cbk" + c]
            }
            ;
            a += "&callback=BMap._rd._cbk" + c
        }
        var d = K("script", {
            type: "text/javascript"
        });
        d.charset = "utf-8";
        d.src = a;
        d.addEventListener ? d.addEventListener("load", function(a) {
            a = a.target;
            a.parentNode.removeChild(a)
        }
        , q) : d.attachEvent && d.attachEvent("onreadystatechange", function() {
            var a = window.event.srcElement;
            a && ("loaded" == a.readyState || "complete" == a.readyState) && a.parentNode.removeChild(a)
        }
        );
        setTimeout(function() {
            document.getElementsByTagName("head")[0].appendChild(d);
            d = p
        }
        , 1)
    }
    ;var Qb = {
        map: "emivwm",
        common: "j15mde",
        style: "glh0fr",
        tile: "zis0z2",
        vectordrawlib: "ot2wkh",
        newvectordrawlib: "llt2t2",
        groundoverlay: "x4ebwu",
        pointcollection: "x1acl2",
        marker: "ubdrre",
        symbol: "t54mxp",
        canvablepath: "53ih2z",
        vmlcontext: "qpscs2",
        markeranimation: "tmwirg",
        poly: "l3eako",
        draw: "e4afof",
        drawbysvg: "0jfgsl",
        drawbyvml: "nha44b",
        drawbycanvas: "isfutw",
        infowindow: "bowqh2",
        oppc: "pqojot",
        opmb: "xxhd2r",
        menu: "liis1j",
        control: "a2vg4s",
        navictrl: "x0la0t",
        geoctrl: "ti2mrq",
        copyrightctrl: "qbwdfi",
        scommon: "30cbxz",
        local: "a2stct",
        route: "urfizt",
        othersearch: "hkkpbo",
        mapclick: "rwan5y",
        buslinesearch: "f1rvci",
        hotspot: "ybbham",
        autocomplete: "ifauzc",
        coordtrans: "5onu04",
        coordtransutils: "3uulsx",
        convertor: "xtmqgx",
        clayer: "hwhrva",
        pservice: "mgtige",
        pcommon: "552mzg",
        panorama: "z1ss0g",
        panoramaflash: "smqgj1",
        vector: "cbifox"
    };
    x.oy = function() {
        function a(a) {
            return d && !!c[b + a + "_" + Qb[a]]
        }
        var b = "BMap_"
          , c = window.localStorage
          , d = "localStorage" in window && c !== p && c !== j;
        return {
            EX: d,
            set: function(a, f) {
                if (d) {
                    for (var g = b + a + "_", i = c.length, k; i--; )
                        k = c.key(i),
                        -1 < k.indexOf(g) && c.removeItem(k);
                    try {
                        c.setItem(b + a + "_" + Qb[a], f)
                    } catch (l) {
                        c.clear()
                    }
                }
            },
            get: function(e) {
                return d && a(e) ? c.getItem(b + e + "_" + Qb[e]) : q
            },
            CJ: a
        }
    }
    ();
    function I() {}
    x.object.extend(I, {
        rj: {
            RF: -1,
            aP: 0,
            Jp: 1
        },
        NK: function() {
            var a = "drawbysvg"
              , b = "canvablepath"
              , c = z.XI ? "newvectordrawlib" : "vectordrawlib";
            G() && Lb() ? a = "drawbycanvas" : Kb() ? a = "drawbysvg" : Jb() ? (a = "drawbyvml",
            b = "vmlcontext") : Lb() && (a = "drawbycanvas");
            return {
                tile: [c, "style"],
                control: [],
                marker: ["symbol"],
                symbol: ["canvablepath", "common"],
                canvablepath: "canvablepath" === b ? [] : [b],
                vmlcontext: [],
                style: [],
                poly: ["marker", a],
                drawbysvg: ["draw"],
                drawbyvml: ["draw"],
                drawbycanvas: ["draw"],
                infowindow: ["common", "marker"],
                menu: [],
                oppc: [],
                opmb: [],
                scommon: [],
                local: ["scommon"],
                route: ["scommon"],
                othersearch: ["scommon"],
                autocomplete: ["scommon"],
                mapclick: ["scommon"],
                buslinesearch: ["route"],
                hotspot: [],
                coordtransutils: ["coordtrans"],
                convertor: [],
                clayer: ["tile"],
                pservice: [],
                pcommon: ["style", "pservice"],
                panorama: ["pcommon"],
                panoramaflash: ["pcommon"]
            }
        },
        P2: {},
        KF: {
            rP: z.ca + "getmodules?v=2.0&t=20140707",
            PT: 5E3
        },
        kC: q,
        Cd: {
            Zk: {},
            hn: [],
            zv: []
        },
        load: function(a, b, c) {
            var d = this.Va(a);
            if (d.od == this.rj.Jp)
                c && b();
            else {
                if (d.od == this.rj.RF) {
                    this.JJ(a);
                    this.QM(a);
                    var e = this;
                    e.kC == q && (e.kC = o,
                    setTimeout(function() {
                        for (var a = [], b = 0, c = e.Cd.hn.length; b < c; b++) {
                            var d = e.Cd.hn[b]
                              , l = "";
                            ja.oy.CJ(d) ? l = ja.oy.get(d) : (l = "",
                            a.push(d + "_" + Qb[d]));
                            e.Cd.zv.push({
                                jM: d,
                                pE: l
                            })
                        }
                        e.kC = q;
                        e.Cd.hn.length = 0;
                        0 == a.length ? e.sK() : Pb(e.KF.rP + "&mod=" + a.join(","))
                    }
                    , 1));
                    d.od = this.rj.aP
                }
                d.yu.push(b)
            }
        },
        JJ: function(a) {
            if (a && this.NK()[a])
                for (var a = this.NK()[a], b = 0; b < a.length; b++)
                    this.JJ(a[b]),
                    this.Cd.Zk[a[b]] || this.QM(a[b])
        },
        QM: function(a) {
            for (var b = 0; b < this.Cd.hn.length; b++)
                if (this.Cd.hn[b] == a)
                    return;
            this.Cd.hn.push(a)
        },
        OY: function(a, b) {
            var c = this.Va(a);
            try {
                eval(b)
            } catch (d) {
                return
            }
            c.od = this.rj.Jp;
            for (var e = 0, f = c.yu.length; e < f; e++)
                c.yu[e]();
            c.yu.length = 0
        },
        CJ: function(a, b) {
            var c = this;
            c.timeout = setTimeout(function() {
                c.Cd.Zk[a].od != c.rj.Jp ? (c.remove(a),
                c.load(a, b)) : clearTimeout(c.timeout)
            }
            , c.KF.PT)
        },
        Va: function(a) {
            this.Cd.Zk[a] || (this.Cd.Zk[a] = {},
            this.Cd.Zk[a].od = this.rj.RF,
            this.Cd.Zk[a].yu = []);
            return this.Cd.Zk[a]
        },
        remove: function(a) {
            delete this.Va(a)
        },
        GU: function(a, b) {
            for (var c = this.Cd.zv, d = o, e = 0, f = c.length; e < f; e++)
                "" == c[e].pE && (c[e].jM == a ? c[e].pE = b : d = q);
            d && this.sK()
        },
        sK: function() {
            for (var a = this.Cd.zv, b = 0, c = a.length; b < c; b++)
                this.OY(a[b].jM, a[b].pE);
            this.Cd.zv.length = 0
        }
    });
    function Q(a, b) {
        this.x = a || 0;
        this.y = b || 0;
        this.x = this.x;
        this.y = this.y
    }
    Q.prototype.$a = function(a) {
        return a && a.x == this.x && a.y == this.y
    }
    ;
    function L(a, b) {
        this.width = a || 0;
        this.height = b || 0
    }
    L.prototype.$a = function(a) {
        return a && this.width == a.width && this.height == a.height
    }
    ;
    function hb(a, b) {
        a && (this.zb = a,
        this.Q = "spot" + hb.Q++,
        b = b || {},
        this.Jg = b.text || "",
        this.fv = b.offsets ? b.offsets.slice(0) : [5, 5, 5, 5],
        this.QI = b.userData || p,
        this.Dh = b.minZoom || p,
        this.of = b.maxZoom || p)
    }
    hb.Q = 0;
    x.extend(hb.prototype, {
        fa: function(a) {
            this.Dh == p && (this.Dh = a.D.Ub);
            this.of == p && (this.of = a.D.Nb)
        },
        ha: function(a) {
            a instanceof H && (this.zb = a)
        },
        V: t("zb"),
        At: ba("Jg"),
        BD: t("Jg"),
        setUserData: ba("QI"),
        getUserData: t("QI")
    });
    function Rb() {
        this.C = p;
        this.Ab = "control";
        this.Fa = this.vJ = o
    }
    x.lang.ia(Rb, x.lang.qa, "Control");
    x.extend(Rb.prototype, {
        initialize: function(a) {
            this.C = a;
            if (this.A)
                return a.Ja.appendChild(this.A),
                this.A
        },
        Oe: function(a) {
            !this.A && (this.initialize && Va(this.initialize)) && (this.A = this.initialize(a));
            this.k = this.k || {
                ih: q
            };
            this.dB();
            this.sv();
            this.A && (this.A.Pq = this)
        },
        dB: function() {
            var a = this.A;
            if (a) {
                var b = a.style;
                b.position = "absolute";
                b.zIndex = this.az || "10";
                b.MozUserSelect = "none";
                b.WebkitTextSizeAdjust = "none";
                this.k.ih || x.B.Oa(a, "BMap_noprint");
                G() || x.F(a, "contextmenu", oa)
            }
        },
        remove: function() {
            this.C = p;
            this.A && (this.A.parentNode && this.A.parentNode.removeChild(this.A),
            this.A = this.A.Pq = p)
        },
        ra: function() {
            this.A = zb(this.C.Ja, "<div unselectable='on'></div>");
            this.Fa == q && x.B.J(this.A);
            return this.A
        },
        sv: function() {
            this.nc(this.k.anchor)
        },
        nc: function(a) {
            if (this.y0 || !Ua(a) || isNaN(a) || a < Sb || 3 < a)
                a = this.defaultAnchor;
            this.k = this.k || {
                ih: q
            };
            this.k.pa = this.k.pa || this.defaultOffset;
            var b = this.k.anchor;
            this.k.anchor = a;
            if (this.A) {
                var c = this.A
                  , d = this.k.pa.width
                  , e = this.k.pa.height;
                c.style.left = c.style.top = c.style.right = c.style.bottom = "auto";
                switch (a) {
                case Sb:
                    c.style.top = e + "px";
                    c.style.left = d + "px";
                    break;
                case Tb:
                    c.style.top = e + "px";
                    c.style.right = d + "px";
                    break;
                case Ub:
                    c.style.bottom = e + "px";
                    c.style.left = d + "px";
                    break;
                case 3:
                    c.style.bottom = e + "px",
                    c.style.right = d + "px"
                }
                c = ["TL", "TR", "BL", "BR"];
                x.B.Pb(this.A, "anchor" + c[b]);
                x.B.Oa(this.A, "anchor" + c[a])
            }
        },
        fD: function() {
            return this.k.anchor
        },
        Ie: function(a) {
            a instanceof L && (this.k = this.k || {
                ih: q
            },
            this.k.pa = new L(a.width,a.height),
            this.A && this.nc(this.k.anchor))
        },
        Df: function() {
            return this.k.pa
        },
        td: t("A"),
        show: function() {
            this.Fa != o && (this.Fa = o,
            this.A && x.B.show(this.A))
        },
        J: function() {
            this.Fa != q && (this.Fa = q,
            this.A && x.B.J(this.A))
        },
        isPrintable: function() {
            return !!this.k.ih
        },
        Yg: function() {
            return !this.A && !this.C ? q : !!this.Fa
        }
    });
    var Sb = 0
      , Tb = 1
      , Ub = 2;
    function ib(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            ih: q,
            eF: a.showZoomInfo || o,
            anchor: a.anchor,
            pa: a.offset,
            type: a.type,
            HV: a.enableGeolocation || q
        };
        this.defaultAnchor = G() ? 3 : Sb;
        this.defaultOffset = new L(10,10);
        this.nc(a.anchor);
        this.Qm(a.type);
        this.gf()
    }
    x.lang.ia(ib, Rb, "NavigationControl");
    x.extend(ib.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        Qm: function(a) {
            this.k.type = Ua(a) && 0 <= a && 3 >= a ? a : 0
        },
        Qo: function() {
            return this.k.type
        },
        gf: function() {
            var a = this;
            I.load("navictrl", function() {
                a.wg()
            }
            )
        }
    });
    function Vb(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            anchor: a.anchor || Ub,
            pa: a.offset || new L(10,30),
            xZ: a.showAddressBar !== q,
            d1: a.enableAutoLocation || q,
            YL: a.locationIcon || p
        };
        var b = this;
        this.az = 1200;
        b.l_ = [];
        this.ae = [];
        I.load("geoctrl", function() {
            (function d() {
                if (0 !== b.ae.length) {
                    var a = b.ae.shift();
                    b[a.method].apply(b, a.arguments);
                    d()
                }
            }
            )();
            b.qP()
        }
        );
        Oa(Ja)
    }
    x.lang.ia(Vb, Rb, "GeolocationControl");
    x.extend(Vb.prototype, {
        location: function() {
            this.ae.push({
                method: "location",
                arguments: arguments
            })
        },
        getAddressComponent: ca(p)
    });
    function Wb(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            ih: q,
            anchor: a.anchor,
            pa: a.offset
        };
        this.Rb = [];
        this.defaultAnchor = Ub;
        this.defaultOffset = new L(5,2);
        this.nc(a.anchor);
        this.vJ = q;
        this.gf()
    }
    x.lang.ia(Wb, Rb, "CopyrightControl");
    x.object.extend(Wb.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        Vv: function(a) {
            if (a && Ua(a.id) && !isNaN(a.id)) {
                var b = {
                    bounds: p,
                    content: ""
                }, c;
                for (c in a)
                    b[c] = a[c];
                if (a = this.Xl(a.id))
                    for (var d in b)
                        a[d] = b[d];
                else
                    this.Rb.push(b)
            }
        },
        Xl: function(a) {
            for (var b = 0, c = this.Rb.length; b < c; b++)
                if (this.Rb[b].id == a)
                    return this.Rb[b]
        },
        mD: t("Rb"),
        IE: function(a) {
            for (var b = 0, c = this.Rb.length; b < c; b++)
                this.Rb[b].id == a && (r = this.Rb.splice(b, 1),
                b--,
                c = this.Rb.length)
        },
        gf: function() {
            var a = this;
            I.load("copyrightctrl", function() {
                a.wg()
            }
            )
        }
    });
    function kb(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            ih: q,
            size: a.size || new L(150,150),
            padding: 5,
            Ka: a.isOpen === o ? o : q,
            B_: 4,
            pa: a.offset,
            anchor: a.anchor
        };
        this.defaultAnchor = 3;
        this.defaultOffset = new L(0,0);
        this.gq = this.hq = 13;
        this.nc(a.anchor);
        this.yd(this.k.size);
        this.gf()
    }
    x.lang.ia(kb, Rb, "OverviewMapControl");
    x.extend(kb.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        nc: function(a) {
            Rb.prototype.nc.call(this, a)
        },
        ce: function() {
            this.ce.Rn = o;
            this.k.Ka = !this.k.Ka;
            this.A || (this.ce.Rn = q)
        },
        yd: function(a) {
            a instanceof L || (a = new L(150,150));
            a.width = 0 < a.width ? a.width : 150;
            a.height = 0 < a.height ? a.height : 150;
            this.k.size = a
        },
        kb: function() {
            return this.k.size
        },
        Ka: function() {
            return this.k.Ka
        },
        gf: function() {
            var a = this;
            I.load("control", function() {
                a.wg()
            }
            )
        }
    });
    function jb(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            ih: q,
            color: "black",
            Tc: "metric",
            pa: a.offset
        };
        this.defaultAnchor = Ub;
        this.defaultOffset = new L(81,18);
        this.nc(a.anchor);
        this.Mh = {
            metric: {
                name: "metric",
                LJ: 1,
                tL: 1E3,
                ZN: "\u7c73",
                $N: "\u516c\u91cc"
            },
            us: {
                name: "us",
                LJ: 3.2808,
                tL: 5280,
                ZN: "\u82f1\u5c3a",
                $N: "\u82f1\u91cc"
            }
        };
        this.Mh[this.k.Tc] || (this.k.Tc = "metric");
        this.nI = p;
        this.OH = {};
        this.gf()
    }
    x.lang.ia(jb, Rb, "ScaleControl");
    x.object.extend(jb.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        sk: function(a) {
            this.k.color = a + ""
        },
        t1: function() {
            return this.k.color
        },
        bF: function(a) {
            this.k.Tc = this.Mh[a] && this.Mh[a].name || this.k.Tc
        },
        aX: function() {
            return this.k.Tc
        },
        gf: function() {
            var a = this;
            I.load("control", function() {
                a.wg()
            }
            )
        }
    });
    var Xb = 0;
    function lb(a) {
        Rb.call(this);
        a = a || {};
        this.defaultAnchor = Tb;
        this.defaultOffset = new L(10,10);
        this.k = {
            ih: q,
            ah: [La, Wa, Pa, Na],
            kV: ["B_DIMENSIONAL_MAP", "B_SATELLITE_MAP", "B_NORMAL_MAP"],
            type: a.type || Xb,
            pa: a.offset || this.defaultOffset,
            LV: o
        };
        this.nc(a.anchor);
        "[object Array]" == Object.prototype.toString.call(a.mapTypes) && (this.k.ah = a.mapTypes.slice(0));
        this.gf()
    }
    x.lang.ia(lb, Rb, "MapTypeControl");
    x.object.extend(lb.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        py: function(a) {
            this.C.Hn = a
        },
        gf: function() {
            var a = this;
            I.load("control", function() {
                a.wg()
            }
            , o)
        }
    });
    function Yb(a) {
        Rb.call(this);
        a = a || {};
        this.k = {
            ih: q,
            pa: a.offset,
            anchor: a.anchor
        };
        this.Fi = q;
        this.Dv = p;
        this.XH = new Zb({
            Bf: "api"
        });
        this.YH = new $b(p,{
            Bf: "api"
        });
        this.defaultAnchor = Tb;
        this.defaultOffset = new L(10,10);
        this.nc(a.anchor);
        this.gf();
        Oa(wa)
    }
    x.lang.ia(Yb, Rb, "PanoramaControl");
    x.extend(Yb.prototype, {
        initialize: function(a) {
            this.C = a;
            return this.A
        },
        gf: function() {
            var a = this;
            I.load("control", function() {
                a.wg()
            }
            )
        }
    });
    function ac(a) {
        x.lang.qa.call(this);
        this.k = {
            Ja: p,
            cursor: "default"
        };
        this.k = x.extend(this.k, a);
        this.Ab = "contextmenu";
        this.C = p;
        this.na = [];
        this.rf = [];
        this.oe = [];
        this.xw = this.Qr = p;
        this.Ch = q;
        var b = this;
        I.load("menu", function() {
            b.tb()
        }
        )
    }
    x.lang.ia(ac, x.lang.qa, "ContextMenu");
    x.object.extend(ac.prototype, {
        fa: function(a, b) {
            this.C = a;
            this.dl = b || p
        },
        remove: function() {
            this.C = this.dl = p
        },
        Xv: function(a) {
            if (a && !("menuitem" != a.Ab || "" == a.Jg || 0 >= a.Oi)) {
                for (var b = 0, c = this.na.length; b < c; b++)
                    if (this.na[b] === a)
                        return;
                this.na.push(a);
                this.rf.push(a)
            }
        },
        removeItem: function(a) {
            if (a && "menuitem" == a.Ab) {
                for (var b = 0, c = this.na.length; b < c; b++)
                    this.na[b] === a && (this.na[b].remove(),
                    this.na.splice(b, 1),
                    c--);
                b = 0;
                for (c = this.rf.length; b < c; b++)
                    this.rf[b] === a && (this.rf[b].remove(),
                    this.rf.splice(b, 1),
                    c--)
            }
        },
        yB: function() {
            this.na.push({
                Ab: "divider",
                zj: this.oe.length
            });
            this.oe.push({
                B: p
            })
        },
        KE: function(a) {
            if (this.oe[a]) {
                for (var b = 0, c = this.na.length; b < c; b++)
                    this.na[b] && ("divider" == this.na[b].Ab && this.na[b].zj == a) && (this.na.splice(b, 1),
                    c--),
                    this.na[b] && ("divider" == this.na[b].Ab && this.na[b].zj > a) && this.na[b].zj--;
                this.oe.splice(a, 1)
            }
        },
        td: t("A"),
        show: function() {
            this.Ch != o && (this.Ch = o)
        },
        J: function() {
            this.Ch != q && (this.Ch = q)
        },
        cZ: function(a) {
            a && (this.k.cursor = a)
        },
        getItem: function(a) {
            return this.rf[a]
        }
    });
    var bc = F.ea + "menu_zoom_in.png"
      , cc = F.ea + "menu_zoom_out.png";
    function dc(a, b, c) {
        if (a && Va(b)) {
            x.lang.qa.call(this);
            this.k = {
                width: 100,
                id: "",
                km: ""
            };
            c = c || {};
            this.k.width = 1 * c.width ? c.width : 100;
            this.k.id = c.id ? c.id : "";
            this.k.km = c.iconUrl ? c.iconUrl : "";
            this.Jg = a + "";
            this.dz = b;
            this.C = p;
            this.Ab = "menuitem";
            this.xr = this.Uu = this.A = this.uh = p;
            this.yh = o;
            var d = this;
            I.load("menu", function() {
                d.tb()
            }
            )
        }
    }
    x.lang.ia(dc, x.lang.qa, "MenuItem");
    x.object.extend(dc.prototype, {
        fa: function(a, b) {
            this.C = a;
            this.uh = b
        },
        remove: function() {
            this.C = this.uh = p
        },
        At: function(a) {
            a && (this.Jg = a + "")
        },
        Ib: function(a) {
            a && (this.k.km = a)
        },
        td: t("A"),
        enable: function() {
            this.yh = o
        },
        disable: function() {
            this.yh = q
        }
    });
    function eb(a, b) {
        a && !b && (b = a);
        this.se = this.re = this.xe = this.we = this.sl = this.bl = p;
        a && (this.sl = new H(a.lng,a.lat),
        this.bl = new H(b.lng,b.lat),
        this.xe = a.lng,
        this.we = a.lat,
        this.se = b.lng,
        this.re = b.lat)
    }
    x.object.extend(eb.prototype, {
        kj: function() {
            return !this.sl || !this.bl
        },
        $a: function(a) {
            return !(a instanceof eb) || this.kj() ? q : this.Ee().$a(a.Ee()) && this.Cf().$a(a.Cf())
        },
        Ee: t("sl"),
        Cf: t("bl"),
        UU: function(a) {
            return !(a instanceof eb) || this.kj() || a.kj() ? q : a.xe > this.xe && a.se < this.se && a.we > this.we && a.re < this.re
        },
        Aa: function() {
            return this.kj() ? p : new H((this.xe + this.se) / 2,(this.we + this.re) / 2)
        },
        Os: function(a) {
            if (!(a instanceof eb) || Math.max(a.xe, a.se) < Math.min(this.xe, this.se) || Math.min(a.xe, a.se) > Math.max(this.xe, this.se) || Math.max(a.we, a.re) < Math.min(this.we, this.re) || Math.min(a.we, a.re) > Math.max(this.we, this.re))
                return p;
            var b = Math.max(this.xe, a.xe)
              , c = Math.min(this.se, a.se)
              , d = Math.max(this.we, a.we)
              , a = Math.min(this.re, a.re);
            return new eb(new H(b,d),new H(c,a))
        },
        Lr: function(a) {
            return !(a instanceof H) || this.kj() ? q : a.lng >= this.xe && a.lng <= this.se && a.lat >= this.we && a.lat <= this.re
        },
        extend: function(a) {
            if (a instanceof H) {
                var b = a.lng
                  , a = a.lat;
                this.sl || (this.sl = new H(0,0));
                this.bl || (this.bl = new H(0,0));
                if (!this.xe || this.xe > b)
                    this.sl.lng = this.xe = b;
                if (!this.se || this.se < b)
                    this.bl.lng = this.se = b;
                if (!this.we || this.we > a)
                    this.sl.lat = this.we = a;
                if (!this.re || this.re < a)
                    this.bl.lat = this.re = a
            }
        },
        nF: function() {
            return this.kj() ? new H(0,0) : new H(Math.abs(this.se - this.xe),Math.abs(this.re - this.we))
        }
    });
    function H(a, b) {
        isNaN(a) && (a = Ib(a),
        a = isNaN(a) ? 0 : a);
        Xa(a) && (a = parseFloat(a));
        isNaN(b) && (b = Ib(b),
        b = isNaN(b) ? 0 : b);
        Xa(b) && (b = parseFloat(b));
        this.lng = a;
        this.lat = b
    }
    H.zL = function(a) {
        return a && 180 >= a.lng && -180 <= a.lng && 74 >= a.lat && -74 <= a.lat
    }
    ;
    H.prototype.$a = function(a) {
        return a && this.lat == a.lat && this.lng == a.lng
    }
    ;
    function ec() {}
    ec.prototype.Zg = function() {
        aa("lngLatToPoint\u65b9\u6cd5\u672a\u5b9e\u73b0")
    }
    ;
    ec.prototype.ji = function() {
        aa("pointToLngLat\u65b9\u6cd5\u672a\u5b9e\u73b0")
    }
    ;
    function fc() {}
    ;var db = {
        NJ: function(a, b, c) {
            I.load("coordtransutils", function() {
                db.pU(a, b, c)
            }
            , o)
        },
        MJ: function(a, b, c) {
            I.load("coordtransutils", function() {
                db.oU(a, b, c)
            }
            , o)
        }
    };
    function gc() {
        this.Ea = [];
        var a = this;
        I.load("convertor", function() {
            a.oP()
        }
        )
    }
    x.ia(gc, x.lang.qa, "Convertor");
    x.extend(gc.prototype, {
        translate: function(a, b, c, d) {
            this.Ea.push({
                method: "translate",
                arguments: [a, b, c, d]
            })
        }
    });
    S(gc.prototype, {
        translate: gc.prototype.translate
    });
    function R() {}
    R.prototype = new ec;
    x.extend(R, {
        FO: 6370996.81,
        VF: [1.289059486E7, 8362377.87, 5591021, 3481989.83, 1678043.12, 0],
        ju: [75, 60, 45, 30, 15, 0],
        LO: [[1.410526172116255E-8, 8.98305509648872E-6, -1.9939833816331, 200.9824383106796, -187.2403703815547, 91.6087516669843, -23.38765649603339, 2.57121317296198, -0.03801003308653, 1.73379812E7], [-7.435856389565537E-9, 8.983055097726239E-6, -0.78625201886289, 96.32687599759846, -1.85204757529826, -59.36935905485877, 47.40033549296737, -16.50741931063887, 2.28786674699375, 1.026014486E7], [-3.030883460898826E-8, 8.98305509983578E-6, 0.30071316287616, 59.74293618442277, 7.357984074871, -25.38371002664745, 13.45380521110908, -3.29883767235584, 0.32710905363475, 6856817.37], [-1.981981304930552E-8, 8.983055099779535E-6, 0.03278182852591, 40.31678527705744, 0.65659298677277, -4.44255534477492, 0.85341911805263, 0.12923347998204, -0.04625736007561, 4482777.06], [3.09191371068437E-9, 8.983055096812155E-6, 6.995724062E-5, 23.10934304144901, -2.3663490511E-4, -0.6321817810242, -0.00663494467273, 0.03430082397953, -0.00466043876332, 2555164.4], [2.890871144776878E-9, 8.983055095805407E-6, -3.068298E-8, 7.47137025468032, -3.53937994E-6, -0.02145144861037, -1.234426596E-5, 1.0322952773E-4, -3.23890364E-6, 826088.5]],
        SF: [[-0.0015702102444, 111320.7020616939, 1704480524535203, -10338987376042340, 26112667856603880, -35149669176653700, 26595700718403920, -10725012454188240, 1800819912950474, 82.5], [8.277824516172526E-4, 111320.7020463578, 6.477955746671607E8, -4.082003173641316E9, 1.077490566351142E10, -1.517187553151559E10, 1.205306533862167E10, -5.124939663577472E9, 9.133119359512032E8, 67.5], [0.00337398766765, 111320.7020202162, 4481351.045890365, -2.339375119931662E7, 7.968221547186455E7, -1.159649932797253E8, 9.723671115602145E7, -4.366194633752821E7, 8477230.501135234, 52.5], [0.00220636496208, 111320.7020209128, 51751.86112841131, 3796837.749470245, 992013.7397791013, -1221952.21711287, 1340652.697009075, -620943.6990984312, 144416.9293806241, 37.5], [-3.441963504368392E-4, 111320.7020576856, 278.2353980772752, 2485758.690035394, 6070.750963243378, 54821.18345352118, 9540.606633304236, -2710.55326746645, 1405.483844121726, 22.5], [-3.218135878613132E-4, 111320.7020701615, 0.00369383431289, 823725.6402795718, 0.46104986909093, 2351.343141331292, 1.58060784298199, 8.77738589078284, 0.37238884252424, 7.45]],
        y1: function(a, b) {
            if (!a || !b)
                return 0;
            var c, d, a = this.ub(a);
            if (!a)
                return 0;
            c = this.Ak(a.lng);
            d = this.Ak(a.lat);
            b = this.ub(b);
            return !b ? 0 : this.De(c, this.Ak(b.lng), d, this.Ak(b.lat))
        },
        Fo: function(a, b) {
            if (!a || !b)
                return 0;
            a.lng = this.uD(a.lng, -180, 180);
            a.lat = this.yD(a.lat, -74, 74);
            b.lng = this.uD(b.lng, -180, 180);
            b.lat = this.yD(b.lat, -74, 74);
            return this.De(this.Ak(a.lng), this.Ak(b.lng), this.Ak(a.lat), this.Ak(b.lat))
        },
        ub: function(a) {
            if (a === p || a === j)
                return new H(0,0);
            var b, c;
            b = new H(Math.abs(a.lng),Math.abs(a.lat));
            for (var d = 0; d < this.VF.length; d++)
                if (b.lat >= this.VF[d]) {
                    c = this.LO[d];
                    break
                }
            a = this.OJ(a, c);
            return a = new H(a.lng.toFixed(6),a.lat.toFixed(6))
        },
        Gb: function(a) {
            if (a === p || a === j || 180 < a.lng || -180 > a.lng || 90 < a.lat || -90 > a.lat)
                return new H(0,0);
            var b, c;
            a.lng = this.uD(a.lng, -180, 180);
            a.lat = this.yD(a.lat, -74, 74);
            b = new H(a.lng,a.lat);
            for (var d = 0; d < this.ju.length; d++)
                if (b.lat >= this.ju[d]) {
                    c = this.SF[d];
                    break
                }
            if (!c)
                for (d = this.ju.length - 1; 0 <= d; d--)
                    if (b.lat <= -this.ju[d]) {
                        c = this.SF[d];
                        break
                    }
            a = this.OJ(a, c);
            return a = new H(a.lng.toFixed(2),a.lat.toFixed(2))
        },
        OJ: function(a, b) {
            if (a && b) {
                var c = b[0] + b[1] * Math.abs(a.lng)
                  , d = Math.abs(a.lat) / b[9]
                  , d = b[2] + b[3] * d + b[4] * d * d + b[5] * d * d * d + b[6] * d * d * d * d + b[7] * d * d * d * d * d + b[8] * d * d * d * d * d * d
                  , c = c * (0 > a.lng ? -1 : 1)
                  , d = d * (0 > a.lat ? -1 : 1);
                return new H(c,d)
            }
        },
        De: function(a, b, c, d) {
            return this.FO * Math.acos(Math.sin(c) * Math.sin(d) + Math.cos(c) * Math.cos(d) * Math.cos(b - a))
        },
        Ak: function(a) {
            return Math.PI * a / 180
        },
        w3: function(a) {
            return 180 * a / Math.PI
        },
        yD: function(a, b, c) {
            b != p && (a = Math.max(a, b));
            c != p && (a = Math.min(a, c));
            return a
        },
        uD: function(a, b, c) {
            for (; a > c; )
                a -= c - b;
            for (; a < b; )
                a += c - b;
            return a
        }
    });
    x.extend(R.prototype, {
        sm: function(a) {
            return R.Gb(a)
        },
        Zg: function(a) {
            a = R.Gb(a);
            return new Q(a.lng,a.lat)
        },
        bh: function(a) {
            return R.ub(a)
        },
        ji: function(a) {
            a = new H(a.x,a.y);
            return R.ub(a)
        },
        Vb: function(a, b, c, d, e) {
            if (a)
                return a = this.sm(a, e),
                b = this.Bc(b),
                new Q(Math.round((a.lng - c.lng) / b + d.width / 2),Math.round((c.lat - a.lat) / b + d.height / 2))
        },
        ob: function(a, b, c, d, e) {
            if (a)
                return b = this.Bc(b),
                this.bh(new H(c.lng + b * (a.x - d.width / 2),c.lat - b * (a.y - d.height / 2)), e)
        },
        Bc: function(a) {
            return Math.pow(2, 18 - a)
        }
    });
    function gb() {
        this.cC = "bj"
    }
    gb.prototype = new R;
    x.extend(gb.prototype, {
        sm: function(a, b) {
            return this.XP(b, R.Gb(a))
        },
        bh: function(a, b) {
            return R.ub(this.YP(b, a))
        },
        lngLatToPointFor3D: function(a, b) {
            var c = this
              , d = R.Gb(a);
            I.load("coordtrans", function() {
                var a = fc.wD(c.cC || "bj", d)
                  , a = new Q(a.x,a.y);
                b && b(a)
            }
            , o)
        },
        pointToLngLatFor3D: function(a, b) {
            var c = this
              , d = new H(a.x,a.y);
            I.load("coordtrans", function() {
                var a = fc.vD(c.cC || "bj", d)
                  , a = new H(a.lng,a.lat)
                  , a = R.ub(a);
                b && b(a)
            }
            , o)
        },
        XP: function(a, b) {
            if (I.Va("coordtrans").od == I.rj.Jp) {
                var c = fc.wD(a || "bj", b);
                return new H(c.x,c.y)
            }
            I.load("coordtrans", s());
            return new H(0,0)
        },
        YP: function(a, b) {
            if (I.Va("coordtrans").od == I.rj.Jp) {
                var c = fc.vD(a || "bj", b);
                return new H(c.lng,c.lat)
            }
            I.load("coordtrans", s());
            return new H(0,0)
        },
        Bc: function(a) {
            return Math.pow(2, 20 - a)
        }
    });
    function hc() {
        this.Ab = "overlay"
    }
    x.lang.ia(hc, x.lang.qa, "Overlay");
    hc.gm = function(a) {
        a *= 1;
        return !a ? 0 : -1E5 * a << 1
    }
    ;
    x.extend(hc.prototype, {
        Oe: function(a) {
            if (!this.K && Va(this.initialize) && (this.K = this.initialize(a)))
                this.K.style.WebkitUserSelect = "none";
            this.draw()
        },
        initialize: function() {
            aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        draw: function() {
            aa("draw\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        remove: function() {
            this.K && this.K.parentNode && this.K.parentNode.removeChild(this.K);
            this.K = p;
            this.dispatchEvent(new N("onremove"))
        },
        J: function() {
            this.K && x.B.J(this.K)
        },
        show: function() {
            this.K && x.B.show(this.K)
        },
        Yg: function() {
            return !this.K || "none" == this.K.style.display || "hidden" == this.K.style.visibility ? q : o
        }
    });
    z.He(function(a) {
        function b(a, b) {
            var c = K("div")
              , g = c.style;
            g.position = "absolute";
            g.top = g.left = g.width = g.height = "0";
            g.zIndex = b;
            a.appendChild(c);
            return c
        }
        var c = a.H;
        c.cd = a.cd = b(a.platform, 200);
        a.$d.$C = b(c.cd, 800);
        a.$d.lE = b(c.cd, 700);
        a.$d.zK = b(c.cd, 600);
        a.$d.eE = b(c.cd, 500);
        a.$d.bM = b(c.cd, 400);
        a.$d.cM = b(c.cd, 300);
        a.$d.s_ = b(c.cd, 201);
        a.$d.Xs = b(c.cd, 200)
    }
    );
    function fb() {
        x.lang.qa.call(this);
        hc.call(this);
        this.map = p;
        this.Fa = o;
        this.lb = p;
        this.GG = 0
    }
    x.lang.ia(fb, hc, "OverlayInternal");
    x.extend(fb.prototype, {
        initialize: function(a) {
            this.map = a;
            x.lang.qa.call(this, this.Q);
            return p
        },
        Tw: t("map"),
        draw: s(),
        tj: s(),
        remove: function() {
            this.map = p;
            x.lang.zw(this.Q);
            hc.prototype.remove.call(this)
        },
        J: function() {
            this.Fa !== q && (this.Fa = q)
        },
        show: function() {
            this.Fa !== o && (this.Fa = o)
        },
        Yg: function() {
            return !this.K ? q : !!this.Fa
        },
        Da: t("K"),
        iN: function(a) {
            var a = a || {}, b;
            for (b in a)
                this.z[b] = a[b]
        },
        Bt: ba("zIndex"),
        Vh: function() {
            this.z.Vh = o
        },
        uV: function() {
            this.z.Vh = q
        },
        bo: ba("Vf"),
        hp: function() {
            this.Vf = p
        }
    });
    function ic() {
        this.map = p;
        this.ka = {};
        this.ne = []
    }
    z.He(function(a) {
        var b = new ic;
        b.map = a;
        a.ka = b.ka;
        a.ne = b.ne;
        a.addEventListener("load", function(a) {
            b.draw(a)
        }
        );
        a.addEventListener("moveend", function(a) {
            b.draw(a)
        }
        );
        x.S.ba && 8 > x.S.ba || "BackCompat" === document.compatMode ? a.addEventListener("zoomend", function(a) {
            setTimeout(function() {
                b.draw(a)
            }
            , 20)
        }
        ) : a.addEventListener("zoomend", function(a) {
            b.draw(a)
        }
        );
        a.addEventListener("maptypechange", function(a) {
            b.draw(a)
        }
        );
        a.addEventListener("addoverlay", function(a) {
            a = a.target;
            if (a instanceof fb)
                b.ka[a.Q] || (b.ka[a.Q] = a);
            else {
                for (var d = q, e = 0, f = b.ne.length; e < f; e++)
                    if (b.ne[e] === a) {
                        d = o;
                        break
                    }
                d || b.ne.push(a)
            }
        }
        );
        a.addEventListener("removeoverlay", function(a) {
            a = a.target;
            if (a instanceof fb)
                delete b.ka[a.Q];
            else
                for (var d = 0, e = b.ne.length; d < e; d++)
                    if (b.ne[d] === a) {
                        b.ne.splice(d, 1);
                        break
                    }
        }
        );
        a.addEventListener("clearoverlays", function() {
            this.Mc();
            for (var a in b.ka)
                b.ka[a].z.Vh && (b.ka[a].remove(),
                delete b.ka[a]);
            a = 0;
            for (var d = b.ne.length; a < d; a++)
                b.ne[a].Vh !== q && (b.ne[a].remove(),
                b.ne[a] = p,
                b.ne.splice(a, 1),
                a--,
                d--)
        }
        );
        a.addEventListener("infowindowopen", function() {
            var a = this.lb;
            a && (x.B.J(a.lc),
            x.B.J(a.Qb))
        }
        );
        a.addEventListener("movestart", function() {
            this.Vg() && this.Vg().tI()
        }
        );
        a.addEventListener("moveend", function() {
            this.Vg() && this.Vg().jI()
        }
        )
    }
    );
    ic.prototype.draw = function(a) {
        if (z.Np) {
            var b = z.Np.xs(this.map);
            "canvas" === b.Ab && b.canvas && b.SP(b.canvas.getContext("2d"))
        }
        for (var c in this.ka)
            this.ka[c].draw(a);
        x.Yb.sb(this.ne, function(a) {
            a.draw()
        }
        );
        this.map.H.ab && this.map.H.ab.ha();
        z.Np && b.ZE()
    }
    ;
    function jc(a) {
        fb.call(this);
        a = a || {};
        this.z = {
            strokeColor: a.strokeColor || "#3a6bdb",
            $b: a.strokeWeight || 5,
            ed: a.strokeOpacity || 0.65,
            strokeStyle: a.strokeStyle || "solid",
            Vh: a.enableMassClear === q ? q : o,
            fk: p,
            am: p,
            Af: a.enableEditing === o ? o : q,
            kM: 5,
            k_: q,
            Ue: a.enableClicking === q ? q : o,
            ai: a.icons && 0 < a.icons.length ? a.icons : p
        };
        0 >= this.z.$b && (this.z.$b = 5);
        if (0 > this.z.ed || 1 < this.z.ed)
            this.z.ed = 0.65;
        if (0 > this.z.eg || 1 < this.z.eg)
            this.z.eg = 0.65;
        "solid" != this.z.strokeStyle && "dashed" != this.z.strokeStyle && (this.z.strokeStyle = "solid");
        this.K = p;
        this.vu = new eb(0,0);
        this.Re = [];
        this.ac = [];
        this.Ga = {}
    }
    x.lang.ia(jc, fb, "Graph");
    jc.Ow = function(a) {
        var b = [];
        if (!a)
            return b;
        Xa(a) && x.Yb.sb(a.split(";"), function(a) {
            a = a.split(",");
            b.push(new H(a[0],a[1]))
        }
        );
        "[object Array]" == Object.prototype.toString.apply(a) && 0 < a.length && (b = a);
        return b
    }
    ;
    jc.vE = [0.09, 0.0050, 1.0E-4, 1.0E-5];
    x.extend(jc.prototype, {
        initialize: function(a) {
            this.map = a;
            return p
        },
        draw: s(),
        rr: function(a) {
            this.Re.length = 0;
            this.W = jc.Ow(a).slice(0);
            this.qh()
        },
        Wd: function(a) {
            this.rr(a)
        },
        qh: function() {
            if (this.W) {
                var a = this;
                a.vu = new eb;
                x.Yb.sb(this.W, function(b) {
                    a.vu.extend(b)
                }
                )
            }
        },
        fe: t("W"),
        Pm: function(a, b) {
            b && this.W[a] && (this.Re.length = 0,
            this.W[a] = new H(b.lng,b.lat),
            this.qh())
        },
        setStrokeColor: function(a) {
            this.z.strokeColor = a
        },
        RW: function() {
            return this.z.strokeColor
        },
        zp: function(a) {
            0 < a && (this.z.$b = a)
        },
        $K: function() {
            return this.z.$b
        },
        xp: function(a) {
            a == j || (1 < a || 0 > a) || (this.z.ed = a)
        },
        SW: function() {
            return this.z.ed
        },
        ut: function(a) {
            1 < a || 0 > a || (this.z.eg = a)
        },
        nW: function() {
            return this.z.eg
        },
        yp: function(a) {
            "solid" != a && "dashed" != a || (this.z.strokeStyle = a)
        },
        ZK: function() {
            return this.z.strokeStyle
        },
        setFillColor: function(a) {
            this.z.fillColor = a || ""
        },
        mW: function() {
            return this.z.fillColor
        },
        Pd: t("vu"),
        remove: function() {
            this.map && this.map.removeEventListener("onmousemove", this.Ru);
            fb.prototype.remove.call(this);
            this.Re.length = 0
        },
        Af: function() {
            if (!(2 > this.W.length)) {
                this.z.Af = o;
                var a = this;
                I.load("poly", function() {
                    a.yl()
                }
                , o)
            }
        },
        tV: function() {
            this.z.Af = q;
            var a = this;
            I.load("poly", function() {
                a.Vj()
            }
            , o)
        }
    });
    function kc(a) {
        fb.call(this);
        this.K = this.map = p;
        this.z = {
            width: 0,
            height: 0,
            pa: new L(0,0),
            opacity: 1,
            background: "transparent",
            xx: 1,
            OL: "#000",
            PX: "solid",
            point: p
        };
        this.iN(a);
        this.point = this.z.point
    }
    x.lang.ia(kc, fb, "Division");
    x.extend(kc.prototype, {
        tj: function() {
            var a = this.z
              , b = this.content
              , c = ['<div class="BMap_Division" style="position:absolute;'];
            c.push("width:" + a.width + "px;display:block;");
            c.push("overflow:hidden;");
            "none" != a.borderColor && c.push("border:" + a.xx + "px " + a.PX + " " + a.OL + ";");
            c.push("opacity:" + a.opacity + "; filter:(opacity=" + 100 * a.opacity + ")");
            c.push("background:" + a.background + ";");
            c.push('z-index:60;">');
            c.push(b);
            c.push("</div>");
            this.K = zb(this.map.Ef().lE, c.join(""))
        },
        initialize: function(a) {
            this.map = a;
            this.tj();
            this.K && x.F(this.K, G() ? "touchstart" : "mousedown", function(a) {
                na(a)
            }
            );
            return this.K
        },
        draw: function() {
            var a = this.map.Ge(this.z.point);
            this.z.pa = new L(-Math.round(this.z.width / 2) - Math.round(this.z.xx),-Math.round(this.z.height / 2) - Math.round(this.z.xx));
            this.K.style.left = a.x + this.z.pa.width + "px";
            this.K.style.top = a.y + this.z.pa.height + "px"
        },
        V: function() {
            return this.z.point
        },
        c0: function() {
            return this.map.Vb(this.V())
        },
        ha: function(a) {
            this.z.point = a;
            this.draw()
        },
        dZ: function(a, b) {
            this.z.width = Math.round(a);
            this.z.height = Math.round(b);
            this.K && (this.K.style.width = this.z.width + "px",
            this.K.style.height = this.z.height + "px",
            this.draw())
        }
    });
    function lc(a, b, c) {
        a && b && (this.imageUrl = a,
        this.size = b,
        a = new L(Math.floor(b.width / 2),Math.floor(b.height / 2)),
        c = c || {},
        a = c.anchor || a,
        b = c.imageOffset || new L(0,0),
        this.imageSize = c.imageSize,
        this.anchor = a,
        this.imageOffset = b,
        this.infoWindowAnchor = c.infoWindowAnchor || this.anchor,
        this.printImageUrl = c.printImageUrl || "")
    }
    x.extend(lc.prototype, {
        jN: function(a) {
            a && (this.imageUrl = a)
        },
        tZ: function(a) {
            a && (this.printImageUrl = a)
        },
        yd: function(a) {
            a && (this.size = new L(a.width,a.height))
        },
        nc: function(a) {
            a && (this.anchor = new L(a.width,a.height))
        },
        vt: function(a) {
            a && (this.imageOffset = new L(a.width,a.height))
        },
        kZ: function(a) {
            a && (this.infoWindowAnchor = new L(a.width,a.height))
        },
        hZ: function(a) {
            a && (this.imageSize = new L(a.width,a.height))
        },
        toString: ca("Icon")
    });
    function mc(a, b) {
        if (a) {
            b = b || {};
            this.style = {
                anchor: b.anchor || new L(0,0),
                fillColor: b.fillColor || "#000",
                eg: b.fillOpacity || 0,
                scale: b.scale || 1,
                rotation: b.rotation || 0,
                strokeColor: b.strokeColor || "#000",
                ed: b.strokeOpacity || 1,
                $b: b.strokeWeight
            };
            this.Ab = "number" === typeof a ? a : "UserDefined";
            this.wi = this.style.anchor;
            this.Vq = new L(0,0);
            this.anchor = p;
            this.RA = a;
            var c = this;
            I.load("symbol", function() {
                c.nn()
            }
            , o)
        }
    }
    x.extend(mc.prototype, {
        setPath: ba("RA"),
        setAnchor: function(a) {
            this.wi = this.style.anchor = a
        },
        setRotation: function(a) {
            this.style.rotation = a
        },
        setScale: function(a) {
            this.style.scale = a
        },
        setStrokeWeight: function(a) {
            this.style.$b = a
        },
        setStrokeColor: function(a) {
            a = x.Kr.YB(a, this.style.ed);
            this.style.strokeColor = a
        },
        setStrokeOpacity: function(a) {
            this.style.ed = a
        },
        setFillOpacity: function(a) {
            this.style.eg = a
        },
        setFillColor: function(a) {
            this.style.fillColor = a
        }
    });
    function nc(a, b, c, d) {
        a && (this.kv = {},
        this.yK = d ? !!d : q,
        this.Kc = [],
        this.LZ = a instanceof mc ? a : p,
        this.cI = b === j ? o : !!(b.indexOf("%") + 1),
        this.Kj = isNaN(parseFloat(b)) ? 1 : this.cI ? parseFloat(b) / 100 : parseFloat(b),
        this.dI = !!(c.indexOf("%") + 1),
        this.repeat = c != j ? this.dI ? parseFloat(c) / 100 : parseFloat(c) : 0)
    }
    ;function oc(a, b) {
        x.lang.qa.call(this);
        this.content = a;
        this.map = p;
        b = b || {};
        this.z = {
            width: b.width || 0,
            height: b.height || 0,
            maxWidth: b.maxWidth || 730,
            pa: b.offset || new L(0,0),
            title: b.title || "",
            mE: b.maxContent || "",
            Qg: b.enableMaximize || q,
            is: b.enableAutoPan === q ? q : o,
            MC: b.enableCloseOnClick === q ? q : o,
            margin: b.margin || [10, 10, 40, 10],
            TB: b.collisions || [[10, 10], [10, 10], [10, 10], [10, 10]],
            nX: q,
            jY: b.onClosing || ca(o),
            pK: q,
            RC: b.enableParano === o ? o : q,
            message: b.message,
            TC: b.enableSearchTool === o ? o : q,
            ix: b.headerContent || "",
            NC: b.enableContentScroll || q
        };
        if (0 != this.z.width && (220 > this.z.width && (this.z.width = 220),
        730 < this.z.width))
            this.z.width = 730;
        if (0 != this.z.height && (60 > this.z.height && (this.z.height = 60),
        650 < this.z.height))
            this.z.height = 650;
        if (0 != this.z.maxWidth && (220 > this.z.maxWidth && (this.z.maxWidth = 220),
        730 < this.z.maxWidth))
            this.z.maxWidth = 730;
        this.Qd = q;
        this.ri = F.ea;
        this.Qa = p;
        var c = this;
        I.load("infowindow", function() {
            c.tb()
        }
        )
    }
    x.lang.ia(oc, x.lang.qa, "InfoWindow");
    x.extend(oc.prototype, {
        setWidth: function(a) {
            !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (220 > a && (a = 220),
            730 < a && (a = 730)),
            this.z.width = a)
        },
        setHeight: function(a) {
            !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (60 > a && (a = 60),
            650 < a && (a = 650)),
            this.z.height = a)
        },
        mN: function(a) {
            !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (220 > a && (a = 220),
            730 < a && (a = 730)),
            this.z.maxWidth = a)
        },
        qc: function(a) {
            this.z.title = a
        },
        getTitle: function() {
            return this.z.title
        },
        Rc: ba("content"),
        dk: t("content"),
        xt: function(a) {
            this.z.mE = a + ""
        },
        Vd: s(),
        is: function() {
            this.z.is = o
        },
        disableAutoPan: function() {
            this.z.is = q
        },
        enableCloseOnClick: function() {
            this.z.MC = o
        },
        disableCloseOnClick: function() {
            this.z.MC = q
        },
        Qg: function() {
            this.z.Qg = o
        },
        Cw: function() {
            this.z.Qg = q
        },
        show: function() {
            this.Fa = o
        },
        J: function() {
            this.Fa = q
        },
        close: function() {
            this.J()
        },
        Bx: function() {
            this.Qd = o
        },
        restore: function() {
            this.Qd = q
        },
        Yg: function() {
            return this.Ka()
        },
        Ka: ca(q),
        V: function() {
            if (this.Qa && this.Qa.V)
                return this.Qa.V()
        },
        Df: function() {
            return this.z.pa
        }
    });
    Ka.prototype.Bb = function(a, b) {
        if (a instanceof oc && b instanceof H) {
            var c = this.H;
            c.um ? c.um.ha(b) : (c.um = new T(b,{
                icon: new lc(F.ea + "blank.gif",{
                    width: 1,
                    height: 1
                }),
                offset: new L(0,0),
                clickable: q
            }),
            c.um.VQ = 1);
            this.ya(c.um);
            c.um.Bb(a)
        }
    }
    ;
    Ka.prototype.Mc = function() {
        var a = this.H.ab || this.H.Tk;
        a && a.Qa && a.Qa.Mc()
    }
    ;
    fb.prototype.Bb = function(a) {
        this.map && (this.map.Mc(),
        a.Fa = o,
        this.map.H.Tk = a,
        a.Qa = this,
        x.lang.qa.call(a, a.Q))
    }
    ;
    fb.prototype.Mc = function() {
        this.map && this.map.H.Tk && (this.map.H.Tk.Fa = q,
        x.lang.zw(this.map.H.Tk.Q),
        this.map.H.Tk = p)
    }
    ;
    function pc(a, b) {
        fb.call(this);
        this.content = a;
        this.K = this.map = p;
        b = b || {};
        this.z = {
            width: 0,
            pa: b.offset || new L(0,0),
            Bp: {
                backgroundColor: "#fff",
                border: "1px solid #f00",
                padding: "1px",
                whiteSpace: "nowrap",
                font: "12px " + F.fontFamily,
                zIndex: "80",
                MozUserSelect: "none"
            },
            position: b.position || p,
            Vh: b.enableMassClear === q ? q : o,
            Ue: o
        };
        0 > this.z.width && (this.z.width = 0);
        Fb(b.enableClicking) && (this.z.Ue = b.enableClicking);
        this.point = this.z.position;
        var c = this;
        I.load("marker", function() {
            c.tb()
        }
        )
    }
    x.lang.ia(pc, fb, "Label");
    x.extend(pc.prototype, {
        V: function() {
            return this.Zu ? this.Zu.V() : this.point
        },
        ha: function(a) {
            a instanceof H && !this.Uw() && (this.point = this.z.position = new H(a.lng,a.lat))
        },
        Rc: ba("content"),
        YE: function(a) {
            0 <= a && 1 >= a && (this.z.opacity = a)
        },
        Ie: function(a) {
            a instanceof L && (this.z.pa = new L(a.width,a.height))
        },
        Df: function() {
            return this.z.pa
        },
        zd: function(a) {
            a = a || {};
            this.z.Bp = x.extend(this.z.Bp, a)
        },
        li: function(a) {
            return this.zd(a)
        },
        qc: function(a) {
            this.z.title = a || ""
        },
        getTitle: function() {
            return this.z.title
        },
        lN: function(a) {
            this.point = (this.Zu = a) ? this.z.position = a.V() : this.z.position = p
        },
        Uw: function() {
            return this.Zu || p
        },
        dk: t("content")
    });
    function qc(a, b) {
        if (0 !== arguments.length) {
            fb.apply(this, arguments);
            b = b || {};
            this.z = {
                Ua: a,
                opacity: b.opacity || 1,
                mm: b.mm || "",
                Zr: b.displayOnMinLevel || 1,
                Vh: b.enableMassClear === q ? q : o,
                Yr: b.displayOnMaxLevel || 19,
                FZ: b.stretch || q
            };
            var c = this;
            I.load("groundoverlay", function() {
                c.tb()
            }
            )
        }
    }
    x.lang.ia(qc, fb, "GroundOverlay");
    x.extend(qc.prototype, {
        setBounds: function(a) {
            this.z.Ua = a
        },
        getBounds: function() {
            return this.z.Ua
        },
        setOpacity: function(a) {
            this.z.opacity = a
        },
        getOpacity: function() {
            return this.z.opacity
        },
        setImageURL: function(a) {
            this.z.mm = a
        },
        getImageURL: function() {
            return this.z.mm
        },
        setDisplayOnMinLevel: function(a) {
            this.z.Zr = a
        },
        getDisplayOnMinLevel: function() {
            return this.z.Zr
        },
        setDisplayOnMaxLevel: function(a) {
            this.z.Yr = a
        },
        getDisplayOnMaxLevel: function() {
            return this.z.Yr
        }
    });
    var rc = 3
      , sc = 4;
    function tc() {
        var a = document.createElement("canvas");
        return !(!a.getContext || !a.getContext("2d"))
    }
    function uc(a, b) {
        var c = this;
        tc() && (a === j && aa(Error("\u6ca1\u6709\u4f20\u5165points\u6570\u636e")),
        "[object Array]" !== Object.prototype.toString.call(a) && aa(Error("points\u6570\u636e\u4e0d\u662f\u6570\u7ec4")),
        b = b || {},
        fb.apply(c, arguments),
        c.R = {
            W: a
        },
        c.z = {
            shape: b.shape || rc,
            size: b.size || sc,
            color: b.color || "#fa937e",
            Vh: o
        },
        this.OA = [],
        this.ae = [],
        I.load("pointcollection", function() {
            for (var a = 0, b; b = c.OA[a]; a++)
                c[b.method].apply(c, b.arguments);
            for (a = 0; b = c.ae[a]; a++)
                c[b.method].apply(c, b.arguments)
        }
        ))
    }
    x.lang.ia(uc, fb, "PointCollection");
    x.extend(uc.prototype, {
        initialize: function(a) {
            this.OA && this.OA.push({
                method: "initialize",
                arguments: arguments
            })
        },
        setPoints: function(a) {
            this.ae && this.ae.push({
                method: "setPoints",
                arguments: arguments
            })
        },
        setStyles: function(a) {
            this.ae && this.ae.push({
                method: "setStyles",
                arguments: arguments
            })
        },
        clear: function() {
            this.ae && this.ae.push({
                method: "clear",
                arguments: arguments
            })
        },
        remove: function() {
            this.ae && this.ae.push({
                method: "remove",
                arguments: arguments
            })
        }
    });
    var vc = new lc(F.ea + "marker_red_sprite.png",new L(19,25),{
        anchor: new L(10,25),
        infoWindowAnchor: new L(10,0)
    })
      , wc = new lc(F.ea + "marker_red_sprite.png",new L(20,11),{
        anchor: new L(6,11),
        imageOffset: new L(-19,-13)
    });
    function T(a, b) {
        fb.call(this);
        b = b || {};
        this.point = a;
        this.bq = this.map = p;
        this.z = {
            pa: b.offset || new L(0,0),
            hj: b.icon || vc,
            uk: wc,
            title: b.title || "",
            label: p,
            uJ: b.baseZIndex || 0,
            Ue: o,
            R3: q,
            aE: q,
            Vh: b.enableMassClear === q ? q : o,
            Sb: q,
            SM: b.raiseOnDrag === o ? o : q,
            ZM: q,
            rd: b.draggingCursor || F.rd,
            rotation: b.rotation || 0
        };
        b.icon && !b.shadow && (this.z.uk = p);
        b.enableDragging && (this.z.Sb = b.enableDragging);
        Fb(b.enableClicking) && (this.z.Ue = b.enableClicking);
        var c = this;
        I.load("marker", function() {
            c.tb()
        }
        )
    }
    T.ou = hc.gm(-90) + 1E6;
    T.OF = T.ou + 1E6;
    x.lang.ia(T, fb, "Marker");
    x.extend(T.prototype, {
        Ib: function(a) {
            if (a instanceof lc || a instanceof mc)
                this.z.hj = a
        },
        Go: function() {
            return this.z.hj
        },
        fy: function(a) {
            a instanceof lc && (this.z.uk = a)
        },
        getShadow: function() {
            return this.z.uk
        },
        Nm: function(a) {
            this.z.label = a || p
        },
        sD: function() {
            return this.z.label
        },
        Sb: function() {
            this.z.Sb = o
        },
        rC: function() {
            this.z.Sb = q
        },
        V: t("point"),
        ha: function(a) {
            a instanceof H && (this.point = new H(a.lng,a.lat))
        },
        mi: function(a, b) {
            this.z.aE = !!a;
            a && (this.jG = b || 0)
        },
        qc: function(a) {
            this.z.title = a + ""
        },
        getTitle: function() {
            return this.z.title
        },
        Ie: function(a) {
            a instanceof L && (this.z.pa = a)
        },
        Df: function() {
            return this.z.pa
        },
        Mm: ba("bq"),
        wp: function(a) {
            this.z.rotation = a
        },
        XK: function() {
            return this.z.rotation
        }
    });
    function xc(a, b) {
        jc.call(this, b);
        b = b || {};
        this.z.eg = b.fillOpacity ? b.fillOpacity : 0.65;
        this.z.fillColor = "" == b.fillColor ? "" : b.fillColor ? b.fillColor : "#fff";
        this.Wd(a);
        var c = this;
        I.load("poly", function() {
            c.tb()
        }
        )
    }
    x.lang.ia(xc, jc, "Polygon");
    x.extend(xc.prototype, {
        Wd: function(a, b) {
            this.Zn = jc.Ow(a).slice(0);
            var c = jc.Ow(a).slice(0);
            1 < c.length && c.push(new H(c[0].lng,c[0].lat));
            jc.prototype.Wd.call(this, c, b)
        },
        Pm: function(a, b) {
            this.Zn[a] && (this.Zn[a] = new H(b.lng,b.lat),
            this.W[a] = new H(b.lng,b.lat),
            0 == a && !this.W[0].$a(this.W[this.W.length - 1]) && (this.W[this.W.length - 1] = new H(b.lng,b.lat)),
            this.qh())
        },
        fe: function() {
            var a = this.Zn;
            0 == a.length && (a = this.W);
            return a
        }
    });
    function yc(a, b) {
        jc.call(this, b);
        this.rr(a);
        var c = this;
        I.load("poly", function() {
            c.tb()
        }
        )
    }
    x.lang.ia(yc, jc, "Polyline");
    function zc(a, b, c) {
        this.point = a;
        this.ma = Math.abs(b);
        xc.call(this, [], c)
    }
    zc.vE = [0.01, 1.0E-4, 1.0E-5, 4.0E-6];
    x.lang.ia(zc, xc, "Circle");
    x.extend(zc.prototype, {
        initialize: function(a) {
            this.map = a;
            this.W = this.Nu(this.point, this.ma);
            this.qh();
            return p
        },
        Aa: t("point"),
        Jf: function(a) {
            a && (this.point = a)
        },
        VK: t("ma"),
        cf: function(a) {
            this.ma = Math.abs(a)
        },
        Nu: function(a, b) {
            if (!a || !b || !this.map)
                return [];
            for (var c = [], d = b / 6378800, e = Math.PI / 180 * a.lat, f = Math.PI / 180 * a.lng, g = 0; 360 > g; g += 9) {
                var i = Math.PI / 180 * g
                  , k = Math.asin(Math.sin(e) * Math.cos(d) + Math.cos(e) * Math.sin(d) * Math.cos(i))
                  , i = new H(((f - Math.atan2(Math.sin(i) * Math.sin(d) * Math.cos(e), Math.cos(d) - Math.sin(e) * Math.sin(k)) + Math.PI) % (2 * Math.PI) - Math.PI) * (180 / Math.PI),k * (180 / Math.PI));
                c.push(i)
            }
            d = c[0];
            c.push(new H(d.lng,d.lat));
            return c
        }
    });
    var Ac = {};
    function Bc(a) {
        this.map = a;
        this.tm = [];
        this.Kf = [];
        this.rg = [];
        this.CU = 300;
        this.GE = 0;
        this.kg = {};
        this.Si = {};
        this.eh = 0;
        this.VD = o;
        this.WJ = {};
        this.Kn = this.vn(1);
        this.$c = this.vn(2);
        this.cl = this.vn(3);
        a.platform.appendChild(this.Kn);
        a.platform.appendChild(this.$c);
        a.platform.appendChild(this.cl)
    }
    z.He(function(a) {
        var b = new Bc(a);
        b.fa();
        a.ib = b
    }
    );
    x.extend(Bc.prototype, {
        fa: function() {
            var a = this
              , b = a.map;
            b.addEventListener("loadcode", function() {
                a.yx()
            }
            );
            b.addEventListener("addtilelayer", function(b) {
                a.Mg(b)
            }
            );
            b.addEventListener("removetilelayer", function(b) {
                a.lh(b)
            }
            );
            b.addEventListener("setmaptype", function(b) {
                a.og(b)
            }
            );
            b.addEventListener("zoomstartcode", function(b) {
                a.Ac(b)
            }
            );
            b.addEventListener("setcustomstyles", function(b) {
                a.wt(b.target);
                a.Hf(o)
            }
            )
        },
        yx: function() {
            var a = this;
            if (x.S.ba)
                try {
                    document.execCommand("BackgroundImageCache", q, o)
                } catch (b) {}
            this.loaded || a.nx();
            a.Hf();
            this.loaded || (this.loaded = o,
            I.load("tile", function() {
                a.pP()
            }
            ))
        },
        nx: function() {
            for (var a = this.map.la().Qq, b = 0; b < a.length; b++) {
                var c = new Cc;
                x.extend(c, a[b]);
                this.tm.push(c);
                c.fa(this.map, this.Kn)
            }
            this.wt()
        },
        vn: function(a) {
            var b = K("div");
            b.style.position = "absolute";
            b.style.overflow = "visible";
            b.style.left = b.style.top = "0";
            b.style.zIndex = a;
            return b
        },
        hf: function() {
            this.eh--;
            var a = this;
            this.VD && (this.map.dispatchEvent(new N("onfirsttileloaded")),
            this.VD = q);
            0 == this.eh && (this.Ai && (clearTimeout(this.Ai),
            this.Ai = p),
            this.Ai = setTimeout(function() {
                if (a.eh == 0) {
                    a.map.dispatchEvent(new N("ontilesloaded"));
                    a.VD = o
                }
                a.Ai = p
            }
            , 80))
        },
        CD: function(a, b) {
            return "TILE-" + b.Q + "-" + a[0] + "-" + a[1] + "-" + a[2]
        },
        lx: function(a) {
            var b = a.vb;
            b && yb(b) && b.parentNode.removeChild(b);
            delete this.kg[a.name];
            a.loaded || (Dc(a),
            a.vb = p,
            a.wm = p)
        },
        fm: function(a, b, c) {
            var d = this.map
              , e = d.la()
              , f = d.wa
              , g = d.kc
              , i = e.Bc(f)
              , k = this.LK()
              , l = k[0]
              , m = k[1]
              , n = k[2]
              , u = k[3]
              , v = k[4]
              , c = "undefined" != typeof c ? c : 0
              , e = e.k.Db
              , k = d.Q.replace(/^TANGRAM_/, "");
            for (this.Gc ? this.Gc.length = 0 : this.Gc = []; l < n; l++)
                for (var w = m; w < u; w++) {
                    var y = l
                      , B = w;
                    this.Gc.push([y, B]);
                    y = k + "_" + b + "_" + y + "_" + B + "_" + f;
                    this.WJ[y] = y
                }
            this.Gc.sort(function(a) {
                return function(b, c) {
                    return 0.4 * Math.abs(b[0] - a[0]) + 0.6 * Math.abs(b[1] - a[1]) - (0.4 * Math.abs(c[0] - a[0]) + 0.6 * Math.abs(c[1] - a[1]))
                }
            }
            ([v[0] - 1, v[1] - 1]));
            g = [Math.round(-g.lng / i), Math.round(g.lat / i)];
            l = -d.offsetY + d.height / 2;
            a.style.left = -d.offsetX + d.width / 2 + "px";
            a.style.top = l + "px";
            this.ye ? this.ye.length = 0 : this.ye = [];
            l = 0;
            for (d = a.childNodes.length; l < d; l++)
                w = a.childNodes[l],
                w.Mq = q,
                this.ye.push(w);
            if (l = this.zm)
                for (var A in l)
                    delete l[A];
            else
                this.zm = {};
            this.ze ? this.ze.length = 0 : this.ze = [];
            l = 0;
            for (d = this.Gc.length; l < d; l++) {
                A = this.Gc[l][0];
                i = this.Gc[l][1];
                w = 0;
                for (m = this.ye.length; w < m; w++)
                    if (n = this.ye[w],
                    n.id == k + "_" + b + "_" + A + "_" + i + "_" + f) {
                        n.Mq = o;
                        this.zm[n.id] = n;
                        break
                    }
            }
            l = 0;
            for (d = this.ye.length; l < d; l++)
                n = this.ye[l],
                n.Mq || this.ze.push(n);
            this.Um = [];
            w = (e + c) * this.map.D.devicePixelRatio;
            l = 0;
            for (d = this.Gc.length; l < d; l++)
                A = this.Gc[l][0],
                i = this.Gc[l][1],
                u = A * e + g[0] - c / 2,
                v = (-1 - i) * e + g[1] - c / 2,
                y = k + "_" + b + "_" + A + "_" + i + "_" + f,
                m = this.zm[y],
                n = p,
                m ? (n = m.style,
                n.left = u + "px",
                n.top = v + "px",
                m.Me || this.Um.push([A, i, m])) : (0 < this.ze.length ? (m = this.ze.shift(),
                m.getContext("2d").clearRect(-c / 2, -c / 2, w, w),
                n = m.style) : (m = document.createElement("canvas"),
                n = m.style,
                n.position = "absolute",
                n.width = e + c + "px",
                n.height = e + c + "px",
                this.tx() && (n.WebkitTransform = "scale(1.001)"),
                m.setAttribute("width", w),
                m.setAttribute("height", w),
                a.appendChild(m)),
                m.id = y,
                n.left = u + "px",
                n.top = v + "px",
                -1 < y.indexOf("bg") && (u = "#F3F1EC",
                this.map.D.io && (u = this.map.D.io),
                n.background = u ? u : ""),
                this.Um.push([A, i, m])),
                m.style.visibility = "";
            l = 0;
            for (d = this.ze.length; l < d; l++)
                this.ze[l].style.visibility = "hidden";
            return this.Um
        },
        tx: function() {
            return /M040/i.test(navigator.userAgent)
        },
        LK: function() {
            var a = this.map
              , b = a.la()
              , c = b.HD(a.wa)
              , d = a.kc
              , e = Math.ceil(d.lng / c)
              , f = Math.ceil(d.lat / c)
              , b = b.k.Db
              , c = [e, f, (d.lng - e * c) / c * b, (d.lat - f * c) / c * b];
            return [c[0] - Math.ceil((a.width / 2 - c[2]) / b), c[1] - Math.ceil((a.height / 2 - c[3]) / b), c[0] + Math.ceil((a.width / 2 + c[2]) / b), c[1] + Math.ceil((a.height / 2 + c[3]) / b), c]
        },
        AZ: function(a, b, c, d) {
            var e = this;
            e.J0 = b;
            var f = this.map.la()
              , g = e.CD(a, c)
              , i = f.k.Db
              , b = [a[0] * i + b[0], (-1 - a[1]) * i + b[1]]
              , k = this.kg[g];
            k && k.vb ? (wb(k.vb, b),
            d && (d = new Q(a[0],a[1]),
            f = this.map.D.ie ? this.map.D.ie.style : "normal",
            d = c.getTilesUrl(d, a[2], f),
            k.loaded = q,
            Ec(k, d)),
            k.loaded ? this.hf() : Fc(k, function() {
                e.hf()
            }
            )) : (k = this.Si[g]) && k.vb ? (c.Eb.insertBefore(k.vb, c.Eb.lastChild),
            this.kg[g] = k,
            wb(k.vb, b),
            d && (d = new Q(a[0],a[1]),
            f = this.map.D.ie ? this.map.D.ie.style : "normal",
            d = c.getTilesUrl(d, a[2], f),
            k.loaded = q,
            Ec(k, d)),
            k.loaded ? this.hf() : Fc(k, function() {
                e.hf()
            }
            )) : (k = i * Math.pow(2, f.Zl() - a[2]),
            new H(a[0] * k,a[1] * k),
            d = new Q(a[0],a[1]),
            f = this.map.D.ie ? this.map.D.ie.style : "normal",
            d = c.getTilesUrl(d, a[2], f),
            k = new Gc(this,d,b,a,c),
            Fc(k, function() {
                e.hf()
            }
            ),
            k.Jn(),
            this.kg[g] = k)
        },
        hf: function() {
            this.eh--;
            var a = this;
            0 == this.eh && (this.Ai && (clearTimeout(this.Ai),
            this.Ai = p),
            this.Ai = setTimeout(function() {
                if (a.eh == 0) {
                    a.map.dispatchEvent(new N("ontilesloaded"));
                    if (ua) {
                        if (qa && ra && sa) {
                            var b = $a()
                              , c = a.map.kb();
                            setTimeout(function() {
                                Oa(5030, {
                                    load_script_time: ra - qa,
                                    load_tiles_time: b - sa,
                                    map_width: c.width,
                                    map_height: c.height,
                                    map_size: c.width * c.height
                                })
                            }
                            , 1E4);
                            va.cc("img_fisrt_loaded");
                            va.cc("map_width", c.width);
                            va.cc("map_height", c.height);
                            va.cc("map_size", c.width * c.height);
                            va.Gm();
                            z.uj("cus.fire", "time", {
                                z_imgfirstloaded: b - sa
                            })
                        }
                        ua = q
                    }
                }
                a.Ai = p
            }
            , 80))
        },
        CD: function(a, b) {
            return this.map.la() === Na ? "TILE-" + b.Q + "-" + this.map.kw + "-" + a[0] + "-" + a[1] + "-" + a[2] : "TILE-" + b.Q + "-" + a[0] + "-" + a[1] + "-" + a[2]
        },
        lx: function(a) {
            var b = a.vb;
            b && (Hc(b),
            yb(b) && b.parentNode.removeChild(b));
            delete this.kg[a.name];
            a.loaded || (Hc(b),
            Dc(a),
            a.vb = p,
            a.wm = p)
        },
        Hf: function(a) {
            var b = this;
            if (b.map.la() == Na)
                I.load("coordtrans", function() {
                    b.map.Kb || (b.map.Kb = Na.ck(b.map.no),
                    b.map.kw = Na.JK(b.map.Kb));
                    b.KH()
                }
                , o);
            else {
                if (a && a)
                    for (var c in this.Si)
                        delete this.Si[c];
                b.KH(a)
            }
        },
        KH: function(a) {
            for (var b = this.tm.concat(this.Kf), c = b.length, d = 0; d < c; d++) {
                var e = b[d];
                if (e.Ub && l.wa < e.Ub)
                    break;
                if (e.cw) {
                    var f = this.Eb = e.Eb;
                    if (a) {
                        var g = f;
                        if (g && g.childNodes)
                            for (var i = g.childNodes.length, k = i - 1; 0 <= k; k--)
                                i = g.childNodes[k],
                                g.removeChild(i),
                                i = p
                    }
                    if (this.map.Jb()) {
                        this.$c.style.display = "block";
                        f.style.display = "none";
                        this.map.dispatchEvent(new N("vectorchanged"), {
                            isvector: o
                        });
                        continue
                    } else
                        f.style.display = "block",
                        this.$c.style.display = "none",
                        this.map.dispatchEvent(new N("vectorchanged"), {
                            isvector: q
                        })
                }
                if (!e.BH && !(e.Xo && !this.map.Jb() || e.GL && this.map.Jb())) {
                    var l = this.map
                      , m = l.la()
                      , f = m.Mo()
                      , i = l.wa
                      , n = l.kc;
                    m == Na && n.$a(new H(0,0)) && (n = l.kc = f.sm(l.Te, l.Kb));
                    var u = m.Bc(i)
                      , i = m.HD(i)
                      , f = Math.ceil(n.lng / i)
                      , g = Math.ceil(n.lat / i)
                      , v = m.k.Db
                      , i = [f, g, (n.lng - f * i) / i * v, (n.lat - g * i) / i * v]
                      , k = i[0] - Math.ceil((l.width / 2 - i[2]) / v)
                      , f = i[1] - Math.ceil((l.height / 2 - i[3]) / v)
                      , g = i[0] + Math.ceil((l.width / 2 + i[2]) / v)
                      , w = 0;
                    m === Na && 15 == l.U() && (w = 1);
                    m = i[1] + Math.ceil((l.height / 2 + i[3]) / v) + w;
                    this.pJ = new H(n.lng,n.lat);
                    var y = this.kg, v = -this.pJ.lng / u, w = this.pJ.lat / u, u = [Math.ceil(v), Math.ceil(w)], n = l.U(), B;
                    for (B in y) {
                        var A = y[B]
                          , D = A.info;
                        (D[2] != n || D[2] == n && (k > D[0] || g <= D[0] || f > D[1] || m <= D[1])) && this.lx(A)
                    }
                    y = -l.offsetX + l.width / 2;
                    A = -l.offsetY + l.height / 2;
                    e.Eb && (e.Eb.style.left = Math.ceil(v + y) - u[0] + "px",
                    e.Eb.style.top = Math.ceil(w + A) - u[1] + "px",
                    e.Eb.style.WebkitTransform = "translate3d(0,0,0)");
                    v = [];
                    for (l.sB = []; k < g; k++)
                        for (w = f; w < m; w++)
                            v.push([k, w]),
                            l.sB.push({
                                x: k,
                                y: w
                            });
                    v.sort(function(a) {
                        return function(b, c) {
                            return 0.4 * Math.abs(b[0] - a[0]) + 0.6 * Math.abs(b[1] - a[1]) - (0.4 * Math.abs(c[0] - a[0]) + 0.6 * Math.abs(c[1] - a[1]))
                        }
                    }
                    ([i[0] - 1, i[1] - 1]));
                    i = v.length;
                    this.eh += i;
                    for (k = 0; k < i; k++)
                        this.AZ([v[k][0], v[k][1], n], u, e, a)
                }
            }
        },
        Mg: function(a) {
            var b = this
              , c = a.target
              , a = b.map.Jb();
            if (c instanceof bb)
                a && !c.nm && (c.fa(this.map, this.$c),
                c.nm = o);
            else if (c.Lf && this.map.Mg(c.Lf),
            c.Xo) {
                for (a = 0; a < b.rg.length; a++)
                    if (b.rg[a] == c)
                        return;
                I.load("vector", function() {
                    c.fa(b.map, b.$c);
                    b.rg.push(c)
                }
                , o)
            } else {
                for (a = 0; a < b.Kf.length; a++)
                    if (b.Kf[a] == c)
                        return;
                c.fa(this.map, this.cl);
                b.Kf.push(c)
            }
        },
        lh: function(a) {
            var a = a.target
              , b = this.map.Jb();
            if (a instanceof bb)
                b && a.nm && (a.remove(),
                a.nm = q);
            else {
                a.Lf && this.map.lh(a.Lf);
                if (a.Xo)
                    for (var b = 0, c = this.rg.length; b < c; b++)
                        a == this.rg[b] && this.rg.splice(b, 1);
                else {
                    b = 0;
                    for (c = this.Kf.length; b < c; b++)
                        a == this.Kf[b] && this.Kf.splice(b, 1)
                }
                a.remove()
            }
        },
        og: function() {
            for (var a = this.tm, b = 0, c = a.length; b < c; b++)
                a[b].remove();
            delete this.Eb;
            this.tm = [];
            this.Si = this.kg = {};
            this.nx();
            this.Hf()
        },
        Ac: function() {
            var a = this;
            a.gd && x.B.J(a.gd);
            setTimeout(function() {
                a.Hf();
                a.map.dispatchEvent(new N("onzoomend"))
            }
            , 10)
        },
        G3: s(),
        wt: function(a) {
            var b = this.map.la();
            if (!this.map.Jb() && (a ? this.map.D.IZ = a : a = this.map.D.IZ,
            a))
                for (var c = p, c = "2" == z.Yt ? [z.url.proto + z.url.domain.main_domain_cdn.other[0] + "/"] : [z.url.proto + z.url.domain.main_domain_cdn.baidu[0] + "/", z.url.proto + z.url.domain.main_domain_cdn.baidu[1] + "/", z.url.proto + z.url.domain.main_domain_cdn.baidu[2] + "/"], d = 0, e; e = this.tm[d]; d++)
                    if (e.vZ == o) {
                        b.k.Nb = 18;
                        e.getTilesUrl = function(b, d) {
                            var e = b.x
                              , k = b.y
                              , l = "customimage/tile?&x=" + e + "&y=" + k + "&z=" + d + "&udt=20150601"
                              , l = a.styleStr ? l + ("&styles=" + encodeURIComponent(a.styleStr)) : l + ("&customid=" + a.style);
                            return c[Math.abs(e + k) % c.length] + l
                        }
                        ;
                        break
                    }
        }
    });
    function Gc(a, b, c, d, e) {
        this.wm = a;
        this.position = c;
        this.zu = [];
        this.name = a.CD(d, e);
        this.info = d;
        this.MI = e.Us();
        d = K("img");
        xb(d);
        d.BK = q;
        var f = d.style
          , a = a.map.la();
        f.position = "absolute";
        f.border = "none";
        f.width = a.k.Db + "px";
        f.height = a.k.Db + "px";
        f.left = c[0] + "px";
        f.top = c[1] + "px";
        f.maxWidth = "none";
        this.vb = d;
        this.src = b;
        Ic && (this.vb.style.opacity = 0);
        var g = this;
        this.vb.onload = function() {
            z.RX.$P();
            g.loaded = o;
            if (g.wm) {
                var a = g.wm
                  , b = a.Si;
                if (!b[g.name]) {
                    a.GE++;
                    b[g.name] = g
                }
                if (g.vb && !yb(g.vb) && e.Eb) {
                    e.Eb.appendChild(g.vb);
                    if (x.S.ba <= 6 && x.S.ba > 0 && g.MI)
                        g.vb.style.cssText = g.vb.style.cssText + (';filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + g.src + '",sizingMethod=scale);')
                }
                var c = a.GE - a.CU, d;
                for (d in b) {
                    if (c <= 0)
                        break;
                    if (!a.kg[d]) {
                        b[d].wm = p;
                        var f = b[d].vb;
                        if (f && f.parentNode) {
                            f.parentNode.removeChild(f);
                            Hc(f)
                        }
                        f = p;
                        b[d].vb = p;
                        delete b[d];
                        a.GE--;
                        c--
                    }
                }
                Ic && new sb({
                    wc: 20,
                    duration: 200,
                    ja: function(a) {
                        if (g.vb && g.vb.style)
                            g.vb.style.opacity = a * 1
                    },
                    finish: function() {
                        g.vb && g.vb.style && delete g.vb.style.opacity
                    }
                });
                Dc(g)
            }
        }
        ;
        this.vb.onerror = function() {
            Dc(g);
            if (g.wm) {
                var a = g.wm.map.la();
                if (a.k.UC) {
                    g.error = o;
                    g.vb.src = a.k.UC;
                    g.vb && !yb(g.vb) && e.Eb.appendChild(g.vb)
                }
            }
        }
        ;
        d = p
    }
    function Fc(a, b) {
        a.zu.push(b)
    }
    Gc.prototype.Jn = function() {
        this.vb.src = 0 < x.S.ba && 6 >= x.S.ba && this.MI ? F.ea + "blank.gif" : "" !== this.src && this.vb.src == this.src ? this.src + "&t = " + Date.now() : this.src
    }
    ;
    function Dc(a) {
        for (var b = 0; b < a.zu.length; b++)
            a.zu[b]();
        a.zu.length = 0
    }
    function Hc(a) {
        if (a) {
            a.onload = a.onerror = p;
            var b = a.attributes, c, d, e;
            if (b) {
                d = b.length;
                for (c = 0; c < d; c += 1)
                    e = b[c].name,
                    Va(a[e]) && (a[e] = p)
            }
            if (b = a.children) {
                d = b.length;
                for (c = 0; c < d; c += 1)
                    Hc(a.children[c])
            }
        }
    }
    function Ec(a, b) {
        a.src = b;
        a.Jn()
    }
    var Ic = !x.S.ba || 8 < x.S.ba;
    function Cc(a) {
        this.fh = a || {};
        this.WU = this.fh.copyright || p;
        this.g_ = this.fh.transparentPng || q;
        this.cw = this.fh.baseLayer || q;
        this.zIndex = this.fh.zIndex || 0;
        this.Q = Cc.LR++
    }
    Cc.LR = 0;
    x.lang.ia(Cc, x.lang.qa, "TileLayer");
    x.extend(Cc.prototype, {
        fa: function(a, b) {
            this.cw && (this.zIndex = -100);
            this.map = a;
            if (!this.Eb) {
                var c = K("div")
                  , d = c.style;
                d.position = "absolute";
                d.overflow = "visible";
                d.zIndex = this.zIndex;
                d.left = Math.ceil(-a.offsetX + a.width / 2) + "px";
                d.top = Math.ceil(-a.offsetY + a.height / 2) + "px";
                b.appendChild(c);
                this.Eb = c
            }
        },
        remove: function() {
            this.Eb && this.Eb.parentNode && (this.Eb.innerHTML = "",
            this.Eb.parentNode.removeChild(this.Eb));
            delete this.Eb
        },
        Us: t("g_"),
        getTilesUrl: function(a, b) {
            var c = "";
            this.fh.tileUrlTemplate && (c = this.fh.tileUrlTemplate.replace(/\{X\}/, a.x),
            c = c.replace(/\{Y\}/, a.y),
            c = c.replace(/\{Z\}/, b));
            return c
        },
        Xl: t("WU"),
        la: function() {
            return this.wb || La
        }
    });
    function Jc(a, b) {
        Gb(a) ? b = a || {} : (b = b || {},
        b.databoxId = a);
        this.k = {
            XJ: b.databoxId,
            Sg: b.geotableId,
            Fm: b.q || "",
            Ot: b.tags || "",
            filter: b.filter || "",
            my: b.sortby || "",
            GZ: b.styleId || "",
            zl: b.ak || pa,
            $v: b.age || 36E5,
            zIndex: 11,
            MX: "VectorCloudLayer",
            kk: b.hotspotName || "vector_md_" + (1E5 * Math.random()).toFixed(0),
            iU: "LBS\u4e91\u9ebb\u70b9\u5c42"
        };
        this.Xo = o;
        Cc.call(this, this.k);
        this.oV = z.vc + "geosearch/detail/";
        this.pV = z.vc + "geosearch/v2/detail/";
        this.To = {}
    }
    x.ia(Jc, Cc, "VectorCloudLayer");
    function Kc(a) {
        a = a || {};
        this.k = x.extend(a, {
            zIndex: 1,
            MX: "VectorTrafficLayer",
            iU: "\u77e2\u91cf\u8def\u51b5\u5c42"
        });
        this.Xo = o;
        Cc.call(this, this.k);
        this.c_ = z.url.proto + z.url.domain.vector_traffic + "/gvd/?qt=lgvd&styles=pl&layers=tf";
        this.rb = {
            "0": [2, 1354709503, 2, 2, 0, [], 0, 0],
            1: [2, 1354709503, 3, 2, 0, [], 0, 0],
            10: [2, -231722753, 2, 2, 0, [], 0, 0],
            11: [2, -231722753, 3, 2, 0, [], 0, 0],
            12: [2, -231722753, 4, 2, 0, [], 0, 0],
            13: [2, -231722753, 5, 2, 0, [], 0, 0],
            14: [2, -231722753, 6, 2, 0, [], 0, 0],
            15: [2, -1, 4, 0, 0, [], 0, 0],
            16: [2, -1, 5.5, 0, 0, [], 0, 0],
            17: [2, -1, 7, 0, 0, [], 0, 0],
            18: [2, -1, 8.5, 0, 0, [], 0, 0],
            19: [2, -1, 10, 0, 0, [], 0, 0],
            2: [2, 1354709503, 4, 2, 0, [], 0, 0],
            3: [2, 1354709503, 5, 2, 0, [], 0, 0],
            4: [2, 1354709503, 6, 2, 0, [], 0, 0],
            5: [2, -6350337, 2, 2, 0, [], 0, 0],
            6: [2, -6350337, 3, 2, 0, [], 0, 0],
            7: [2, -6350337, 4, 2, 0, [], 0, 0],
            8: [2, -6350337, 5, 2, 0, [], 0, 0],
            9: [2, -6350337, 6, 2, 0, [], 0, 0]
        }
    }
    x.ia(Kc, Cc, "VectorTrafficLayer");
    function bb(a) {
        this.DU = [z.url.proto + z.url.domain.TILE_ONLINE_URLS[1] + "/gvd/?", z.url.proto + z.url.domain.TILE_ONLINE_URLS[2] + "/gvd/?", z.url.proto + z.url.domain.TILE_ONLINE_URLS[3] + "/gvd/?", z.url.proto + z.url.domain.TILE_ONLINE_URLS[4] + "/gvd/?"];
        this.k = {
            xK: q
        };
        for (var b in a)
            this.k[b] = a[b];
        this.Lh = this.vh = this.La = this.A = this.C = p;
        this.LL = 0;
        var c = this;
        I.load("vector", function() {
            c.gf()
        }
        )
    }
    x.extend(bb.prototype, {
        fa: function(a, b) {
            this.C = a;
            this.A = b
        },
        remove: function() {
            this.A = this.C = p
        }
    });
    function Lc(a) {
        Cc.call(this, a);
        this.k = a || {};
        this.GL = o;
        this.Lf = new Kc;
        this.Lf.uy = this;
        if (this.k.predictDate) {
            if (1 > this.k.predictDate.weekday || 7 < this.k.predictDate.weekday)
                this.k.predictDate = 1;
            if (0 > this.k.predictDate.hour || 23 < this.k.predictDate.hour)
                this.k.predictDate.hour = 0
        }
        this.OT = z.url.proto + z.url.domain.traffic + ":8002/traffic/"
    }
    Lc.prototype = new Cc;
    Lc.prototype.fa = function(a, b) {
        Cc.prototype.fa.call(this, a, b);
        this.C = a
    }
    ;
    Lc.prototype.Us = ca(o);
    Lc.prototype.getTilesUrl = function(a, b) {
        var c = "";
        this.k.predictDate ? c = "HistoryService?day=" + (this.k.predictDate.weekday - 1) + "&hour=" + this.k.predictDate.hour + "&t=" + (new Date).getTime() + "&" : (c = "TrafficTileService?time=" + (new Date).getTime() + "&",
        c += "label=web2D&v=016&");
        return (this.OT + c + "level=" + b + "&x=" + a.x + "&y=" + a.y).replace(/-(\d+)/gi, "M$1")
    }
    ;
    var Mc = [z.url.proto + z.url.domain.TILES_YUN_HOST[0] + "/georender/gss", z.url.proto + z.url.domain.TILES_YUN_HOST[1] + "/georender/gss", z.url.proto + z.url.domain.TILES_YUN_HOST[2] + "/georender/gss", z.url.proto + z.url.domain.TILES_YUN_HOST[3] + "/georender/gss"]
      , Nc = z.url.proto + z.url.domain.main_domain_nocdn.baidu + "/style/poi/rangestyle"
      , Oc = 100;
    function mb(a, b) {
        Cc.call(this);
        var c = this;
        this.GL = o;
        var d = q;
        try {
            document.createElement("canvas").getContext("2d"),
            d = o
        } catch (e) {
            d = q
        }
        d && (this.Lf = new Jc(a,b),
        this.Lf.uy = this);
        Gb(a) ? b = a || {} : (c.yn = a,
        b = b || {});
        b.geotableId && (c.jf = b.geotableId);
        b.databoxId && (c.yn = b.databoxId);
        d = z.vc + "geosearch";
        c.bc = {
            OM: b.pointDensity || Oc,
            kX: d + "/detail/",
            lX: d + "/v2/detail/",
            $v: b.age || 36E5,
            Fm: b.q || "",
            QZ: "png",
            d2: [5, 5, 5, 5],
            LX: {
                backgroundColor: "#FFFFD5",
                borderColor: "#808080"
            },
            zl: b.ak || pa,
            Ot: b.tags || "",
            filter: b.filter || "",
            my: b.sortby || "",
            kk: b.hotspotName || "tile_md_" + (1E5 * Math.random()).toFixed(0),
            sF: o
        };
        I.load("clayer", function() {
            c.Dd()
        }
        )
    }
    mb.prototype = new Cc;
    mb.prototype.fa = function(a, b) {
        Cc.prototype.fa.call(this, a, b);
        this.C = a
    }
    ;
    mb.prototype.getTilesUrl = function(a, b) {
        var c = a.x
          , d = a.y
          , e = this.bc
          , c = Mc[Math.abs(c + d) % Mc.length] + "/image?grids=" + c + "_" + d + "_" + b + "&q=" + e.Fm + "&tags=" + e.Ot + "&filter=" + e.filter + "&sortby=" + e.my + "&ak=" + this.bc.zl + "&age=" + e.$v + "&page_size=" + e.OM + "&format=" + e.QZ;
        e.sF || (e = (1E5 * Math.random()).toFixed(0),
        c += "&timeStamp=" + e);
        this.jf ? c += "&geotable_id=" + this.jf : this.yn && (c += "&databox_id=" + this.yn);
        return c
    }
    ;
    mb.prototype.enableUseCache = function() {
        this.bc.sF = o
    }
    ;
    mb.prototype.disableUseCache = function() {
        this.bc.sF = q
    }
    ;
    mb.lT = /^point\(|\)$/ig;
    mb.mT = /\s+/;
    mb.oT = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    function Pc(a, b, c) {
        this.Pe = a;
        this.Qq = b instanceof Cc ? [b] : b.slice(0);
        c = c || {};
        this.k = {
            RZ: c.tips || "",
            fE: "",
            Ub: c.minZoom || 3,
            Nb: c.maxZoom || 18,
            c2: c.minZoom || 3,
            b2: c.maxZoom || 18,
            Db: 256,
            jF: c.textColor || "black",
            UC: c.errorImageUrl || "",
            le: c.projection || new R
        };
        1 <= this.Qq.length && (this.Qq[0].cw = o);
        x.extend(this.k, c)
    }
    x.extend(Pc.prototype, {
        getName: t("Pe"),
        Hs: function() {
            return this.k.RZ
        },
        H1: function() {
            return this.k.fE
        },
        XW: function() {
            return this.Qq[0]
        },
        V1: t("Qq"),
        YW: function() {
            return this.k.Db
        },
        Ho: function() {
            return this.k.Ub
        },
        Zl: function() {
            return this.k.Nb
        },
        setMaxZoom: function(a) {
            this.k.Nb = a
        },
        em: function() {
            return this.k.jF
        },
        Mo: function() {
            return this.k.le
        },
        z1: function() {
            return this.k.UC
        },
        YW: function() {
            return this.k.Db
        },
        Bc: function(a) {
            return Math.pow(2, 18 - a)
        },
        HD: function(a) {
            return this.Bc(a) * this.k.Db
        }
    });
    var Qc = [z.url.proto + z.url.domain.TILE_BASE_URLS[0] + "/it/", z.url.proto + z.url.domain.TILE_BASE_URLS[1] + "/it/", z.url.proto + z.url.domain.TILE_BASE_URLS[2] + "/it/", z.url.proto + z.url.domain.TILE_BASE_URLS[3] + "/it/", z.url.proto + z.url.domain.TILE_BASE_URLS[4] + "/it/"]
      , Rc = [z.url.proto + z.url.domain.TILE_ONLINE_URLS[0] + "/tile/", z.url.proto + z.url.domain.TILE_ONLINE_URLS[1] + "/tile/", z.url.proto + z.url.domain.TILE_ONLINE_URLS[2] + "/tile/", z.url.proto + z.url.domain.TILE_ONLINE_URLS[3] + "/tile/", z.url.proto + z.url.domain.TILE_ONLINE_URLS[4] + "/tile/"]
      , Sc = {
        dark: "dl",
        light: "ll",
        normal: "pl"
    }
      , Tc = new Cc;
    Tc.vZ = o;
    Tc.getTilesUrl = function(a, b, c) {
        var d = a.x
          , a = a.y
          , e = 1
          , c = Sc[c];
        this.map.jL() && (e = 2);
        return (Rc[Math.abs(d + a) % Rc.length] + "?qt=tile&x=" + (d + "").replace(/-/gi, "M") + "&y=" + (a + "").replace(/-/gi, "M") + "&z=" + b + "&styles=" + c + "&scaler=" + e + (6 == x.S.ba ? "&color_dep=32&colors=50" : "") + "&udt=20150528").replace(/-(\d+)/gi, "M$1")
    }
    ;
    var La = new Pc("\u5730\u56fe",Tc,{
        tips: "\u663e\u793a\u666e\u901a\u5730\u56fe",
        maxZoom: 19
    })
      , Uc = new Cc;
    Uc.JN = [z.url.proto + z.url.domain.TIlE_PERSPECT_URLS[0] + "/resource/mappic/", z.url.proto + z.url.domain.TIlE_PERSPECT_URLS[1] + "/resource/mappic/", z.url.proto + z.url.domain.TIlE_PERSPECT_URLS[2] + "/resource/mappic/", z.url.proto + z.url.domain.TIlE_PERSPECT_URLS[3] + "/resource/mappic/"];
    Uc.getTilesUrl = function(a, b) {
        var c = a.x
          , d = a.y
          , e = 256 * Math.pow(2, 20 - b)
          , d = Math.round((9998336 - e * d) / e) - 1;
        return url = this.JN[Math.abs(c + d) % this.JN.length] + this.map.Kb + "/" + this.map.kw + "/3/lv" + (21 - b) + "/" + c + "," + d + ".jpg"
    }
    ;
    var Na = new Pc("\u4e09\u7ef4",Uc,{
        tips: "\u663e\u793a\u4e09\u7ef4\u5730\u56fe",
        minZoom: 15,
        maxZoom: 20,
        textColor: "white",
        projection: new gb
    });
    Na.Bc = function(a) {
        return Math.pow(2, 20 - a)
    }
    ;
    Na.ck = function(a) {
        if (!a)
            return "";
        var b = F.NB, c;
        for (c in b)
            if (-1 < a.search(c))
                return b[c].Qx;
        return ""
    }
    ;
    Na.JK = function(a) {
        return {
            bj: 2,
            gz: 1,
            sz: 14,
            sh: 4
        }[a]
    }
    ;
    var Vc = new Cc({
        cw: o
    });
    Vc.getTilesUrl = function(a, b) {
        var c = a.x
          , d = a.y;
        return (Qc[Math.abs(c + d) % Qc.length] + "u=x=" + c + ";y=" + d + ";z=" + b + ";v=009;type=sate&fm=46&udt=20141015").replace(/-(\d+)/gi, "M$1")
    }
    ;
    var Wa = new Pc("\u536b\u661f",Vc,{
        tips: "\u663e\u793a\u536b\u661f\u5f71\u50cf",
        minZoom: 1,
        maxZoom: 19,
        textColor: "white"
    })
      , Wc = new Cc({
        transparentPng: o
    });
    Wc.getTilesUrl = function(a, b) {
        var c = a.x
          , d = a.y;
        return (Rc[Math.abs(c + d) % Rc.length] + "?qt=tile&x=" + (c + "").replace(/-/gi, "M") + "&y=" + (d + "").replace(/-/gi, "M") + "&z=" + b + "&styles=sl" + (6 == x.S.ba ? "&color_dep=32&colors=50" : "") + "&udt=20141015").replace(/-(\d+)/gi, "M$1")
    }
    ;
    var Pa = new Pc("\u6df7\u5408",[Vc, Wc],{
        tips: "\u663e\u793a\u5e26\u6709\u8857\u9053\u7684\u536b\u661f\u5f71\u50cf",
        labelText: "\u8def\u7f51",
        minZoom: 1,
        maxZoom: 19,
        textColor: "white"
    });
    var Xc = 1
      , U = {};
    window.E_ = U;
    function V(a, b) {
        x.lang.qa.call(this);
        this.md = {};
        this.Om(a);
        b = b || {};
        b.aa = b.renderOptions || {};
        this.k = {
            aa: {
                va: b.aa.panel || p,
                map: b.aa.map || p,
                Ng: b.aa.autoViewport || o,
                mt: b.aa.selectFirstResult,
                Ls: b.aa.highlightMode,
                Sb: b.aa.enableDragging || q
            },
            Jx: b.onSearchComplete || s(),
            AM: b.onMarkersSet || s(),
            zM: b.onInfoHtmlSet || s(),
            CM: b.onResultsHtmlSet || s(),
            yM: b.onGetBusListComplete || s(),
            xM: b.onGetBusLineComplete || s(),
            vM: b.onBusListHtmlSet || s(),
            uM: b.onBusLineHtmlSet || s(),
            sE: b.onPolylinesSet || s(),
            ip: b.reqFrom || ""
        };
        this.k.aa.Ng = "undefined" != typeof b && "undefined" != typeof b.renderOptions && "undefined" != typeof b.renderOptions.autoViewport ? b.renderOptions.autoViewport : o;
        this.k.aa.va = x.rc(this.k.aa.va)
    }
    x.ia(V, x.lang.qa);
    x.extend(V.prototype, {
        getResults: function() {
            return this.uc ? this.xi : this.$
        },
        enableAutoViewport: function() {
            this.k.aa.Ng = o
        },
        disableAutoViewport: function() {
            this.k.aa.Ng = q
        },
        Om: function(a) {
            a && (this.md.src = a)
        },
        $E: function(a) {
            this.k.Jx = a || s()
        },
        setMarkersSetCallback: function(a) {
            this.k.AM = a || s()
        },
        setPolylinesSetCallback: function(a) {
            this.k.sE = a || s()
        },
        setInfoHtmlSetCallback: function(a) {
            this.k.zM = a || s()
        },
        setResultsHtmlSetCallback: function(a) {
            this.k.CM = a || s()
        },
        cm: t("od")
    });
    var Yc = {
        XF: z.vc,
        fb: function(a, b, c, d, e) {
            var f = (1E5 * Math.random()).toFixed(0);
            z._rd["_cbk" + f] = function(b) {
                c = c || {};
                a && a(b, c);
                delete z._rd["_cbk" + f]
            }
            ;
            d = d || "";
            b = c && c.cO ? Eb(b, encodeURI) : Eb(b, encodeURIComponent);
            this.XF = c && c.ks ? c.YM ? c.YM : z.$o : z.vc;
            d = this.XF + d + "?" + b + "&ie=utf-8&oue=1&fromproduct=jsapi";
            e || (d += "&res=api");
            Pb(d + ("&callback=BMap._rd._cbk" + f))
        }
    };
    window.L_ = Yc;
    z._rd = {};
    var P = {};
    window.K_ = P;
    P.UM = function(a) {
        a = a.replace(/<\/?[^>]*>/g, "");
        return a = a.replace(/[ | ]* /g, " ")
    }
    ;
    P.rY = function(a) {
        return a.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g, "$1,$2;")
    }
    ;
    P.sY = function(a, b) {
        return a.replace(RegExp("(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);)(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);){" + b + "}", "ig"), "$1")
    }
    ;
    var Zc = 2
      , ad = 3
      , bd = 0
      , cd = "bt"
      , dd = "nav"
      , ed = "walk"
      , fd = "bl"
      , gd = "bsl"
      , hd = 14
      , id = 15
      , jd = 18
      , kd = 20
      , ld = 31;
    z.I = window.Instance = x.lang.Cc;
    function md(a, b, c) {
        x.lang.qa.call(this);
        if (a) {
            this.Ja = "object" == typeof a ? a : x.rc(a);
            this.page = 1;
            this.ud = 100;
            this.qJ = "pg";
            this.If = 4;
            this.yJ = b;
            this.update = o;
            a = {
                page: 1,
                Je: 100,
                ud: 100,
                If: 4,
                qJ: "pg",
                update: o
            };
            c || (c = a);
            for (var d in c)
                "undefined" != typeof c[d] && (this[d] = c[d]);
            this.ja()
        }
    }
    x.extend(md.prototype, {
        ja: function() {
            this.fa()
        },
        fa: function() {
            this.IU();
            this.Ja.innerHTML = this.dV()
        },
        IU: function() {
            isNaN(parseInt(this.page)) && (this.page = 1);
            isNaN(parseInt(this.ud)) && (this.ud = 1);
            1 > this.page && (this.page = 1);
            1 > this.ud && (this.ud = 1);
            this.page > this.ud && (this.page = this.ud);
            this.page = parseInt(this.page);
            this.ud = parseInt(this.ud)
        },
        M1: function() {
            location.search.match(RegExp("[?&]?" + this.qJ + "=([^&]*)[&$]?", "gi"));
            this.page = RegExp.$1
        },
        dV: function() {
            var a = []
              , b = this.page - 1
              , c = this.page + 1;
            a.push('<p style="margin:0;padding:0;white-space:nowrap">');
            if (!(1 > b)) {
                if (this.page >= this.If) {
                    var d;
                    a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">\u9996\u9875</a></span>'.replace("{temp1}", "BMap.I('" + this.Q + "').toPage(1);"))
                }
                a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">\u4e0a\u4e00\u9875</a></span>'.replace("{temp2}", "BMap.I('" + this.Q + "').toPage(" + b + ");"))
            }
            if (this.page < this.If)
                d = 0 == this.page % this.If ? this.page - this.If - 1 : this.page - this.page % this.If + 1,
                b = d + this.If - 1;
            else {
                d = Math.floor(this.If / 2);
                var e = this.If % 2 - 1
                  , b = this.ud > this.page + d ? this.page + d : this.ud;
                d = this.page - d - e
            }
            this.page > this.ud - this.If && this.page >= this.If && (d = this.ud - this.If + 1,
            b = this.ud);
            for (e = d; e <= b; e++)
                0 < e && (e == this.page ? a.push('<span style="margin-right:3px">' + e + "</span>") : 1 <= e && e <= this.ud && (d = '<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">[' + e + "]</a></span>",
                a.push(d.replace("{temp3}", "BMap.I('" + this.Q + "').toPage(" + e + ");"))));
            c > this.ud || a.push('<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">\u4e0b\u4e00\u9875</a></span>'.replace("{temp4}", "BMap.I('" + this.Q + "').toPage(" + c + ");"));
            a.push("</p>");
            return a.join("")
        },
        toPage: function(a) {
            a = a ? a : 1;
            "function" == typeof this.yJ && (this.yJ(a),
            this.page = a);
            this.update && this.ja()
        }
    });
    function ab(a, b) {
        V.call(this, a, b);
        b = b || {};
        b.renderOptions = b.renderOptions || {};
        this.vp(b.pageCapacity);
        "undefined" != typeof b.renderOptions.selectFirstResult && !b.renderOptions.selectFirstResult ? this.sC() : this.PC();
        this.ka = [];
        this.ff = [];
        this.Xa = -1;
        this.Ea = [];
        var c = this;
        I.load("local", function() {
            c.iz()
        }
        , o)
    }
    x.ia(ab, V, "LocalSearch");
    ab.Lp = 10;
    ab.I_ = 1;
    ab.fn = 100;
    ab.NF = 2E3;
    ab.UF = 1E5;
    x.extend(ab.prototype, {
        search: function(a, b) {
            this.Ea.push({
                method: "search",
                arguments: [a, b]
            })
        },
        Lm: function(a, b, c) {
            this.Ea.push({
                method: "searchInBounds",
                arguments: [a, b, c]
            })
        },
        pp: function(a, b, c, d) {
            this.Ea.push({
                method: "searchNearby",
                arguments: [a, b, c, d]
            })
        },
        Ae: function() {
            delete this.ta;
            delete this.od;
            delete this.$;
            delete this.T;
            this.Xa = -1;
            this.gb();
            this.k.aa.va && (this.k.aa.va.innerHTML = "")
        },
        hm: s(),
        PC: function() {
            this.k.aa.mt = o
        },
        sC: function() {
            this.k.aa.mt = q
        },
        vp: function(a) {
            this.k.ok = "number" == typeof a && !isNaN(a) ? 1 > a ? ab.Lp : a > ab.fn ? ab.Lp : a : ab.Lp
        },
        Ye: function() {
            return this.k.ok
        },
        toString: ca("LocalSearch")
    });
    var nd = ab.prototype;
    S(nd, {
        clearResults: nd.Ae,
        setPageCapacity: nd.vp,
        getPageCapacity: nd.Ye,
        gotoPage: nd.hm,
        searchNearby: nd.pp,
        searchInBounds: nd.Lm,
        search: nd.search,
        enableFirstResultSelection: nd.PC,
        disableFirstResultSelection: nd.sC
    });
    function od(a, b) {
        V.call(this, a, b)
    }
    x.ia(od, V, "BaseRoute");
    x.extend(od.prototype, {
        Ae: s()
    });
    function pd(a, b) {
        V.call(this, a, b);
        b = b || {};
        this.zt(b.policy);
        this.vp(b.pageCapacity);
        this.hd = cd;
        this.ku = hd;
        this.lu = Xc;
        this.ka = [];
        this.Xa = -1;
        this.k.Vc = b.enableTraffic || q;
        this.Ea = [];
        var c = this;
        I.load("route", function() {
            c.Dd()
        }
        )
    }
    pd.fn = 100;
    pd.HO = [0, 1, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 1, 1, 1];
    x.ia(pd, od, "TransitRoute");
    x.extend(pd.prototype, {
        zt: function(a) {
            this.k.Qc = 0 <= a && 4 >= a ? a : 0
        },
        jA: function(a, b) {
            this.Ea.push({
                method: "_internalSearch",
                arguments: [a, b]
            })
        },
        search: function(a, b) {
            this.Ea.push({
                method: "search",
                arguments: [a, b]
            })
        },
        vp: function(a) {
            if ("string" === typeof a && (a = parseInt(a, 10),
            isNaN(a))) {
                this.k.ok = pd.fn;
                return
            }
            this.k.ok = "number" !== typeof a ? pd.fn : 1 <= a && a <= pd.fn ? Math.round(a) : pd.fn
        },
        toString: ca("TransitRoute"),
        AT: function(a) {
            return a.replace(/\(.*\)/, "")
        }
    });
    var qd = pd.prototype;
    S(qd, {
        _internalSearch: qd.jA
    });
    function rd(a, b) {
        V.call(this, a, b);
        this.ka = [];
        this.Xa = -1;
        this.Ea = [];
        var c = this
          , d = this.k.aa;
        1 !== d.Ls && 2 !== d.Ls && (d.Ls = 1);
        this.Dz = this.k.aa.Sb ? o : q;
        I.load("route", function() {
            c.Dd()
        }
        );
        this.SD && this.SD()
    }
    rd.UO = " \u73af\u5c9b \u65e0\u5c5e\u6027\u9053\u8def \u4e3b\u8def \u9ad8\u901f\u8fde\u63a5\u8def \u4ea4\u53c9\u70b9\u5185\u8def\u6bb5 \u8fde\u63a5\u9053\u8def \u505c\u8f66\u573a\u5185\u90e8\u9053\u8def \u670d\u52a1\u533a\u5185\u90e8\u9053\u8def \u6865 \u6b65\u884c\u8857 \u8f85\u8def \u531d\u9053 \u5168\u5c01\u95ed\u9053\u8def \u672a\u5b9a\u4e49\u4ea4\u901a\u533a\u57df POI\u8fde\u63a5\u8def \u96a7\u9053 \u6b65\u884c\u9053 \u516c\u4ea4\u4e13\u7528\u9053 \u63d0\u524d\u53f3\u8f6c\u9053".split(" ");
    x.ia(rd, od, "DWRoute");
    x.extend(rd.prototype, {
        search: function(a, b, c) {
            this.Ea.push({
                method: "search",
                arguments: [a, b, c]
            })
        }
    });
    function sd(a, b) {
        rd.call(this, a, b);
        b = b || {};
        this.k.Vc = b.enableTraffic || q;
        this.zt(b.policy);
        this.hd = dd;
        this.ku = kd;
        this.lu = ad
    }
    x.ia(sd, rd, "DrivingRoute");
    sd.prototype.zt = function(a) {
        this.k.Qc = 0 <= a && 2 >= a ? a : 0
    }
    ;
    function td(a, b) {
        rd.call(this, a, b);
        this.hd = ed;
        this.ku = ld;
        this.lu = Zc;
        this.Dz = q
    }
    x.ia(td, rd, "WalkingRoute");
    function ud(a, b) {
        x.lang.qa.call(this);
        this.Gf = [];
        this.Cm = [];
        this.k = b;
        this.Tb = a;
        this.map = this.k.aa.map || p;
        this.Zx = this.k.Zx;
        this.lb = p;
        this.Ti = 0;
        this.ny = "";
        this.Od = 1;
        this.Iw = "";
        this.jp = [0, 0, 0, 0, 0, 0, 0];
        this.hE = [];
        this.Pr = [1, 1, 1, 1, 1, 1, 1];
        this.RN = [1, 1, 1, 1, 1, 1, 1];
        this.kt = [0, 0, 0, 0, 0, 0, 0];
        this.kp = [0, 0, 0, 0, 0, 0, 0];
        this.Ca = [{
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }, {
            o: "",
            yf: 0,
            Wm: 0,
            x: 0,
            y: 0,
            pc: -1
        }];
        this.Sh = -1;
        this.Qt = [];
        this.Rt = [];
        I.load("route", s())
    }
    x.lang.ia(ud, x.lang.qa, "RouteAddr");
    var vd = navigator.userAgent;
    /ipad|iphone|ipod|iph/i.test(vd);
    var wd = /android/i.test(vd);
    function xd(a) {
        this.fh = a || {}
    }
    x.extend(xd.prototype, {
        dN: function(a, b, c) {
            var d = this;
            I.load("route", function() {
                d.Dd(a, b, c)
            }
            )
        }
    });
    function yd(a) {
        this.k = {};
        x.extend(this.k, a);
        this.Ea = [];
        var b = this;
        I.load("othersearch", function() {
            b.Dd()
        }
        )
    }
    x.ia(yd, x.lang.qa, "Geocoder");
    x.extend(yd.prototype, {
        bm: function(a, b, c) {
            this.Ea.push({
                method: "getPoint",
                arguments: [a, b, c]
            })
        },
        As: function(a, b, c) {
            this.Ea.push({
                method: "getLocation",
                arguments: [a, b, c]
            })
        },
        toString: ca("Geocoder")
    });
    var zd = yd.prototype;
    S(zd, {
        getPoint: zd.bm,
        getLocation: zd.As
    });
    function Geolocation(a) {
        a = a || {};
        this.D = {
            timeout: a.timeout || 1E4,
            maximumAge: a.maximumAge || 6E5
        };
        this.ae = [];
        var b = this;
        I.load("othersearch", function() {
            for (var a = 0, d; d = b.ae[a]; a++)
                b[d.method].apply(b, d.arguments)
        }
        )
    }
    x.extend(Geolocation.prototype, {
        getCurrentPosition: function(a, b) {
            this.ae.push({
                method: "getCurrentPosition",
                arguments: arguments
            })
        },
        getStatus: ca(2)
    });
    function Ad(a) {
        a = a || {};
        a.aa = a.renderOptions || {};
        this.k = {
            aa: {
                map: a.aa.map || p
            }
        };
        this.Ea = [];
        var b = this;
        I.load("othersearch", function() {
            b.Dd()
        }
        )
    }
    x.ia(Ad, x.lang.qa, "LocalCity");
    x.extend(Ad.prototype, {
        get: function(a) {
            this.Ea.push({
                method: "get",
                arguments: [a]
            })
        },
        toString: ca("LocalCity")
    });
    function Dd() {
        this.Ea = [];
        var a = this;
        I.load("othersearch", function() {
            a.Dd()
        }
        )
    }
    x.ia(Dd, x.lang.qa, "Boundary");
    x.extend(Dd.prototype, {
        get: function(a, b) {
            this.Ea.push({
                method: "get",
                arguments: [a, b]
            })
        },
        toString: ca("Boundary")
    });
    function Ed(a, b) {
        V.call(this, a, b);
        this.RO = fd;
        this.TO = id;
        this.QO = gd;
        this.SO = jd;
        this.Ea = [];
        var c = this;
        I.load("buslinesearch", function() {
            c.Dd()
        }
        )
    }
    Ed.Vu = F.ea + "iw_plus.gif";
    Ed.RR = F.ea + "iw_minus.gif";
    Ed.KT = F.ea + "stop_icon.png";
    x.ia(Ed, V);
    x.extend(Ed.prototype, {
        getBusList: function(a) {
            this.Ea.push({
                method: "getBusList",
                arguments: [a]
            })
        },
        getBusLine: function(a) {
            this.Ea.push({
                method: "getBusLine",
                arguments: [a]
            })
        },
        setGetBusListCompleteCallback: function(a) {
            this.k.yM = a || s()
        },
        setGetBusLineCompleteCallback: function(a) {
            this.k.xM = a || s()
        },
        setBusListHtmlSetCallback: function(a) {
            this.k.vM = a || s()
        },
        setBusLineHtmlSetCallback: function(a) {
            this.k.uM = a || s()
        },
        setPolylinesSetCallback: function(a) {
            this.k.sE = a || s()
        }
    });
    function Fd(a) {
        V.call(this, a);
        a = a || {};
        this.bc = {
            input: a.input || p,
            DB: a.baseDom || p,
            types: a.types || [],
            Jx: a.onSearchComplete || s()
        };
        this.md.src = a.location || "\u5168\u56fd";
        this.Pi = "";
        this.$f = p;
        this.xH = "";
        this.Ei();
        Oa(Ia);
        var b = this;
        I.load("autocomplete", function() {
            b.Dd()
        }
        )
    }
    x.ia(Fd, V, "Autocomplete");
    x.extend(Fd.prototype, {
        Ei: s(),
        show: s(),
        J: s(),
        aF: function(a) {
            this.bc.types = a
        },
        Om: function(a) {
            this.md.src = a
        },
        search: ba("Pi"),
        by: ba("xH")
    });
    var Ra;
    function Ma(a, b) {
        function c() {
            e.k.visible ? ("inter" === e.Qe && e.k.indoorExitControl === o ? x.B.show(e.cA) : x.B.J(e.cA),
            this.k.closeControl && this.xg && this.C && this.C.Da() === this.A ? x.B.show(e.xg) : x.B.J(e.xg),
            this.k.forceCloseControl && x.B.show(e.xg)) : (x.B.J(e.xg),
            x.B.J(e.cA))
        }
        this.A = "string" == typeof a ? x.N(a) : a;
        this.k = {
            enableScrollWheelZoom: o,
            panoramaRenderer: "flash",
            swfSrc: z.hg("main_domain_nocdn", "res/swf/") + "APILoader.swf",
            visible: o,
            indoorExitControl: o,
            indoorFloorControl: q,
            linksControl: o,
            clickOnRoad: o,
            navigationControl: o,
            closeControl: o,
            indoorSceneSwitchControl: o,
            albumsControl: q,
            albumsControlOptions: {},
            copyrightControlOptions: {},
            forceCloseControl: q
        };
        var b = b || {}, d;
        for (d in b)
            this.k[d] = b[d];
        b.closeControl === o && (this.k.forceCloseControl = o);
        this.za = {
            heading: 0,
            pitch: 0
        };
        this.In = [];
        this.zb = this.Na = p;
        this.lr = this.Dj();
        this.ka = [];
        this.Ac = 1;
        this.Qe = this.oS = this.Lk = "";
        this.te = {};
        this.wf = p;
        this.Fg = [];
        this.br = [];
        this.gr = q;
        var e = this;
        this.Jn = function() {
            "flashRender" === this.Dj() ? I.load("panoramaflash", function() {
                e.Ei()
            }
            , o) : I.load("panorama", function() {
                e.tb()
            }
            , o);
            "api" == b.Bf ? Oa(Ea) : Oa(Fa);
            this.Jn = s()
        }
        ;
        this.k.bS !== o && (this.Jn(),
        z.uj("cus.fire", "count", "z_loadpanoramacount"));
        this.TS(this.A);
        this.addEventListener("id_changed", function() {
            Oa(Da, {
                from: b.Bf
            })
        }
        );
        this.kP();
        this.addEventListener("indoorexit_options_changed", c);
        this.addEventListener("scene_type_changed", c);
        this.addEventListener("onclose_options_changed", c);
        this.addEventListener("onvisible_changed", c)
    }
    var Gd = 4
      , Hd = 1;
    x.lang.ia(Ma, x.lang.qa, "Panorama");
    x.extend(Ma.prototype, {
        kP: function() {
            var a = this
              , b = this.xg = K("div");
            b.className = "pano_close";
            b.style.cssText = "z-index: 1201;display: none";
            b.title = "\u9000\u51fa\u5168\u666f";
            b.onclick = function() {
                a.J()
            }
            ;
            this.A.appendChild(b);
            var c = this.cA = K("a");
            c.className = "pano_pc_indoor_exit";
            c.style.cssText = "z-index: 1201;display: none";
            c.innerHTML = '<span style="float:right;margin-right:12px;">\u51fa\u53e3</span>';
            c.title = "\u9000\u51fa\u5ba4\u5185\u666f";
            c.onclick = function() {
                a.Ao()
            }
            ;
            this.A.appendChild(c);
            window.ActiveXObject && !document.addEventListener && (b.style.backgroundColor = "rgb(37,37,37)",
            c.style.backgroundColor = "rgb(37,37,37)")
        },
        Ao: s(),
        TS: function(a) {
            var b, c;
            b = a.style;
            c = Ta(a).position;
            "absolute" != c && "relative" != c && (b.position = "relative",
            b.zIndex = 0);
            if ("absolute" === c || "relative" === c)
                if (a = Ta(a).zIndex,
                !a || "auto" === a)
                    b.zIndex = 0
        },
        vW: t("In"),
        Mb: t("Na"),
        ZW: t("Ev"),
        tN: t("Ev"),
        V: t("zb"),
        sa: t("za"),
        U: t("Ac"),
        Tg: t("Lk"),
        O1: function() {
            return this.j0 || []
        },
        J1: t("oS"),
        Gs: t("Qe"),
        ey: function(a) {
            a !== this.Qe && (this.Qe = a,
            this.dispatchEvent(new N("onscene_type_changed")))
        },
        dc: function(a, b, c) {
            "object" === typeof b && (c = b,
            b = j);
            a != this.Na && (this.Wk = this.Na,
            this.Xk = this.zb,
            this.Na = a,
            this.Qe = b || "street",
            this.zb = p,
            c && c.pov && this.xd(c.pov))
        },
        ha: function(a) {
            a.$a(this.zb) || (this.Wk = this.Na,
            this.Xk = this.zb,
            this.zb = a,
            this.Na = p)
        },
        xd: function(a) {
            a && (this.za = a,
            a = this.za.pitch,
            "cvsRender" == this.Dj() || Id() ? (90 < a && (a = 90),
            -90 > a && (a = -90)) : "cssRender" == this.Dj() && (45 < a && (a = 45),
            -45 > a && (a = -45)),
            this.gr = o,
            this.za.pitch = a)
        },
        Dc: function(a) {
            a != this.Ac && (a > Gd && (a = Gd),
            a < Hd && (a = Hd),
            a != this.Ac && (this.Ac = a))
        },
        bB: function() {
            if (this.C)
                for (var a = this.C.Yw(), b = 0; b < a.length; b++)
                    (a[b] instanceof T || a[b] instanceof pc) && a[b].point && this.ka.push(a[b])
        },
        XE: ba("C"),
        yt: function(a) {
            this.wf = a || "none"
        },
        up: function(a) {
            for (var b in a) {
                if ("object" == typeof a[b])
                    for (var c in a[b])
                        this.k[b][c] = a[b][c];
                else
                    this.k[b] = a[b];
                a.closeControl === o && (this.k.forceCloseControl = o);
                a.closeControl === q && (this.k.forceCloseControl = q);
                switch (b) {
                case "linksControl":
                    this.dispatchEvent(new N("onlinks_visible_changed"));
                    break;
                case "clickOnRoad":
                    this.dispatchEvent(new N("onclickonroad_changed"));
                    break;
                case "navigationControl":
                    this.dispatchEvent(new N("onnavigation_visible_changed"));
                    break;
                case "indoorSceneSwitchControl":
                    this.dispatchEvent(new N("onindoor_default_switch_mode_changed"));
                    break;
                case "albumsControl":
                    this.dispatchEvent(new N("onalbums_visible_changed"));
                    break;
                case "albumsControlOptions":
                    this.dispatchEvent(new N("onalbums_options_changed"));
                    break;
                case "copyrightControlOptions":
                    this.dispatchEvent(new N("oncopyright_options_changed"));
                    break;
                case "closeControl":
                    this.dispatchEvent(new N("onclose_options_changed"));
                    break;
                case "indoorExitControl":
                    this.dispatchEvent(new N("onindoorexit_options_changed"));
                    break;
                case "indoorFloorControl":
                    this.dispatchEvent(new N("onindoorfloor_options_changed"))
                }
            }
        },
        jk: function() {
            this.el.style.visibility = "hidden"
        },
        iy: function() {
            this.el.style.visibility = "visible"
        },
        KV: function() {
            this.k.enableScrollWheelZoom = o
        },
        vV: function() {
            this.k.enableScrollWheelZoom = q
        },
        show: function() {
            this.k.visible = o
        },
        J: function() {
            this.k.visible = q
        },
        Dj: function() {
            return Sa() && !G() && "javascript" != this.k.panoramaRenderer ? "flashRender" : !G() && Lb() ? "cvsRender" : "cssRender"
        },
        ya: function(a) {
            this.te[a.Xc] = a
        },
        Hb: function(a) {
            delete this.te[a]
        },
        FD: function() {
            return this.k.visible
        },
        Wh: function() {
            return new L(this.A.clientWidth,this.A.clientHeight)
        },
        Da: t("A"),
        EK: function() {
            var a = z.hg("baidumap", "?")
              , b = this.Mb();
            if (b) {
                var b = {
                    panotype: this.Gs(),
                    heading: this.sa().heading,
                    pitch: this.sa().pitch,
                    pid: b,
                    panoid: b,
                    from: "api"
                }, c;
                for (c in b)
                    a += c + "=" + b[c] + "&"
            }
            return a.slice(0, -1)
        },
        jx: function() {
            this.up({
                copyrightControlOptions: {
                    logoVisible: q
                }
            })
        },
        dF: function() {
            this.up({
                copyrightControlOptions: {
                    logoVisible: o
                }
            })
        },
        xB: function(a) {
            function b(a, b) {
                return function() {
                    a.br.push({
                        gM: b,
                        fM: arguments
                    })
                }
            }
            for (var c = a.getPanoMethodList(), d = "", e = 0, f = c.length; e < f; e++)
                d = c[e],
                this[d] = b(this, d);
            this.Fg.push(a)
        },
        JE: function(a) {
            for (var b = this.Fg.length; b--; )
                this.Fg[b] === a && this.Fg.splice(b, 1)
        }
    });
    var Jd = Ma.prototype;
    S(Jd, {
        setId: Jd.dc,
        setPosition: Jd.ha,
        setPov: Jd.xd,
        setZoom: Jd.Dc,
        setOptions: Jd.up,
        getId: Jd.Mb,
        getPosition: Jd.V,
        getPov: Jd.sa,
        getZoom: Jd.U,
        getLinks: Jd.vW,
        getBaiduMapUrl: Jd.EK,
        hideMapLogo: Jd.jx,
        showMapLogo: Jd.dF,
        enableDoubleClickZoom: Jd.f1,
        disableDoubleClickZoom: Jd.V0,
        enableScrollWheelZoom: Jd.KV,
        disableScrollWheelZoom: Jd.vV,
        show: Jd.show,
        hide: Jd.J,
        addPlugin: Jd.xB,
        removePlugin: Jd.JE,
        getVisible: Jd.FD,
        addOverlay: Jd.ya,
        removeOverlay: Jd.Hb,
        getSceneType: Jd.Gs,
        setPanoramaPOIType: Jd.yt,
        exitInter: Jd.Ao
    });
    S(window, {
        BMAP_PANORAMA_POI_HOTEL: "hotel",
        BMAP_PANORAMA_POI_CATERING: "catering",
        BMAP_PANORAMA_POI_MOVIE: "movie",
        BMAP_PANORAMA_POI_TRANSIT: "transit",
        BMAP_PANORAMA_POI_INDOOR_SCENE: "indoor_scene",
        BMAP_PANORAMA_POI_NONE: "none",
        BMAP_PANORAMA_INDOOR_SCENE: "inter",
        BMAP_PANORAMA_STREET_SCENE: "street"
    });
    function Kd() {
        x.lang.qa.call(this);
        this.Xc = "PanoramaOverlay_" + this.Q;
        this.G = p;
        this.Fa = o
    }
    x.lang.ia(Kd, x.lang.qa, "PanoramaOverlayBase");
    x.extend(Kd.prototype, {
        K1: t("Xc"),
        fa: function() {
            aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        remove: function() {
            aa("remove\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        vf: function() {
            aa("_setOverlayProperty\u65b9\u6cd5\u672a\u5b9e\u73b0")
        }
    });
    function Ld(a, b) {
        Kd.call(this);
        var c = {
            position: p,
            altitude: 2,
            displayDistance: o
        }, b = b || {}, d;
        for (d in b)
            c[d] = b[d];
        this.zb = c.position;
        this.xj = a;
        this.aq = c.altitude;
        this.uQ = c.displayDistance;
        this.jF = c.color;
        this.mL = c.hoverColor;
        this.backgroundColor = c.backgroundColor;
        this.sJ = c.backgroundHoverColor;
        this.borderColor = c.borderColor;
        this.wJ = c.borderHoverColor;
        this.fontSize = c.fontSize;
        this.padding = c.padding;
        this.MD = c.imageUrl;
        this.size = c.size;
        this.he = c.image;
        this.width = c.width;
        this.height = c.height;
        this.oX = c.imageData;
        this.borderWidth = c.borderWidth
    }
    x.lang.ia(Ld, Kd, "PanoramaLabel");
    x.extend(Ld.prototype, {
        r1: t("borderWidth"),
        getImageData: t("oX"),
        em: t("jF"),
        D1: t("mL"),
        n1: t("backgroundColor"),
        o1: t("sJ"),
        p1: t("borderColor"),
        q1: t("wJ"),
        B1: t("fontSize"),
        L1: t("padding"),
        E1: t("MD"),
        kb: t("size"),
        Pw: t("he"),
        ha: function(a) {
            this.zb = a;
            this.vf("position", a)
        },
        V: t("zb"),
        Rc: function(a) {
            this.xj = a;
            this.vf("content", a)
        },
        dk: t("xj"),
        TE: function(a) {
            this.aq = a;
            this.vf("altitude", a)
        },
        Do: t("aq"),
        sa: function() {
            var a = this.V()
              , b = p
              , c = p;
            this.G && (c = this.G.V());
            if (a && c)
                if (a.$a(c))
                    b = this.G.sa();
                else {
                    b = {};
                    b.heading = Md(a.lng - c.lng, a.lat - c.lat) || 0;
                    var a = b
                      , c = this.Do()
                      , d = this.Dn();
                    a.pitch = Math.round(180 * (Math.atan(c / d) / Math.PI)) || 0
                }
            return b
        },
        Dn: function() {
            var a = 0, b, c;
            this.G && (b = this.G.V(),
            (c = this.V()) && !c.$a(b) && (a = R.Fo(b, c)));
            return a
        },
        J: function() {
            aa("hide\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        show: function() {
            aa("show\u65b9\u6cd5\u672a\u5b9e\u73b0")
        },
        vf: s()
    });
    var Nd = Ld.prototype;
    S(Nd, {
        setPosition: Nd.ha,
        getPosition: Nd.V,
        setContent: Nd.Rc,
        getContent: Nd.dk,
        setAltitude: Nd.TE,
        getAltitude: Nd.Do,
        getPov: Nd.sa,
        show: Nd.show,
        hide: Nd.J
    });
    function Od(a, b) {
        Kd.call(this);
        var c = {
            icon: "",
            title: "",
            panoInfo: p,
            altitude: 2
        }, b = b || {}, d;
        for (d in b)
            c[d] = b[d];
        this.zb = a;
        this.sH = c.icon;
        this.KI = c.title;
        this.aq = c.altitude;
        this.FS = c.panoInfo;
        this.za = {
            heading: 0,
            pitch: 0
        }
    }
    x.lang.ia(Od, Kd, "PanoramaMarker");
    x.extend(Od.prototype, {
        ha: function(a) {
            this.zb = a;
            this.vf("position", a)
        },
        V: t("zb"),
        qc: function(a) {
            this.KI = a;
            this.vf("title", a)
        },
        Oo: t("KI"),
        Ib: function(a) {
            this.sH = icon;
            this.vf("icon", a)
        },
        Go: t("sH"),
        TE: function(a) {
            this.aq = a;
            this.vf("altitude", a)
        },
        Do: t("aq"),
        xD: t("FS"),
        sa: function() {
            var a = p;
            if (this.G) {
                var a = this.G.V()
                  , b = this.V()
                  , a = Md(b.lng - a.lng, b.lat - a.lat);
                isNaN(a) && (a = 0);
                a = {
                    heading: a,
                    pitch: 0
                }
            } else
                a = this.za;
            return a
        },
        vf: s()
    });
    var Pd = Od.prototype;
    S(Pd, {
        setPosition: Pd.ha,
        getPosition: Pd.V,
        setTitle: Pd.qc,
        getTitle: Pd.Oo,
        setAltitude: Pd.TE,
        getAltitude: Pd.Do,
        getPanoInfo: Pd.xD,
        getIcon: Pd.Go,
        setIcon: Pd.Ib,
        getPov: Pd.sa
    });
    function Md(a, b) {
        var c = 0;
        if (0 !== a && 0 !== b) {
            var c = 180 * (Math.atan(a / b) / Math.PI)
              , d = 0;
            0 < a && 0 > b && (d = 90);
            0 > a && 0 > b && (d = 180);
            0 > a && 0 < b && (d = 270);
            c = (c + 90) % 90 + d
        } else
            0 === a ? c = 0 > b ? 180 : 0 : 0 === b && (c = 0 < a ? 90 : 270);
        return Math.round(c)
    }
    function Id() {
        if ("boolean" === typeof Qd)
            return Qd;
        if (!window.WebGLRenderingContext || x.platform.om && -1 == navigator.userAgent.indexOf("Android 5"))
            return Qd = q;
        var a = document.createElement("canvas")
          , b = p;
        try {
            b = a.getContext("webgl")
        } catch (c) {
            Qd = q
        }
        return Qd = b === p ? q : o
    }
    var Qd;
    function $b(a, b) {
        this.G = a || p;
        var c = this;
        c.G && c.P();
        I.load("pservice", function() {
            c.NP()
        }
        );
        "api" == (b || {}).Bf ? Oa(Ga) : Oa(Ha);
        this.jd = {
            getPanoramaById: [],
            getPanoramaByLocation: [],
            getVisiblePOIs: [],
            getRecommendPanosById: [],
            getPanoramaVersions: [],
            checkPanoSupportByCityCode: [],
            getPanoramaByPOIId: [],
            getCopyrightProviders: []
        }
    }
    z.Bm(function(a) {
        "flashRender" !== a.Dj() && new $b(a,{
            Bf: "api"
        })
    }
    );
    x.extend($b.prototype, {
        P: function() {
            function a(a) {
                if (a) {
                    if (a.id != b.Ev) {
                        b.tN(a.id);
                        b.R = a;
                        b.Na != p && (b.Xk = b._position);
                        for (var c in a)
                            if (a.hasOwnProperty(c))
                                switch (b["_" + c] = a[c],
                                c) {
                                case "position":
                                    b.zb = a[c];
                                    break;
                                case "id":
                                    b.Na = a[c];
                                    break;
                                case "links":
                                    b.In = a[c];
                                    break;
                                case "zoom":
                                    b.Ac = a[c]
                                }
                        if (b.Xk) {
                            var f = b.Xk
                              , g = b._position;
                            c = f.lat;
                            var i = g.lat
                              , k = Mb(i - c)
                              , f = Mb(g.lng - f.lng);
                            c = Math.sin(k / 2) * Math.sin(k / 2) + Math.cos(Mb(c)) * Math.cos(Mb(i)) * Math.sin(f / 2) * Math.sin(f / 2);
                            b.HG = 6371E3 * 2 * Math.atan2(Math.sqrt(c), Math.sqrt(1 - c))
                        }
                        c = new N("ondataload");
                        c.data = a;
                        b.dispatchEvent(c);
                        b.dispatchEvent(new N("onposition_changed"));
                        b.dispatchEvent(new N("onlinks_changed"));
                        b.dispatchEvent(new N("oncopyright_changed"), {
                            copyright: a.copyright
                        });
                        a.Il && b.k.closeControl ? x.B.show(b.QQ) : x.B.J(b.QQ)
                    }
                } else
                    b.Na = b.Wk,
                    b.zb = b.Xk,
                    b.dispatchEvent(new N("onnoresult"))
            }
            var b = this.G
              , c = this;
            b.addEventListener("id_changed", function() {
                c.Ko(b.Mb(), a)
            }
            );
            b.addEventListener("iid_changed", function() {
                c.Gg($b.Hk + "qt=idata&iid=" + b.Zz + "&fn=", function(b) {
                    if (b && b.result && 0 == b.result.error) {
                        var b = b.content[0].interinfo
                          , e = {};
                        e.Il = b.BreakID;
                        for (var f = b.Defaultfloor, g = p, i = 0; i < b.Floors.length; i++)
                            if (b.Floors[i].Floor == f) {
                                g = b.Floors[i];
                                break
                            }
                        e.id = g.StartID || g.Points[0].PID;
                        c.Ko(e.id, a, e)
                    }
                }
                )
            }
            );
            b.addEventListener("position_changed_inner", function() {
                c.cj(b.V(), a)
            }
            )
        },
        Ko: function(a, b) {
            this.jd.getPanoramaById.push(arguments)
        },
        cj: function(a, b, c) {
            this.jd.getPanoramaByLocation.push(arguments)
        },
        GD: function(a, b, c, d) {
            this.jd.getVisiblePOIs.push(arguments)
        },
        ax: function(a, b) {
            this.jd.getRecommendPanosById.push(arguments)
        },
        $w: function(a) {
            this.jd.getPanoramaVersions.push(arguments)
        },
        LB: function(a, b) {
            this.jd.checkPanoSupportByCityCode.push(arguments)
        },
        Zw: function(a, b) {
            this.jd.getPanoramaByPOIId.push(arguments)
        },
        KK: function(a) {
            this.jd.getCopyrightProviders.push(arguments)
        }
    });
    var Rd = $b.prototype;
    S(Rd, {
        getPanoramaById: Rd.Ko,
        getPanoramaByLocation: Rd.cj,
        getPanoramaByPOIId: Rd.Zw
    });
    function Zb(a) {
        Cc.call(this);
        "api" == (a || {}).Bf ? Oa(Aa) : Oa(Ba)
    }
    Zb.aG = z.hg("pano", "tile/");
    Zb.prototype = new Cc;
    Zb.prototype.getTilesUrl = function(a, b) {
        var c = Zb.aG[(a.x + a.y) % Zb.aG.length] + "?udt=20150114&qt=tile&styles=pl&x=" + a.x + "&y=" + a.y + "&z=" + b;
        x.S.ba && 6 >= x.S.ba && (c += "&color_dep=32");
        return c
    }
    ;
    Zb.prototype.Us = ca(o);
    Sd.Hd = new R;
    function Sd() {}
    x.extend(Sd, {
        wV: function(a, b, c) {
            c = x.lang.Cc(c);
            b = {
                data: b
            };
            "position_changed" == a && (b.data = Sd.Hd.ji(new Q(b.data.mercatorX,b.data.mercatorY)));
            c.dispatchEvent(new N("on" + a), b)
        }
    });
    var Td = Sd;
    S(Td, {
        dispatchFlashEvent: Td.wV
    });
    var Ud = {
        JO: 50
    };
    Ud.mu = z.hg("pano")[0];
    Ud.iu = {
        width: 220,
        height: 60
    };
    x.extend(Ud, {
        Vo: function(a, b, c, d) {
            if (!b || !c || !c.lngLat || !c.panoInstance)
                d();
            else {
                this.On === j && (this.On = new $b(p,{
                    Bf: "api"
                }));
                var e = this;
                this.On.LB(b, function(b) {
                    b ? e.On.cj(c.lngLat, Ud.JO, function(b) {
                        if (b && b.id) {
                            var f = b.id
                              , k = b.gh
                              , b = b.hh
                              , l = $b.Hd.Zg(c.lngLat)
                              , m = e.sR(l, {
                                x: k,
                                y: b
                            })
                              , k = e.TK(f, m, 0, Ud.iu.width, Ud.iu.height);
                            a.content = e.tR(a.content, k, c.titleTip, c.beforeDomId);
                            a.addEventListener("open", function() {
                                ja.F(x.rc("infoWndPano"), "click", function() {
                                    c.panoInstance.dc(f);
                                    c.panoInstance.show();
                                    c.panoInstance.xd({
                                        heading: m,
                                        pitch: 0
                                    })
                                }
                                )
                            }
                            )
                        }
                        d()
                    }
                    ) : d()
                }
                )
            }
        },
        tR: function(a, b, c, d) {
            var c = c || "", e;
            !d || !a.split(d)[0] ? (d = a,
            a = "") : (d = a.split(d)[0],
            e = d.lastIndexOf("<"),
            d = a.substring(0, e),
            a = a.substring(e));
            e = [];
            var f = Ud.iu.width
              , g = Ud.iu.height;
            e.push(d);
            e.push("<div id='infoWndPano' class='panoInfoBox' style='height:" + g + "px;width:" + f + "px; margin-top: -19px;'>");
            e.push("<img class='pano_thumnail_img' width='" + f + "' height='" + g + "' border='0' alt='" + c + "\u5916\u666f' title='" + c + "\u5916\u666f' src='" + b + "' onerror='Pano.PanoEntranceUtil.thumbnailNotFound(this, " + f + ", " + g + ");' />");
            e.push("<div class='panoInfoBoxTitleBg' style='width:" + f + "px;'></div><a href='javascript:void(0)' class='panoInfoBoxTitleContent' >\u8fdb\u5165\u5168\u666f&gt;&gt;</a>");
            e.push("</div>");
            e.push(a);
            return e.join("")
        },
        sR: function(a, b) {
            var c = 90 - 180 * Math.atan2(a.y - b.y, a.x - b.x) / Math.PI;
            0 > c && (c += 360);
            return c
        },
        TK: function(a, b, c, d, e) {
            var f = {
                panoId: a,
                panoHeading: b || 0,
                panoPitch: c || 0,
                width: d,
                height: e
            };
            return (Ud.mu + "?qt=pr3d&fovy=75&quality=80&panoid={panoId}&heading={panoHeading}&pitch={panoPitch}&width={width}&height={height}").replace(/\{(.*?)\}/g, function(a, b) {
                return f[b]
            }
            )
        }
    });
    var Vd = document, Wd = Math, Xd = Vd.createElement("div").style, Yd;
    a: {
        for (var Zd = ["t", "webkitT", "MozT", "msT", "OT"], $d, ae = 0, be = Zd.length; ae < be; ae++)
            if ($d = Zd[ae] + "ransform",
            $d in Xd) {
                Yd = Zd[ae].substr(0, Zd[ae].length - 1);
                break a
            }
        Yd = q
    }
    var ce = Yd ? "-" + Yd.toLowerCase() + "-" : ""
      , ee = de("transform")
      , fe = de("transitionProperty")
      , ge = de("transitionDuration")
      , he = de("transformOrigin")
      , ie = de("transitionTimingFunction")
      , je = de("transitionDelay")
      , wd = /android/gi.test(navigator.appVersion)
      , le = /iphone|ipad/gi.test(navigator.appVersion)
      , ne = /hp-tablet/gi.test(navigator.appVersion)
      , oe = de("perspective") in Xd
      , pe = "ontouchstart" in window && !ne
      , qe = Yd !== q
      , re = de("transition") in Xd
      , se = "onorientationchange" in window ? "orientationchange" : "resize"
      , te = pe ? "touchstart" : "mousedown"
      , ue = pe ? "touchmove" : "mousemove"
      , ve = pe ? "touchend" : "mouseup"
      , we = pe ? "touchcancel" : "mouseup"
      , xe = Yd === q ? q : {
        "": "transitionend",
        webkit: "webkitTransitionEnd",
        Moz: "transitionend",
        O: "otransitionend",
        ms: "MSTransitionEnd"
    }[Yd]
      , ye = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(a) {
        return setTimeout(a, 1)
    }
      , ze = window.cancelRequestAnimationFrame || window.N3 || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout
      , Ae = oe ? " translateZ(0)" : "";
    function Be(a, b) {
        var c = this, d;
        c.Zm = "object" == typeof a ? a : Vd.getElementById(a);
        c.Zm.style.overflow = "hidden";
        c.Cb = c.Zm.children[0];
        c.options = {
            So: o,
            Xm: o,
            x: 0,
            y: 0,
            ko: o,
            zU: q,
            Cx: o,
            iE: o,
            Bk: o,
            oi: q,
            UZ: 0,
            jw: q,
            gx: o,
            $h: o,
            pi: o,
            ZC: wd,
            kx: le,
            QV: le && oe,
            QE: "",
            zoom: q,
            Ck: 1,
            Hp: 4,
            yV: 2,
            oO: "scroll",
            Ht: q,
            ly: 1,
            BM: p,
            tM: function(a) {
                a.preventDefault()
            },
            EM: p,
            sM: p,
            DM: p,
            rM: p,
            Ix: p,
            FM: p,
            wM: p,
            dp: p,
            GM: p,
            cp: p
        };
        for (d in b)
            c.options[d] = b[d];
        c.x = c.options.x;
        c.y = c.options.y;
        c.options.Bk = qe && c.options.Bk;
        c.options.$h = c.options.So && c.options.$h;
        c.options.pi = c.options.Xm && c.options.pi;
        c.options.zoom = c.options.Bk && c.options.zoom;
        c.options.oi = re && c.options.oi;
        c.options.zoom && wd && (Ae = "");
        c.Cb.style[fe] = c.options.Bk ? ce + "transform" : "top left";
        c.Cb.style[ge] = "0";
        c.Cb.style[he] = "0 0";
        c.options.oi && (c.Cb.style[ie] = "cubic-bezier(0.33,0.66,0.66,1)");
        c.options.Bk ? c.Cb.style[ee] = "translate(" + c.x + "px," + c.y + "px)" + Ae : c.Cb.style.cssText += ";position:absolute;top:" + c.y + "px;left:" + c.x + "px";
        c.options.oi && (c.options.ZC = o);
        c.refresh();
        c.P(se, window);
        c.P(te);
        !pe && "none" != c.options.oO && (c.P("DOMMouseScroll"),
        c.P("mousewheel"));
        c.options.jw && (c.HU = setInterval(function() {
            c.LP()
        }
        , 500));
        this.options.gx && (Event.prototype.stopImmediatePropagation || (document.body.removeEventListener = function(a, b, c) {
            var d = Node.prototype.removeEventListener;
            a === "click" ? d.call(document.body, a, b.kL || b, c) : d.call(document.body, a, b, c)
        }
        ,
        document.body.addEventListener = function(a, b, c) {
            var d = Node.prototype.addEventListener;
            a === "click" ? d.call(document.body, a, b.kL || (b.kL = function(a) {
                a.BY || b(a)
            }
            ), c) : d.call(document.body, a, b, c)
        }
        ),
        c.P("click", document.body, o))
    }
    Be.prototype = {
        enabled: o,
        x: 0,
        y: 0,
        mj: [],
        scale: 1,
        fC: 0,
        gC: 0,
        Fe: [],
        bf: [],
        CB: p,
        yy: 0,
        handleEvent: function(a) {
            switch (a.type) {
            case te:
                if (!pe && 0 !== a.button)
                    break;
                this.xv(a);
                break;
            case ue:
                this.qS(a);
                break;
            case ve:
            case we:
                this.Ju(a);
                break;
            case se:
                this.VA();
                break;
            case "DOMMouseScroll":
            case "mousewheel":
                this.VT(a);
                break;
            case xe:
                this.RT(a);
                break;
            case "click":
                this.VP(a)
            }
        },
        LP: function() {
            !this.dh && (!this.Dk && !(this.Cl || this.ay == this.Cb.offsetWidth * this.scale && this.op == this.Cb.offsetHeight * this.scale)) && this.refresh()
        },
        nv: function(a) {
            var b;
            this[a + "Scrollbar"] ? (this[a + "ScrollbarWrapper"] || (b = Vd.createElement("div"),
            this.options.QE ? b.className = this.options.QE + a.toUpperCase() : b.style.cssText = "position:absolute;z-index:100;" + ("h" == a ? "height:7px;bottom:1px;left:2px;right:" + (this.pi ? "7" : "2") + "px" : "width:7px;bottom:" + (this.$h ? "7" : "2") + "px;top:2px;right:1px"),
            b.style.cssText += ";pointer-events:none;" + ce + "transition-property:opacity;" + ce + "transition-duration:" + (this.options.QV ? "350ms" : "0") + ";overflow:hidden;opacity:" + (this.options.kx ? "0" : "1"),
            this.Zm.appendChild(b),
            this[a + "ScrollbarWrapper"] = b,
            b = Vd.createElement("div"),
            this.options.QE || (b.style.cssText = "position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);" + ce + "background-clip:padding-box;" + ce + "box-sizing:border-box;" + ("h" == a ? "height:100%" : "width:100%") + ";" + ce + "border-radius:3px;border-radius:3px"),
            b.style.cssText += ";pointer-events:none;" + ce + "transition-property:" + ce + "transform;" + ce + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);" + ce + "transition-duration:0;" + ce + "transform: translate(0,0)" + Ae,
            this.options.oi && (b.style.cssText += ";" + ce + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),
            this[a + "ScrollbarWrapper"].appendChild(b),
            this[a + "ScrollbarIndicator"] = b),
            "h" == a ? (this.gL = this.hL.clientWidth,
            this.hX = Wd.max(Wd.round(this.gL * this.gL / this.ay), 8),
            this.gX.style.width = this.hX + "px") : (this.gO = this.hO.clientHeight,
            this.o_ = Wd.max(Wd.round(this.gO * this.gO / this.op), 8),
            this.n_.style.height = this.o_ + "px"),
            this.WA(a, o)) : this[a + "ScrollbarWrapper"] && (qe && (this[a + "ScrollbarIndicator"].style[ee] = ""),
            this[a + "ScrollbarWrapper"].parentNode.removeChild(this[a + "ScrollbarWrapper"]),
            this[a + "ScrollbarWrapper"] = p,
            this[a + "ScrollbarIndicator"] = p)
        },
        VA: function() {
            var a = this;
            setTimeout(function() {
                a.refresh()
            }
            , wd ? 200 : 0)
        },
        fr: function(a, b) {
            this.Dk || (a = this.So ? a : 0,
            b = this.Xm ? b : 0,
            this.options.Bk ? this.Cb.style[ee] = "translate(" + a + "px," + b + "px) scale(" + this.scale + ")" + Ae : (a = Wd.round(a),
            b = Wd.round(b),
            this.Cb.style.left = a + "px",
            this.Cb.style.top = b + "px"),
            this.x = a,
            this.y = b,
            this.WA("h"),
            this.WA("v"))
        },
        WA: function(a, b) {
            var c = "h" == a ? this.x : this.y;
            this[a + "Scrollbar"] && (c *= this[a + "ScrollbarProp"],
            0 > c ? (this.options.ZC || (c = this[a + "ScrollbarIndicatorSize"] + Wd.round(3 * c),
            8 > c && (c = 8),
            this[a + "ScrollbarIndicator"].style["h" == a ? "width" : "height"] = c + "px"),
            c = 0) : c > this[a + "ScrollbarMaxScroll"] && (this.options.ZC ? c = this[a + "ScrollbarMaxScroll"] : (c = this[a + "ScrollbarIndicatorSize"] - Wd.round(3 * (c - this[a + "ScrollbarMaxScroll"])),
            8 > c && (c = 8),
            this[a + "ScrollbarIndicator"].style["h" == a ? "width" : "height"] = c + "px",
            c = this[a + "ScrollbarMaxScroll"] + (this[a + "ScrollbarIndicatorSize"] - c))),
            this[a + "ScrollbarWrapper"].style[je] = "0",
            this[a + "ScrollbarWrapper"].style.opacity = b && this.options.kx ? "0" : "1",
            this[a + "ScrollbarIndicator"].style[ee] = "translate(" + ("h" == a ? c + "px,0)" : "0," + c + "px)") + Ae)
        },
        VP: function(a) {
            if (a.RQ === o)
                return this.uB = a.target,
                this.Jw = Date.now(),
                o;
            if (this.uB && this.Jw) {
                if (600 < Date.now() - this.Jw)
                    return this.Jw = this.uB = p,
                    o
            } else {
                for (var b = a.target; b != this.Cb && b != document.body; )
                    b = b.parentNode;
                if (b == document.body)
                    return o
            }
            for (b = a.target; 1 != b.nodeType; )
                b = b.parentNode;
            b = b.tagName.toLowerCase();
            if ("select" != b && "input" != b && "textarea" != b)
                return a.stopImmediatePropagation ? a.stopImmediatePropagation() : a.BY = o,
                a.stopPropagation(),
                a.preventDefault(),
                this.Jw = this.uB = p,
                q
        },
        xv: function(a) {
            var b = pe ? a.touches[0] : a, c, d;
            if (this.enabled) {
                this.options.tM && this.options.tM.call(this, a);
                (this.options.oi || this.options.zoom) && this.LI(0);
                this.Dk = this.Cl = this.dh = q;
                this.pC = this.oC = this.Pv = this.Ov = this.vC = this.uC = 0;
                this.options.zoom && (pe && 1 < a.touches.length) && (d = Wd.abs(a.touches[0].pageX - a.touches[1].pageX),
                c = Wd.abs(a.touches[0].pageY - a.touches[1].pageY),
                this.WZ = Wd.sqrt(d * d + c * c),
                this.Kx = Wd.abs(a.touches[0].pageX + a.touches[1].pageX - 2 * this.wF) / 2 - this.x,
                this.Lx = Wd.abs(a.touches[0].pageY + a.touches[1].pageY - 2 * this.xF) / 2 - this.y,
                this.options.dp && this.options.dp.call(this, a));
                if (this.options.Cx && (this.options.Bk ? (c = getComputedStyle(this.Cb, p)[ee].replace(/[^0-9\-.,]/g, "").split(","),
                d = +(c[12] || c[4]),
                c = +(c[13] || c[5])) : (d = +getComputedStyle(this.Cb, p).left.replace(/[^0-9-]/g, ""),
                c = +getComputedStyle(this.Cb, p).top.replace(/[^0-9-]/g, "")),
                d != this.x || c != this.y))
                    this.options.oi ? this.Jd(xe) : ze(this.CB),
                    this.mj = [],
                    this.fr(d, c),
                    this.options.Ix && this.options.Ix.call(this);
                this.Qv = this.x;
                this.Rv = this.y;
                this.Kt = this.x;
                this.Lt = this.y;
                this.gh = b.pageX;
                this.hh = b.pageY;
                this.startTime = a.timeStamp || Date.now();
                this.options.EM && this.options.EM.call(this, a);
                this.P(ue, window);
                this.P(ve, window);
                this.P(we, window)
            }
        },
        qS: function(a) {
            var b = pe ? a.touches[0] : a
              , c = b.pageX - this.gh
              , d = b.pageY - this.hh
              , e = this.x + c
              , f = this.y + d
              , g = a.timeStamp || Date.now();
            this.options.sM && this.options.sM.call(this, a);
            if (this.options.zoom && pe && 1 < a.touches.length)
                e = Wd.abs(a.touches[0].pageX - a.touches[1].pageX),
                f = Wd.abs(a.touches[0].pageY - a.touches[1].pageY),
                this.VZ = Wd.sqrt(e * e + f * f),
                this.Dk = o,
                b = 1 / this.WZ * this.VZ * this.scale,
                b < this.options.Ck ? b = 0.5 * this.options.Ck * Math.pow(2, b / this.options.Ck) : b > this.options.Hp && (b = 2 * this.options.Hp * Math.pow(0.5, this.options.Hp / b)),
                this.Yo = b / this.scale,
                e = this.Kx - this.Kx * this.Yo + this.x,
                f = this.Lx - this.Lx * this.Yo + this.y,
                this.Cb.style[ee] = "translate(" + e + "px," + f + "px) scale(" + b + ")" + Ae,
                this.options.GM && this.options.GM.call(this, a);
            else {
                this.gh = b.pageX;
                this.hh = b.pageY;
                if (0 < e || e < this.Ud)
                    e = this.options.ko ? this.x + c / 2 : 0 <= e || 0 <= this.Ud ? 0 : this.Ud;
                if (f > this.$e || f < this.bd)
                    f = this.options.ko ? this.y + d / 2 : f >= this.$e || 0 <= this.bd ? this.$e : this.bd;
                this.uC += c;
                this.vC += d;
                this.Ov = Wd.abs(this.uC);
                this.Pv = Wd.abs(this.vC);
                6 > this.Ov && 6 > this.Pv || (this.options.iE && (this.Ov > this.Pv + 5 ? (f = this.y,
                d = 0) : this.Pv > this.Ov + 5 && (e = this.x,
                c = 0)),
                this.dh = o,
                this.fr(e, f),
                this.oC = 0 < c ? -1 : 0 > c ? 1 : 0,
                this.pC = 0 < d ? -1 : 0 > d ? 1 : 0,
                300 < g - this.startTime && (this.startTime = g,
                this.Kt = this.x,
                this.Lt = this.y),
                this.options.DM && this.options.DM.call(this, a))
            }
        },
        Ju: function(a) {
            if (!(pe && 0 !== a.touches.length)) {
                var b = this, c = pe ? a.changedTouches[0] : a, d, e, f = {
                    oa: 0,
                    time: 0
                }, g = {
                    oa: 0,
                    time: 0
                }, i = (a.timeStamp || Date.now()) - b.startTime;
                d = b.x;
                e = b.y;
                b.Jd(ue, window);
                b.Jd(ve, window);
                b.Jd(we, window);
                b.options.rM && b.options.rM.call(b, a);
                if (b.Dk)
                    d = b.scale * b.Yo,
                    d = Math.max(b.options.Ck, d),
                    d = Math.min(b.options.Hp, d),
                    b.Yo = d / b.scale,
                    b.scale = d,
                    b.x = b.Kx - b.Kx * b.Yo + b.x,
                    b.y = b.Lx - b.Lx * b.Yo + b.y,
                    b.Cb.style[ge] = "200ms",
                    b.Cb.style[ee] = "translate(" + b.x + "px," + b.y + "px) scale(" + b.scale + ")" + Ae,
                    b.Dk = q,
                    b.refresh(),
                    b.options.cp && b.options.cp.call(b, a);
                else {
                    if (b.dh) {
                        if (300 > i && b.options.Cx) {
                            f = d ? b.JH(d - b.Kt, i, -b.x, b.ay - b.au + b.x, b.options.ko ? b.au : 0) : f;
                            g = e ? b.JH(e - b.Lt, i, -b.y, 0 > b.bd ? b.op - b.$m + b.y - b.$e : 0, b.options.ko ? b.$m : 0) : g;
                            d = b.x + f.oa;
                            e = b.y + g.oa;
                            if (0 < b.x && 0 < d || b.x < b.Ud && d < b.Ud)
                                f = {
                                    oa: 0,
                                    time: 0
                                };
                            if (b.y > b.$e && e > b.$e || b.y < b.bd && e < b.bd)
                                g = {
                                    oa: 0,
                                    time: 0
                                }
                        }
                        f.oa || g.oa ? (c = Wd.max(Wd.max(f.time, g.time), 10),
                        b.options.Ht && (f = d - b.Qv,
                        g = e - b.Rv,
                        Wd.abs(f) < b.options.ly && Wd.abs(g) < b.options.ly ? b.scrollTo(b.Qv, b.Rv, 200) : (f = b.CI(d, e),
                        d = f.x,
                        e = f.y,
                        c = Wd.max(f.time, c))),
                        b.scrollTo(Wd.round(d), Wd.round(e), c)) : b.options.Ht ? (f = d - b.Qv,
                        g = e - b.Rv,
                        Wd.abs(f) < b.options.ly && Wd.abs(g) < b.options.ly ? b.scrollTo(b.Qv, b.Rv, 200) : (f = b.CI(b.x, b.y),
                        (f.x != b.x || f.y != b.y) && b.scrollTo(f.x, f.y, f.time))) : b.Qn(200)
                    } else {
                        if (pe)
                            if (b.dK && b.options.zoom)
                                clearTimeout(b.dK),
                                b.dK = p,
                                b.options.dp && b.options.dp.call(b, a),
                                b.zoom(b.gh, b.hh, 1 == b.scale ? b.options.yV : 1),
                                b.options.cp && setTimeout(function() {
                                    b.options.cp.call(b, a)
                                }
                                , 200);
                            else if (this.options.gx) {
                                for (d = c.target; 1 != d.nodeType; )
                                    d = d.parentNode;
                                e = d.tagName.toLowerCase();
                                "select" != e && "input" != e && "textarea" != e ? (e = Vd.createEvent("MouseEvents"),
                                e.initMouseEvent("click", o, o, a.view, 1, c.screenX, c.screenY, c.clientX, c.clientY, a.ctrlKey, a.altKey, a.shiftKey, a.metaKey, 0, p),
                                e.RQ = o,
                                d.dispatchEvent(e)) : d.focus()
                            }
                        b.Qn(400)
                    }
                    b.options.FM && b.options.FM.call(b, a)
                }
            }
        },
        Qn: function(a) {
            var b = 0 <= this.x ? 0 : this.x < this.Ud ? this.Ud : this.x
              , c = this.y >= this.$e || 0 < this.bd ? this.$e : this.y < this.bd ? this.bd : this.y;
            if (b == this.x && c == this.y) {
                if (this.dh && (this.dh = q,
                this.options.Ix && this.options.Ix.call(this)),
                this.$h && this.options.kx && ("webkit" == Yd && (this.hL.style[je] = "300ms"),
                this.hL.style.opacity = "0"),
                this.pi && this.options.kx)
                    "webkit" == Yd && (this.hO.style[je] = "300ms"),
                    this.hO.style.opacity = "0"
            } else
                this.scrollTo(b, c, a || 0)
        },
        VT: function(a) {
            var b = this, c, d;
            if ("wheelDeltaX" in a)
                c = a.wheelDeltaX / 12,
                d = a.wheelDeltaY / 12;
            else if ("wheelDelta" in a)
                c = d = a.wheelDelta / 12;
            else if ("detail" in a)
                c = d = 3 * -a.detail;
            else
                return;
            if ("zoom" == b.options.oO) {
                if (d = b.scale * Math.pow(2, 1 / 3 * (d ? d / Math.abs(d) : 0)),
                d < b.options.Ck && (d = b.options.Ck),
                d > b.options.Hp && (d = b.options.Hp),
                d != b.scale)
                    !b.yy && b.options.dp && b.options.dp.call(b, a),
                    b.yy++,
                    b.zoom(a.pageX, a.pageY, d, 400),
                    setTimeout(function() {
                        b.yy--;
                        !b.yy && b.options.cp && b.options.cp.call(b, a)
                    }
                    , 400)
            } else
                c = b.x + c,
                d = b.y + d,
                0 < c ? c = 0 : c < b.Ud && (c = b.Ud),
                d > b.$e ? d = b.$e : d < b.bd && (d = b.bd),
                0 > b.bd && b.scrollTo(c, d, 0)
        },
        RT: function(a) {
            a.target == this.Cb && (this.Jd(xe),
            this.hB())
        },
        hB: function() {
            var a = this, b = a.x, c = a.y, d = Date.now(), e, f, g;
            a.Cl || (a.mj.length ? (e = a.mj.shift(),
            e.x == b && e.y == c && (e.time = 0),
            a.Cl = o,
            a.dh = o,
            a.options.oi) ? (a.LI(e.time),
            a.fr(e.x, e.y),
            a.Cl = q,
            e.time ? a.P(xe) : a.Qn(0)) : (g = function() {
                var i = Date.now(), k;
                if (i >= d + e.time) {
                    a.fr(e.x, e.y);
                    a.Cl = q;
                    a.options.iY && a.options.iY.call(a);
                    a.hB()
                } else {
                    i = (i - d) / e.time - 1;
                    f = Wd.sqrt(1 - i * i);
                    i = (e.x - b) * f + b;
                    k = (e.y - c) * f + c;
                    a.fr(i, k);
                    if (a.Cl)
                        a.CB = ye(g)
                }
            }
            ,
            g()) : a.Qn(400))
        },
        LI: function(a) {
            a += "ms";
            this.Cb.style[ge] = a;
            this.$h && (this.gX.style[ge] = a);
            this.pi && (this.n_.style[ge] = a)
        },
        JH: function(a, b, c, d, e) {
            var b = Wd.abs(a) / b
              , f = b * b / 0.0012;
            0 < a && f > c ? (c += e / (6 / (6.0E-4 * (f / b))),
            b = b * c / f,
            f = c) : 0 > a && f > d && (d += e / (6 / (6.0E-4 * (f / b))),
            b = b * d / f,
            f = d);
            return {
                oa: f * (0 > a ? -1 : 1),
                time: Wd.round(b / 6.0E-4)
            }
        },
        Kj: function(a) {
            for (var b = -a.offsetLeft, c = -a.offsetTop; a = a.offsetParent; )
                b -= a.offsetLeft,
                c -= a.offsetTop;
            a != this.Zm && (b *= this.scale,
            c *= this.scale);
            return {
                left: b,
                top: c
            }
        },
        CI: function(a, b) {
            var c, d, e;
            e = this.Fe.length - 1;
            c = 0;
            for (d = this.Fe.length; c < d; c++)
                if (a >= this.Fe[c]) {
                    e = c;
                    break
                }
            e == this.fC && (0 < e && 0 > this.oC) && e--;
            a = this.Fe[e];
            d = (d = Wd.abs(a - this.Fe[this.fC])) ? 500 * (Wd.abs(this.x - a) / d) : 0;
            this.fC = e;
            e = this.bf.length - 1;
            for (c = 0; c < e; c++)
                if (b >= this.bf[c]) {
                    e = c;
                    break
                }
            e == this.gC && (0 < e && 0 > this.pC) && e--;
            b = this.bf[e];
            c = (c = Wd.abs(b - this.bf[this.gC])) ? 500 * (Wd.abs(this.y - b) / c) : 0;
            this.gC = e;
            e = Wd.round(Wd.max(d, c)) || 200;
            return {
                x: a,
                y: b,
                time: e
            }
        },
        P: function(a, b, c) {
            (b || this.Cb).addEventListener(a, this, !!c)
        },
        Jd: function(a, b, c) {
            (b || this.Cb).removeEventListener(a, this, !!c)
        },
        lC: ha(2),
        refresh: function() {
            var a, b, c, d = 0;
            b = 0;
            this.scale < this.options.Ck && (this.scale = this.options.Ck);
            this.au = this.Zm.clientWidth || 1;
            this.$m = this.Zm.clientHeight || 1;
            this.$e = -this.options.UZ || 0;
            this.ay = Wd.round(this.Cb.offsetWidth * this.scale);
            this.op = Wd.round((this.Cb.offsetHeight + this.$e) * this.scale);
            this.Ud = this.au - this.ay;
            this.bd = this.$m - this.op + this.$e;
            this.pC = this.oC = 0;
            this.options.BM && this.options.BM.call(this);
            this.So = this.options.So && 0 > this.Ud;
            this.Xm = this.options.Xm && (!this.options.zU && !this.So || this.op > this.$m);
            this.$h = this.So && this.options.$h;
            this.pi = this.Xm && this.options.pi && this.op > this.$m;
            a = this.Kj(this.Zm);
            this.wF = -a.left;
            this.xF = -a.top;
            if ("string" == typeof this.options.Ht) {
                this.Fe = [];
                this.bf = [];
                c = this.Cb.querySelectorAll(this.options.Ht);
                a = 0;
                for (b = c.length; a < b; a++)
                    d = this.Kj(c[a]),
                    d.left += this.wF,
                    d.top += this.xF,
                    this.Fe[a] = d.left < this.Ud ? this.Ud : d.left * this.scale,
                    this.bf[a] = d.top < this.bd ? this.bd : d.top * this.scale
            } else if (this.options.Ht) {
                for (this.Fe = []; d >= this.Ud; )
                    this.Fe[b] = d,
                    d -= this.au,
                    b++;
                this.Ud % this.au && (this.Fe[this.Fe.length] = this.Ud - this.Fe[this.Fe.length - 1] + this.Fe[this.Fe.length - 1]);
                b = d = 0;
                for (this.bf = []; d >= this.bd; )
                    this.bf[b] = d,
                    d -= this.$m,
                    b++;
                this.bd % this.$m && (this.bf[this.bf.length] = this.bd - this.bf[this.bf.length - 1] + this.bf[this.bf.length - 1])
            }
            this.nv("h");
            this.nv("v");
            this.Dk || (this.Cb.style[ge] = "0",
            this.Qn(400))
        },
        scrollTo: function(a, b, c, d) {
            var e = a;
            this.stop();
            e.length || (e = [{
                x: a,
                y: b,
                time: c,
                CY: d
            }]);
            a = 0;
            for (b = e.length; a < b; a++)
                e[a].CY && (e[a].x = this.x - e[a].x,
                e[a].y = this.y - e[a].y),
                this.mj.push({
                    x: e[a].x,
                    y: e[a].y,
                    time: e[a].time || 0
                });
            this.hB()
        },
        disable: function() {
            this.stop();
            this.Qn(0);
            this.enabled = q;
            this.Jd(ue, window);
            this.Jd(ve, window);
            this.Jd(we, window)
        },
        enable: function() {
            this.enabled = o
        },
        stop: function() {
            this.options.oi ? this.Jd(xe) : ze(this.CB);
            this.mj = [];
            this.Cl = this.dh = q
        },
        zoom: function(a, b, c, d) {
            var e = c / this.scale;
            this.options.Bk && (this.Dk = o,
            d = d === j ? 200 : d,
            a = a - this.wF - this.x,
            b = b - this.xF - this.y,
            this.x = a - a * e + this.x,
            this.y = b - b * e + this.y,
            this.scale = c,
            this.refresh(),
            this.x = 0 < this.x ? 0 : this.x < this.Ud ? this.Ud : this.x,
            this.y = this.y > this.$e ? this.$e : this.y < this.bd ? this.bd : this.y,
            this.Cb.style[ge] = d + "ms",
            this.Cb.style[ee] = "translate(" + this.x + "px," + this.y + "px) scale(" + c + ")" + Ae,
            this.Dk = q)
        }
    };
    function de(a) {
        if ("" === Yd)
            return a;
        a = a.charAt(0).toUpperCase() + a.substr(1);
        return Yd + a
    }
    Xd = p;
    function Ce(a) {
        this.k = {
            anchor: Ub,
            offset: new L(0,0),
            maxWidth: "100%",
            imageHeight: 80
        };
        var a = a || {}, b;
        for (b in a)
            this.k[b] = a[b];
        this.ol = new $b(p,{
            Bf: "api"
        });
        this.Lj = [];
        this.G = p;
        this.Sf = {
            height: this.k.imageHeight,
            width: this.k.imageHeight * De
        };
        this.Ec = this.XA = this.Il = this.Nc = p
    }
    var Ee = [0, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 5, 5, 5, 6, 6, 7, 8, 8, 8, 9, 10]
      , Fe = "\u5176\u4ed6 \u6b63\u95e8 \u623f\u578b \u8bbe\u65bd \u6b63\u95e8 \u9910\u996e\u8bbe\u65bd \u5176\u4ed6\u8bbe\u65bd \u6b63\u95e8 \u8bbe\u65bd \u89c2\u5f71\u5385 \u5176\u4ed6\u8bbe\u65bd".split(" ");
    z.Bm(function(a) {
        var b = p;
        a.addEventListener("position_changed", function() {
            a.k.visible && a.k.albumsControl === o && (b ? b.Vx(a.Mb()) : (b = new Ce(a.k.albumsControlOptions),
            b.fa(a)))
        }
        );
        a.addEventListener("albums_visible_changed", function() {
            a.k.albumsControl === o ? (b ? b.Vx(a.Mb()) : (b = new Ce(a.k.albumsControlOptions),
            b.fa(a)),
            b.show()) : b.J()
        }
        );
        a.addEventListener("albums_options_changed", function() {
            b && b.up(a.k.albumsControlOptions)
        }
        );
        a.addEventListener("visible_changed", function() {
            b && (a.FD() ? a.k.albumsControl === o && (b.A.style.visibility = "visible") : b.A.style.visibility = "hidden")
        }
        )
    }
    );
    var De = 1.8;
    G() && (De = 1);
    x.extend(Ce.prototype, {
        up: function(a) {
            for (var b in a)
                this.k[b] = a[b];
            a = this.k.imageHeight + "px";
            this.nc(this.k.anchor);
            this.A.style.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px";
            this.A.style.height = a;
            this.Pj.style.height = a;
            this.Jh.style.height = a;
            this.Sf = {
                height: this.k.imageHeight,
                width: this.k.imageHeight * De
            };
            this.Oj.style.height = this.Sf.height - 6 + "px";
            this.Oj.style.width = this.Sf.width - 6 + "px";
            this.Vx(this.G.Mb(), o)
        },
        fa: function(a) {
            this.G = a;
            this.Nr();
            this.vP();
            this.uX();
            this.Vx(a.Mb())
        },
        Nr: function() {
            var a = this.k.imageHeight + "px";
            this.A = K("div");
            var b = this.A.style;
            b.cssText = "background:rgb(37,37,37);background:rgba(37,37,37,0.9);";
            b.position = "absolute";
            b.zIndex = "2000";
            b.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px";
            b.padding = "8px 0";
            b.visibility = "hidden";
            b.height = a;
            this.Pj = K("div");
            b = this.Pj.style;
            b.position = "absolute";
            b.overflow = "hidden";
            b.width = "100%";
            b.height = a;
            this.Jh = K("div");
            b = this.Jh.style;
            b.height = a;
            this.Pj.appendChild(this.Jh);
            this.A.appendChild(this.Pj);
            this.G.A.appendChild(this.A);
            this.Oj = K("div", {
                "class": "pano_photo_item_seleted"
            });
            this.Oj.style.height = this.Sf.height - 6 + "px";
            this.Oj.style.width = this.Sf.width - 6 + "px";
            this.nc(this.k.anchor)
        },
        dH: function(a) {
            for (var b = this.Lj, c = b.length - 1; 0 <= c; c--)
                if (b[c].panoId == a)
                    return c;
            return -1
        },
        Vx: function(a, b) {
            if (b || !this.Lj[this.Nc] || !(this.Lj[this.Nc].panoId == a && 3 !== this.Lj[this.Nc].recoType)) {
                var c = this
                  , d = this.dH(a);
                !b && -1 !== d && this.Lj[d] && 3 !== this.Lj[d].recoType ? this.sp(d) : this.LW(function(a) {
                    for (var b = {}, d, i, k = q, l = [], m = 0, n = a.length; m < n; m++)
                        d = a[m].catlog,
                        i = a[m].floor,
                        j !== d && ("" === d && j !== i ? (k = o,
                        b[i] || (b[i] = []),
                        b[i].push(a[m])) : (b[Ee[d]] || (b[Ee[d]] = []),
                        b[Ee[d]].push(a[m])));
                    for (var u in b)
                        k ? l.push({
                            data: u + "F",
                            index: u
                        }) : l.push({
                            data: Fe[u],
                            index: u
                        });
                    c.wG = b;
                    c.Ci = l;
                    c.kl(a);
                    0 == a.length ? c.J() : c.show()
                }
                )
            }
        },
        eV: function() {
            if (!this.zi) {
                var a = this.yW(this.Ci)
                  , b = K("div");
                b.style.cssText = ["width:" + 134 * this.Ci.length + "px;", "overflow:hidden;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;"].join("");
                b.innerHTML = a;
                a = K("div");
                a.appendChild(b);
                a.style.cssText = "position:absolute;top:-25px;background:rgb(37,37,37);background:rgba(37,37,37,0.9);border-bottom:1px solid #4e596a;width:100%;line-height:25px;height:25px;overflow:scroll;outline:0";
                new Be(a,{
                    ko: q,
                    Cx: o,
                    $h: q,
                    pi: q,
                    Xm: q,
                    iE: o,
                    jw: o,
                    gx: o
                });
                this.A.appendChild(a);
                for (var c = this, d = b.getElementsByTagName("span"), e = 0, f = d.length; e < f; e++)
                    b = d[e],
                    x.F(b, "click", function() {
                        if (this.getAttribute("dataindex")) {
                            c.kl(c.wG[this.getAttribute("dataindex")]);
                            for (var a = 0, b = d.length; a < b; a++)
                                d[a].style.color = "#FFFFFF";
                            this.style.color = "#3383FF"
                        }
                    }
                    );
                this.zi = a
            }
        },
        bV: function() {
            if (this.zi)
                a = this.IK(this.Ci),
                this.KP.innerHTML = a;
            else {
                var a = this.IK(this.Ci)
                  , b = K("ul")
                  , c = this;
                b.style.cssText = "list-style: none;padding:0px;margin:0px;display:block;width:60px;position:absolute;top:7px";
                b.innerHTML = a;
                x.F(b, "click", function(a) {
                    if (a = (a.srcElement || a.target).getAttribute("dataindex")) {
                        c.kl(c.wG[a]);
                        for (var d = b.getElementsByTagName("li"), e = 0, f = d.length; e < f; e++)
                            d[e].childNodes[0].getAttribute("dataindex") === a ? x.B.Oa(d[e], "pano_catlogLiActive") : x.B.Pb(d[e], "pano_catlogLiActive")
                    }
                }
                );
                var a = K("div")
                  , d = K("a")
                  , e = K("span")
                  , f = K("a")
                  , g = K("span")
                  , i = ["background:url(" + F.ea + "panorama/catlog_icon.png) no-repeat;", "display:block;width:10px;height:7px;margin:0 auto;"].join("");
                e.style.cssText = i + "background-position:-18px 0;";
                d.style.cssText = "background:#1C1C1C;display:block;position:absolute;width:58px;";
                g.style.cssText = i + "background-position:0 0;";
                f.style.cssText = "background:#1C1C1C;display:block;position:absolute;width:58px;";
                f.style.top = this.k.imageHeight - 7 + "px";
                a.style.cssText = "position:absolute;top:0px;left:0px;width:60px;";
                d.appendChild(e);
                f.appendChild(g);
                x.F(d, "mouseover", function() {
                    var a = parseInt(b.style.top, 10);
                    7 !== a && (e.style.backgroundPosition = "-27px 0");
                    new sb({
                        wc: 60,
                        Xb: tb.hs,
                        duration: 300,
                        ja: function(c) {
                            b.style.top = a + (7 - a) * c + "px"
                        }
                    })
                }
                );
                x.F(d, "mouseout", function() {
                    e.style.backgroundPosition = "-18px 0"
                }
                );
                x.F(f, "mouseover", function() {
                    var a = parseInt(b.style.top, 10)
                      , d = c.k.imageHeight - 14;
                    if (!(parseInt(b.offsetHeight, 10) < d)) {
                        var e = d - parseInt(b.offsetHeight, 10) + 7;
                        e !== a && (g.style.backgroundPosition = "-9px 0");
                        new sb({
                            wc: 60,
                            Xb: tb.hs,
                            duration: 300,
                            ja: function(c) {
                                b.style.top = a + (e - a) * c + "px"
                            }
                        })
                    }
                }
                );
                x.F(f, "mouseout", function() {
                    g.style.backgroundPosition = "0 0"
                }
                );
                a.appendChild(d);
                a.appendChild(f);
                d = K("div");
                d.style.cssText = ["position:absolute;z-index:2001;left:20px;", "height:" + this.k.imageHeight + "px;", "width:62px;overflow:hidden;background:rgb(37,37,37);background:rgba(37,37,37,0.9);"].join("");
                d.appendChild(b);
                d.appendChild(a);
                this.zi = d;
                this.KP = b;
                this.A.appendChild(d)
            }
        },
        cV: function() {
            if (this.Ci && !(0 >= this.Ci.length)) {
                var a = K("div");
                a.innerHTML = this.Fz;
                a.style.cssText = "position:absolute;background:#252525";
                this.A.appendChild(a);
                this.ls = a;
                this.Ec.Tf.style.left = this.Sf.width + 8 + "px";
                this.zi && (this.zi.style.left = parseInt(this.zi.style.left, 10) + this.Sf.width + 8 + "px");
                var b = this;
                x.F(a, "click", function() {
                    b.G.dc(b.NV)
                }
                )
            }
        },
        kl: function(a) {
            this.Lj = a;
            this.k.showCatalog && (0 < this.Ci.length ? (Sa() ? this.bV() : this.eV(),
            this.Ec.offsetLeft = 60) : (this.ls && (this.A.removeChild(this.ls),
            this.ls = p,
            this.Ec.Tf.style.left = "0px"),
            this.zi && (this.A.removeChild(this.zi),
            this.zi = p),
            this.Ec.offsetLeft = 0));
            var b = this.sW(a);
            Sa() && (this.Ci && 0 < this.Ci.length && this.k.showExit && this.Fz) && (this.Ec.offsetLeft += this.Sf.width + 8,
            this.ls ? this.ls.innerHTML = this.Fz : this.cV());
            this.Jh.innerHTML = b;
            this.Jh.style.width = (this.Sf.width + 8) * a.length + 8 + "px";
            a = this.A.offsetWidth;
            b = this.Jh.offsetWidth;
            this.Ec.ws && (b += this.Ec.ws());
            b < a - 2 * this.Ec.ti - this.Ec.offsetLeft ? this.A.style.width = b + this.Ec.offsetLeft + "px" : (this.A.style.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px",
            b < this.A.offsetWidth - 2 * this.Ec.ti - this.Ec.offsetLeft && (this.A.style.width = b + this.Ec.offsetLeft + "px"));
            this.Ec.refresh();
            this.XA = this.Jh.children;
            this.Jh.appendChild(this.Oj);
            this.Oj.style.left = "-100000px";
            a = this.dH(this.G.Mb(), this.n0);
            -1 !== a && this.sp(a)
        },
        yW: function(a) {
            for (var b = "", c, d = 0, e = a.length; d < e; d++)
                c = '<div style="color:white;opacity:0.5;margin:0 35px;float:left;text-align: center"><span  dataIndex="' + a[d].index + '">' + a[d].data + "</span></div>",
                b += c;
            return b
        },
        IK: function(a) {
            for (var b = "", c, d = 0, e = a.length; d < e; d++)
                c = '<li class="pano_catlogLi"><span style="display:block;width:100%;" dataIndex="' + a[d].index + '">' + a[d].data + "</span></li>",
                b += c;
            return b
        },
        sW: function(a) {
            for (var b, c, d, e, f = [], g = this.Sf.height, i = this.Sf.width, k = 0; k < a.length; k++)
                b = a[k],
                recoType = b.recoType,
                d = b.panoId,
                e = b.name,
                c = b.heading,
                b = b.pitch,
                c = Ud.TK(d, c, b, 198, 108),
                b = '<a href="javascript:void(0);" class="pano_photo_item" data-index="' + k + '"><img style="width:' + (i - 2) + "px;height:" + (g - 2) + 'px;" data-index="' + k + '" name="' + e + '" src="' + c + '" alt="' + e + '"/><span class="pano_photo_decs" data-index="' + k + '" style="width:' + i + "px;font-size:" + Math.floor(g / 6) + "px; line-height:" + Math.floor(g / 6) + 'px;"><em class="pano_poi_' + recoType + '"></em>' + e + "</span></a>",
                3 === recoType ? Sa() ? (this.Fz = b,
                this.NV = d,
                a.splice(k, 1),
                k--) : (b = '<a href="javascript:void(0);" class="pano_photo_item" data-index="' + k + '"><img style="width:' + (i - 2) + "px;height:" + (g - 2) + 'px;" data-index="' + k + '" name="' + e + '" src="' + c + '" alt="' + e + '"/><div style="background:rgba(37,37,37,0.5);position:absolute;top:0px;left:0px;width:100%;height:100%;text-align: center;line-height:' + this.k.imageHeight + 'px;" data-index="' + k + '"><img src="' + F.ea + 'panorama/photoexit.png" style="border:none;vertical-align:middle;" data-index="' + k + '" alt=""/></div></a>',
                f.push(b)) : f.push(b);
            return f.join("")
        },
        LW: function(a) {
            var b = this
              , c = this.G.Mb();
            c && this.ol.ax(c, function(d) {
                b.G.Mb() === c && a(d)
            }
            )
        },
        nc: function(a) {
            if (!Ua(a) || isNaN(a) || a < Sb || 3 < a)
                a = this.defaultAnchor;
            var b = this.A
              , c = this.k.offset.width
              , d = this.k.offset.height;
            b.style.left = b.style.top = b.style.right = b.style.bottom = "auto";
            switch (a) {
            case Sb:
                b.style.top = d + "px";
                b.style.left = c + "px";
                break;
            case Tb:
                b.style.top = d + "px";
                b.style.right = c + "px";
                break;
            case Ub:
                b.style.bottom = d + "px";
                b.style.left = c + "px";
                break;
            case 3:
                b.style.bottom = d + "px",
                b.style.right = c + "px"
            }
        },
        vP: function() {
            this.tP()
        },
        tP: function() {
            var a = this;
            x.F(this.A, "touchstart", function(a) {
                a.stopPropagation()
            }
            );
            x.F(this.Pj, "click", function(b) {
                if ((b = (b.srcElement || b.target).getAttribute("data-index")) && b != a.Nc)
                    a.sp(b),
                    a.G.dc(a.Lj[b].panoId)
            }
            );
            x.F(this.Jh, "mouseover", function(b) {
                b = (b.srcElement || b.target).getAttribute("data-index");
                b !== p && a.KJ(b, o)
            }
            );
            this.G.addEventListener("size_changed", function() {
                isNaN(Number(a.k.maxWidth)) && a.up({
                    maxWidth: a.k.maxWidth
                })
            }
            )
        },
        sp: function(a) {
            this.Oj.style.left = this.XA[a].offsetLeft + 8 + "px";
            this.Oj.setAttribute("data-index", this.XA[a].getAttribute("data-index"));
            this.Nc = a;
            this.KJ(a)
        },
        KJ: function(a, b) {
            var c = this.Sf.width + 8
              , d = 0;
            this.Ec.ws && (d = this.Ec.ws() / 2);
            var e = this.Pj.offsetWidth - 2 * d
              , f = this.Jh.offsetLeft || this.Ec.x
              , f = f - d
              , g = -a * c;
            g > f && this.Ec.scrollTo(g + d);
            c = g - c;
            f -= e;
            c < f && (!b || b && 8 < g - f) && this.Ec.scrollTo(c + e + d)
        },
        uX: function() {
            this.Ec = G() ? new Be(this.Pj,{
                ko: q,
                Cx: o,
                $h: q,
                pi: q,
                Xm: q,
                iE: o,
                jw: o,
                gx: o
            }) : new Ge(this.Pj)
        },
        J: function() {
            this.A.style.visibility = "hidden"
        },
        show: function() {
            this.A.style.visibility = "visible"
        }
    });
    function Ge(a) {
        this.A = a;
        this.Ig = a.children[0];
        this.tr = p;
        this.ti = 20;
        this.offsetLeft = 0;
        this.fa()
    }
    Ge.prototype = {
        fa: function() {
            this.Ig.style.position = "relative";
            this.refresh();
            this.Nr();
            this.Gl()
        },
        refresh: function() {
            this.Mn = this.A.offsetWidth - this.ws();
            this.wA = -(this.Ig.offsetWidth - this.Mn - this.ti);
            this.$u = this.ti + this.offsetLeft;
            this.Ig.style.left = this.$u + "px";
            this.Ig.children[0] && (this.tr = this.Ig.children[0].offsetWidth);
            this.Tf && (this.Tf.children[0].style.marginTop = this.mr.children[0].style.marginTop = this.Tf.offsetHeight / 2 - this.Tf.children[0].offsetHeight / 2 + "px")
        },
        ws: function() {
            return 2 * this.ti
        },
        Nr: function() {
            this.ov = K("div");
            this.ov.innerHTML = '<a class="pano_photo_arrow_l" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="\u4e0a\u4e00\u9875"><span class="pano_arrow_l"></span></a><a class="pano_photo_arrow_r" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="\u4e0b\u4e00\u9875"><span class="pano_arrow_r"></span></a>';
            this.Tf = this.ov.children[0];
            this.mr = this.ov.children[1];
            this.A.appendChild(this.ov);
            this.Tf.children[0].style.marginTop = this.mr.children[0].style.marginTop = this.Tf.offsetHeight / 2 - this.Tf.children[0].offsetHeight / 2 + "px"
        },
        Gl: function() {
            var a = this;
            x.F(this.Tf, "click", function() {
                a.scrollTo(a.Ig.offsetLeft + a.Mn)
            }
            );
            x.F(this.mr, "click", function() {
                a.scrollTo(a.Ig.offsetLeft - a.Mn)
            }
            )
        },
        ST: function() {
            x.B.Pb(this.Tf, "pano_arrow_disable");
            x.B.Pb(this.mr, "pano_arrow_disable");
            var a = this.Ig.offsetLeft;
            a >= this.$u && x.B.Oa(this.Tf, "pano_arrow_disable");
            a - this.Mn <= this.wA && x.B.Oa(this.mr, "pano_arrow_disable")
        },
        scrollTo: function(a) {
            a = a < this.Ig.offsetLeft ? Math.ceil((a - this.ti - this.Mn) / this.tr) * this.tr + this.Mn + this.ti - 8 : Math.ceil((a - this.ti) / this.tr) * this.tr + this.ti;
            a < this.wA ? a = this.wA : a > this.$u && (a = this.$u);
            var b = this.Ig.offsetLeft
              , c = this;
            new sb({
                wc: 60,
                Xb: tb.hs,
                duration: 300,
                ja: function(d) {
                    c.Ig.style.left = b + (a - b) * d + "px"
                },
                finish: function() {
                    c.ST()
                }
            })
        }
    };
    z.Map = Ka;
    z.Hotspot = hb;
    z.MapType = Pc;
    z.Point = H;
    z.Pixel = Q;
    z.Size = L;
    z.Bounds = eb;
    z.TileLayer = Cc;
    z.Projection = ec;
    z.MercatorProjection = R;
    z.PerspectiveProjection = gb;
    z.Copyright = function(a, b, c) {
        this.id = a;
        this.Ua = b;
        this.content = c
    }
    ;
    z.Overlay = hc;
    z.Label = pc;
    z.GroundOverlay = qc;
    z.PointCollection = uc;
    z.Marker = T;
    z.Icon = lc;
    z.IconSequence = nc;
    z.Symbol = mc;
    z.Polyline = yc;
    z.Polygon = xc;
    z.InfoWindow = oc;
    z.Circle = zc;
    z.Control = Rb;
    z.NavigationControl = ib;
    z.GeolocationControl = Vb;
    z.OverviewMapControl = kb;
    z.CopyrightControl = Wb;
    z.ScaleControl = jb;
    z.MapTypeControl = lb;
    z.PanoramaControl = Yb;
    z.TrafficLayer = Lc;
    z.CustomLayer = mb;
    z.ContextMenu = ac;
    z.MenuItem = dc;
    z.LocalSearch = ab;
    z.TransitRoute = pd;
    z.DrivingRoute = sd;
    z.WalkingRoute = td;
    z.Autocomplete = Fd;
    z.RouteSearch = xd;
    z.Geocoder = yd;
    z.LocalCity = Ad;
    z.Geolocation = Geolocation;
    z.Convertor = gc;
    z.BusLineSearch = Ed;
    z.Boundary = Dd;
    z.VectorCloudLayer = Jc;
    z.VectorTrafficLayer = Kc;
    z.Panorama = Ma;
    z.PanoramaLabel = Ld;
    z.PanoramaService = $b;
    z.PanoramaCoverageLayer = Zb;
    z.PanoramaFlashInterface = Sd;
    function S(a, b) {
        for (var c in b)
            a[c] = b[c]
    }
    S(window, {
        BMap: z,
        _jsload2: function(a, b) {
            ja.oy.EX && ja.oy.set(a, b);
            I.GU(a, b)
        },
        BMAP_API_VERSION: "2.0"
    });
    var W = Ka.prototype;
    S(W, {
        getBounds: W.Pd,
        getCenter: W.Aa,
        getMapType: W.la,
        getSize: W.kb,
        setSize: W.yd,
        getViewport: W.Is,
        getZoom: W.U,
        centerAndZoom: W.be,
        panTo: W.hi,
        panBy: W.mg,
        setCenter: W.Jf,
        setCurrentCity: W.WE,
        setMapType: W.og,
        setViewport: W.nh,
        setZoom: W.Dc,
        highResolutionEnabled: W.jL,
        zoomTo: W.sg,
        zoomIn: W.yF,
        zoomOut: W.zF,
        addHotspot: W.Wv,
        removeHotspot: W.EY,
        clearHotspots: W.Kl,
        checkResize: W.JU,
        addControl: W.Uv,
        removeControl: W.TM,
        getContainer: W.Da,
        addContextMenu: W.bo,
        removeContextMenu: W.hp,
        addOverlay: W.ya,
        removeOverlay: W.Hb,
        clearOverlays: W.HJ,
        openInfoWindow: W.Bb,
        closeInfoWindow: W.Mc,
        pointToOverlayPixel: W.Ge,
        overlayPixelToPoint: W.IM,
        getInfoWindow: W.Vg,
        getOverlays: W.Yw,
        getPanes: function() {
            return {
                floatPane: this.$d.$C,
                markerMouseTarget: this.$d.lE,
                floatShadow: this.$d.zK,
                labelPane: this.$d.eE,
                markerPane: this.$d.bM,
                markerShadow: this.$d.cM,
                mapPane: this.$d.Xs
            }
        },
        addTileLayer: W.Mg,
        removeTileLayer: W.lh,
        pixelToPoint: W.ob,
        pointToPixel: W.Vb,
        setFeatureStyle: W.rp,
        selectBaseElement: W.f3,
        setMapStyle: W.wt,
        enable3DBuilding: W.wo,
        disable3DBuilding: W.sV,
        getPanorama: W.$l
    });
    var He = Pc.prototype;
    S(He, {
        getTileLayer: He.XW,
        getMinZoom: He.Ho,
        getMaxZoom: He.Zl,
        getProjection: He.Mo,
        getTextColor: He.em,
        getTips: He.Hs
    });
    S(window, {
        BMAP_NORMAL_MAP: La,
        BMAP_PERSPECTIVE_MAP: Na,
        BMAP_SATELLITE_MAP: Wa,
        BMAP_HYBRID_MAP: Pa
    });
    var Ie = R.prototype;
    S(Ie, {
        lngLatToPoint: Ie.Zg,
        pointToLngLat: Ie.ji
    });
    var Je = gb.prototype;
    S(Je, {
        lngLatToPoint: Je.Zg,
        pointToLngLat: Je.ji
    });
    var Ke = eb.prototype;
    S(Ke, {
        equals: Ke.$a,
        containsPoint: Ke.Lr,
        containsBounds: Ke.UU,
        intersects: Ke.Os,
        extend: Ke.extend,
        getCenter: Ke.Aa,
        isEmpty: Ke.kj,
        getSouthWest: Ke.Ee,
        getNorthEast: Ke.Cf,
        toSpan: Ke.nF
    });
    var Le = hc.prototype;
    S(Le, {
        isVisible: Le.Yg,
        show: Le.show,
        hide: Le.J
    });
    hc.getZIndex = hc.gm;
    var Me = fb.prototype;
    S(Me, {
        openInfoWindow: Me.Bb,
        closeInfoWindow: Me.Mc,
        enableMassClear: Me.Vh,
        disableMassClear: Me.uV,
        show: Me.show,
        hide: Me.J,
        getMap: Me.Tw,
        addContextMenu: Me.bo,
        removeContextMenu: Me.hp
    });
    var Ne = T.prototype;
    S(Ne, {
        setIcon: Ne.Ib,
        getIcon: Ne.Go,
        setPosition: Ne.ha,
        getPosition: Ne.V,
        setOffset: Ne.Ie,
        getOffset: Ne.Df,
        getLabel: Ne.sD,
        setLabel: Ne.Nm,
        setTitle: Ne.qc,
        setTop: Ne.mi,
        enableDragging: Ne.Sb,
        disableDragging: Ne.rC,
        setZIndex: Ne.Bt,
        getMap: Ne.Tw,
        setAnimation: Ne.Mm,
        setShadow: Ne.fy,
        hide: Ne.J,
        setRotation: Ne.wp,
        getRotation: Ne.XK
    });
    S(window, {
        BMAP_ANIMATION_DROP: 1,
        BMAP_ANIMATION_BOUNCE: 2
    });
    var Oe = pc.prototype;
    S(Oe, {
        setStyle: Oe.zd,
        setStyles: Oe.li,
        setContent: Oe.Rc,
        setPosition: Oe.ha,
        getPosition: Oe.V,
        setOffset: Oe.Ie,
        getOffset: Oe.Df,
        setTitle: Oe.qc,
        setZIndex: Oe.Bt,
        getMap: Oe.Tw,
        getContent: Oe.dk
    });
    var Re = lc.prototype;
    S(Re, {
        setImageUrl: Re.jN,
        setSize: Re.yd,
        setAnchor: Re.nc,
        setImageOffset: Re.vt,
        setImageSize: Re.hZ,
        setInfoWindowAnchor: Re.kZ,
        setPrintImageUrl: Re.tZ
    });
    var Se = oc.prototype;
    S(Se, {
        redraw: Se.Vd,
        setTitle: Se.qc,
        setContent: Se.Rc,
        getContent: Se.dk,
        getPosition: Se.V,
        enableMaximize: Se.Qg,
        disableMaximize: Se.Cw,
        isOpen: Se.Ka,
        setMaxContent: Se.xt,
        maximize: Se.Bx,
        enableAutoPan: Se.is
    });
    var Te = jc.prototype;
    S(Te, {
        getPath: Te.fe,
        setPath: Te.Wd,
        setPositionAt: Te.Pm,
        getStrokeColor: Te.RW,
        setStrokeWeight: Te.zp,
        getStrokeWeight: Te.$K,
        setStrokeOpacity: Te.xp,
        getStrokeOpacity: Te.SW,
        setFillOpacity: Te.ut,
        getFillOpacity: Te.nW,
        setStrokeStyle: Te.yp,
        getStrokeStyle: Te.ZK,
        getFillColor: Te.mW,
        getBounds: Te.Pd,
        enableEditing: Te.Af,
        disableEditing: Te.tV
    });
    var Ue = zc.prototype;
    S(Ue, {
        setCenter: Ue.Jf,
        getCenter: Ue.Aa,
        getRadius: Ue.VK,
        setRadius: Ue.cf
    });
    var Ve = xc.prototype;
    S(Ve, {
        getPath: Ve.fe,
        setPath: Ve.Wd,
        setPositionAt: Ve.Pm
    });
    var We = hb.prototype;
    S(We, {
        getPosition: We.V,
        setPosition: We.ha,
        getText: We.BD,
        setText: We.At
    });
    H.prototype.equals = H.prototype.$a;
    Q.prototype.equals = Q.prototype.$a;
    L.prototype.equals = L.prototype.$a;
    S(window, {
        BMAP_ANCHOR_TOP_LEFT: Sb,
        BMAP_ANCHOR_TOP_RIGHT: Tb,
        BMAP_ANCHOR_BOTTOM_LEFT: Ub,
        BMAP_ANCHOR_BOTTOM_RIGHT: 3
    });
    var Xe = Rb.prototype;
    S(Xe, {
        setAnchor: Xe.nc,
        getAnchor: Xe.fD,
        setOffset: Xe.Ie,
        getOffset: Xe.Df,
        show: Xe.show,
        hide: Xe.J,
        isVisible: Xe.Yg,
        toString: Xe.toString
    });
    var Ye = ib.prototype;
    S(Ye, {
        getType: Ye.Qo,
        setType: Ye.Qm
    });
    S(window, {
        BMAP_NAVIGATION_CONTROL_LARGE: 0,
        BMAP_NAVIGATION_CONTROL_SMALL: 1,
        BMAP_NAVIGATION_CONTROL_PAN: 2,
        BMAP_NAVIGATION_CONTROL_ZOOM: 3
    });
    var Ze = kb.prototype;
    S(Ze, {
        changeView: Ze.ce,
        setSize: Ze.yd,
        getSize: Ze.kb
    });
    var $e = jb.prototype;
    S($e, {
        getUnit: $e.aX,
        setUnit: $e.bF
    });
    S(window, {
        BMAP_UNIT_METRIC: "metric",
        BMAP_UNIT_IMPERIAL: "us"
    });
    var af = Wb.prototype;
    S(af, {
        addCopyright: af.Vv,
        removeCopyright: af.IE,
        getCopyright: af.Xl,
        getCopyrightCollection: af.mD
    });
    S(window, {
        BMAP_MAPTYPE_CONTROL_HORIZONTAL: Xb,
        BMAP_MAPTYPE_CONTROL_DROPDOWN: 1,
        BMAP_MAPTYPE_CONTROL_MAP: 2
    });
    var bf = Cc.prototype;
    S(bf, {
        getMapType: bf.la,
        getCopyright: bf.Xl,
        isTransparentPng: bf.Us
    });
    var cf = ac.prototype;
    S(cf, {
        addItem: cf.Xv,
        addSeparator: cf.yB,
        removeSeparator: cf.KE
    });
    var df = dc.prototype;
    S(df, {
        setText: df.At
    });
    var ef = V.prototype;
    S(ef, {
        getStatus: ef.cm,
        setSearchCompleteCallback: ef.$E,
        getPageCapacity: ef.Ye,
        setPageCapacity: ef.vp,
        setLocation: ef.Om,
        disableFirstResultSelection: ef.sC,
        enableFirstResultSelection: ef.PC,
        gotoPage: ef.hm,
        searchNearby: ef.pp,
        searchInBounds: ef.Lm,
        search: ef.search
    });
    S(window, {
        BMAP_STATUS_SUCCESS: 0,
        BMAP_STATUS_CITY_LIST: 1,
        BMAP_STATUS_UNKNOWN_LOCATION: 2,
        BMAP_STATUS_UNKNOWN_ROUTE: 3,
        BMAP_STATUS_INVALID_KEY: 4,
        BMAP_STATUS_INVALID_REQUEST: 5,
        BMAP_STATUS_PERMISSION_DENIED: 6,
        BMAP_STATUS_SERVICE_UNAVAILABLE: 7,
        BMAP_STATUS_TIMEOUT: 8
    });
    S(window, {
        BMAP_POI_TYPE_NORMAL: 0,
        BMAP_POI_TYPE_BUSSTOP: 1,
        BMAP_POI_TYPE_BUSLINE: 2,
        BMAP_POI_TYPE_SUBSTOP: 3,
        BMAP_POI_TYPE_SUBLINE: 4
    });
    S(window, {
        BMAP_TRANSIT_POLICY_LEAST_TIME: 0,
        BMAP_TRANSIT_POLICY_LEAST_TRANSFER: 2,
        BMAP_TRANSIT_POLICY_LEAST_WALKING: 3,
        BMAP_TRANSIT_POLICY_AVOID_SUBWAYS: 4,
        BMAP_LINE_TYPE_BUS: 0,
        BMAP_LINE_TYPE_SUBWAY: 1,
        BMAP_LINE_TYPE_FERRY: 2
    });
    var gf = od.prototype;
    S(gf, {
        clearResults: gf.Ae
    });
    qd = pd.prototype;
    S(qd, {
        setPolicy: qd.zt,
        toString: qd.toString,
        setPageCapacity: qd.vp
    });
    S(window, {
        BMAP_DRIVING_POLICY_LEAST_TIME: 0,
        BMAP_DRIVING_POLICY_LEAST_DISTANCE: 1,
        BMAP_DRIVING_POLICY_AVOID_HIGHWAYS: 2
    });
    S(window, {
        BMAP_MODE_DRIVING: "driving",
        BMAP_MODE_TRANSIT: "transit",
        BMAP_MODE_WALKING: "walking",
        BMAP_MODE_NAVIGATION: "navigation"
    });
    var hf = xd.prototype;
    S(hf, {
        routeCall: hf.dN
    });
    S(window, {
        BMAP_HIGHLIGHT_STEP: 1,
        BMAP_HIGHLIGHT_ROUTE: 2
    });
    S(window, {
        BMAP_ROUTE_TYPE_DRIVING: ad,
        BMAP_ROUTE_TYPE_WALKING: Zc
    });
    S(window, {
        BMAP_ROUTE_STATUS_NORMAL: bd,
        BMAP_ROUTE_STATUS_EMPTY: 1,
        BMAP_ROUTE_STATUS_ADDRESS: 2
    });
    var jf = sd.prototype;
    S(jf, {
        setPolicy: jf.zt
    });
    var kf = Fd.prototype;
    S(kf, {
        show: kf.show,
        hide: kf.J,
        setTypes: kf.aF,
        setLocation: kf.Om,
        search: kf.search,
        setInputValue: kf.by
    });
    S(mb.prototype, {});
    var lf = Dd.prototype;
    S(lf, {
        get: lf.get
    });
    S(Zb.prototype, {});
    S(bb.prototype, {});
    S(window, {
        BMAP_POINT_DENSITY_HIGH: 200,
        BMAP_POINT_DENSITY_MEDIUM: Oc,
        BMAP_POINT_DENSITY_LOW: 50
    });
    S(window, {
        BMAP_POINT_SHAPE_STAR: 1,
        BMAP_POINT_SHAPE_WATERDROP: 2,
        BMAP_POINT_SHAPE_CIRCLE: rc,
        BMAP_POINT_SHAPE_SQUARE: 4,
        BMAP_POINT_SHAPE_RHOMBUS: 5
    });
    S(window, {
        BMAP_POINT_SIZE_TINY: 1,
        BMAP_POINT_SIZE_SMALLER: 2,
        BMAP_POINT_SIZE_SMALL: 3,
        BMAP_POINT_SIZE_NORMAL: sc,
        BMAP_POINT_SIZE_BIG: 5,
        BMAP_POINT_SIZE_BIGGER: 6,
        BMAP_POINT_SIZE_HUGE: 7
    });
    S(window, {
        BMap_Symbol_SHAPE_CAMERA: 11,
        BMap_Symbol_SHAPE_WARNING: 12,
        BMap_Symbol_SHAPE_SMILE: 13,
        BMap_Symbol_SHAPE_CLOCK: 14,
        BMap_Symbol_SHAPE_POINT: 9,
        BMap_Symbol_SHAPE_PLANE: 10,
        BMap_Symbol_SHAPE_CIRCLE: 1,
        BMap_Symbol_SHAPE_RECTANGLE: 2,
        BMap_Symbol_SHAPE_RHOMBUS: 3,
        BMap_Symbol_SHAPE_STAR: 4,
        BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW: 5,
        BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW: 6,
        BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW: 7,
        BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW: 8
    });
    S(window, {
        BMAP_CONTEXT_MENU_ICON_ZOOMIN: bc,
        BMAP_CONTEXT_MENU_ICON_ZOOMOUT: cc
    });
    z.jU();
}
)()
